"use strict";(self["webpackChunkthedaoscapefrontend"]=self["webpackChunkthedaoscapefrontend"]||[]).push([[4128],{50293:(e,t,o)=>{o.r(t),o.d(t,{default:()=>ia});var a=o(34182);const n={class:"row bg-secondary items-center justify-between",style:{height:"60px"}},l={class:"q-ml-md"},r={class:"q-mx-md"};function i(e,t,o,i,c,s){const d=(0,a.resolveComponent)("page-header"),m=(0,a.resolveComponent)("q-btn"),u=(0,a.resolveComponent)("config-editor"),p=(0,a.resolveComponent)("q-tab-panel"),h=(0,a.resolveComponent)("config-updater"),g=(0,a.resolveComponent)("q-tab-panels"),C=(0,a.resolveComponent)("q-card"),_=(0,a.resolveComponent)("manage-modules"),f=(0,a.resolveComponent)("q-page");return(0,a.openBlock)(),(0,a.createBlock)(f,{padding:"",class:"constrain-page-width"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",n,[(0,a.createElementVNode)("div",l,[(0,a.createVNode)(d,{title:"Configuration",colorClass:"text-primary"})]),(0,a.createElementVNode)("div",r,["config_view"==e.view_panel?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,disabled:!e.getCoreConfigDeltas,label:`changes (${e.getCoreConfigDeltas?e.getCoreConfigDeltas.length:0})`,onClick:t[0]||(t[0]=t=>e.view_panel="update_view"),color:"primary"},null,8,["disabled","label"])):(0,a.createCommentVNode)("",!0),"update_view"==e.view_panel?((0,a.openBlock)(),(0,a.createBlock)(m,{key:1,flat:"",label:"go back",onClick:t[1]||(t[1]=t=>e.view_panel="config_view"),color:"primary"})):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(g,{"keep-alive":"",modelValue:e.view_panel,"onUpdate:modelValue":t[2]||(t[2]=t=>e.view_panel=t),animated:"",class:"fit","transition-prev":"scale","transition-next":"scale"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{name:"config_view",class:"no-padding overflow-hidden"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u)])),_:1}),(0,a.createVNode)(p,{name:"update_view",class:"no-padding overflow-hidden"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h)])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,a.createVNode)(_,{class:"q-mt-md"})])),_:1})}var c=o(55250),s=o(33314);const d={class:"q-pa-md"},m={class:"row items-center"},u=(0,a.createElementVNode)("p",null,"This is the main account of the group.",-1),p=(0,a.createElementVNode)("p",null," This module is enabled by default and can't be turned off. It enables all core features of the group account. ",-1),h=(0,a.createElementVNode)("p",null,'You can enable additional functionallity in the "Modules" section.',-1),g=(0,a.createElementVNode)("p",null,"Configure the group by clicking the items.",-1),C=(0,a.createElementVNode)("p",null,' The maintainer account (can be another group!) will be added to the groups "owner" permission. This means that this account will (also) have full control over the group. By leaving this field blank this feature is disabled and the guardians are the only controlling accounts. ',-1);function _(e,t,o,n,l,r){const i=(0,a.resolveComponent)("q-btn"),c=(0,a.resolveComponent)("q-icon"),s=(0,a.resolveComponent)("q-tree"),_=(0,a.resolveComponent)("page-header"),f=(0,a.resolveComponent)("q-tab-panel"),v=(0,a.resolveComponent)("set-members"),w=(0,a.resolveComponent)("set-kyc"),N=(0,a.resolveComponent)("set-guardians"),V=(0,a.resolveComponent)("set-maintainance-account"),b=(0,a.resolveComponent)("set-proposals"),k=(0,a.resolveComponent)("set-internal-accounting"),x=(0,a.resolveComponent)("code-deployer"),y=(0,a.resolveComponent)("update-color"),q=(0,a.resolveComponent)("action-proposer"),E=(0,a.resolveComponent)("update-logo"),B=(0,a.resolveComponent)("update-about"),A=(0,a.resolveComponent)("update-links"),Z=(0,a.resolveComponent)("q-tab-panels"),Q=(0,a.resolveComponent)("q-splitter");return e.getNewCoreConfig?((0,a.openBlock)(),(0,a.createBlock)(Q,{key:0,modelValue:e.splitterModel,"onUpdate:modelValue":t[3]||(t[3]=t=>e.splitterModel=t),"separator-class":"bg-secondary",horizontal:!1},{separator:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{icon:"compare_arrows",round:"",color:"primary",dense:"",size:"11px"})])),before:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",d,[(0,a.createVNode)(s,{"control-color":"primary",nodes:e.getGroupTree(),"node-key":"label","selected-color":"primary",selected:e.selected,"onUpdate:selected":t[0]||(t[0]=t=>e.selected=t),expanded:e.expanded,"onUpdate:expanded":t[1]||(t[1]=t=>e.expanded=t),"default-expand-all":!1,accordion:!0},{"default-header":(0,a.withCtx)((e=>[(0,a.createElementVNode)("div",m,[e.node.icon?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,name:e.node.icon,color:"",size:"28px",class:"q-mr-sm"},null,8,["name"])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",null,(0,a.toDisplayString)(e.node.label),1)])])),_:1},8,["nodes","selected","expanded"])])])),after:(0,a.withCtx)((()=>[(0,a.createVNode)(Z,{modelValue:e.selected,"onUpdate:modelValue":t[2]||(t[2]=t=>e.selected=t),animated:"",class:"full-height","transition-prev":"jump-up","transition-next":"jump-up"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{name:e.getActiveGroup.toUpperCase(),class:"overflow-hidden"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{title:e.getActiveGroup},null,8,["title"]),u])),_:1},8,["name"]),(0,a.createVNode)(f,{name:"Core",class:"overflow-hidden"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{title:"Core Module"}),p,h,g])),_:1}),(0,a.createVNode)(f,{name:"Members",class:"overflow-hidden"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{title:"Members"}),(0,a.createVNode)(v)])),_:1}),(0,a.createVNode)(f,{name:"KYC",class:"overflow-hidden"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{title:"KYC"}),(0,a.createVNode)(w)])),_:1}),(0,a.createVNode)(f,{name:"Guardians",class:"overflow-hidden"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{title:"Guardians"}),(0,a.createVNode)(N)])),_:1}),(0,a.createVNode)(f,{name:"Maintainer Account",class:"overflow-hidden"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{title:"Maintainer Account"}),C,(0,a.createVNode)(V)])),_:1}),(0,a.createVNode)(f,{name:"Proposals",class:"overflow-hidden"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{title:"Proposals"}),(0,a.createVNode)(b)])),_:1}),(0,a.createVNode)(f,{name:"Internal Accounting",class:"overflow-hidden"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{title:"Internal Accounting"}),(0,a.createVNode)(k)])),_:1}),(0,a.createVNode)(f,{name:"Update Code",class:"overflow-hidden"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{title:"Update Core Code"}),(0,a.createVNode)(x,{module:{module_name:"core",slave_permission:{actor:e.getActiveGroup,permission:"owner"},has_contract:!0}},null,8,["module"])])),_:1}),(0,a.createVNode)(f,{name:"Color",class:"overflow-hidden"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{title:"UI Color"}),(0,a.createVNode)(q,null,{default:(0,a.withCtx)((e=>[(0,a.createVNode)(y,{onPropose:e.propose,onAddtobucket:e.addtobucket},null,8,["onPropose","onAddtobucket"])])),_:1})])),_:1}),(0,a.createVNode)(f,{name:"Logo",class:"overflow-hidden"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{title:"Logo"}),(0,a.createVNode)(q,null,{default:(0,a.withCtx)((e=>[(0,a.createVNode)(E)])),_:1})])),_:1}),(0,a.createVNode)(f,{name:"About",class:"overflow-hidden"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{title:"About"}),(0,a.createVNode)(q,null,{default:(0,a.withCtx)((e=>[(0,a.createVNode)(B)])),_:1})])),_:1}),(0,a.createVNode)(f,{name:"Links",class:"overflow-hidden"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(_,{title:"Links"}),(0,a.createVNode)(q,null,{default:(0,a.withCtx)((e=>[(0,a.createVNode)(A)])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])):(0,a.createCommentVNode)("",!0)}const f=(0,a.createElementVNode)("div",null,"SEC",-1);function v(e,t,o,n,l,r){const i=(0,a.resolveComponent)("q-icon"),c=(0,a.resolveComponent)("q-input");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createVNode)(c,{outlined:"",label:"Max number of guardians",type:"number",modelValue:e.getNewCoreConfig.conf.max_guardians,"onUpdate:modelValue":t[0]||(t[0]=t=>e.getNewCoreConfig.conf.max_guardians=t),onInput:t[1]||(t[1]=t=>e.$store.commit("group/setNewCoreConfigPath",{path:"conf.max_guardians",value:Number(t)}))},{prepend:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{name:"mdi-account-key"})])),_:1},8,["modelValue"]),(0,a.createVNode)(c,{class:"q-mt-md",outlined:"",label:"Inactivate guardian after inactivity seconds",type:"number",modelValue:e.getNewCoreConfig.conf.inactivate_cust_after_sec,"onUpdate:modelValue":t[2]||(t[2]=t=>e.getNewCoreConfig.conf.inactivate_cust_after_sec=t),onInput:t[3]||(t[3]=t=>e.$store.commit("group/setNewCoreConfigPath",{path:"conf.inactivate_cust_after_sec",value:Number(t)}))},{prepend:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{name:"mdi-heart"})])),append:(0,a.withCtx)((()=>[f])),_:1},8,["modelValue"])])}const w=(0,a.defineComponent)({data(){return{}},computed:{...(0,c.Se)({getNewCoreConfig:"group/getNewCoreConfig"})}});var N=o(74260),V=o(64689),b=o(24554),k=o(7518),x=o.n(k);const y=(0,N.Z)(w,[["render",v]]),q=y;x()(w,"components",{QInput:V.Z,QIcon:b.Z});const E=(0,a.createTextVNode)("Enable Internal Transfers"),B=(0,a.createTextVNode)("Enable Deposits"),A=(0,a.createTextVNode)("Enable Withdrawals");function Z(e,t,o,n,l,r){const i=(0,a.resolveComponent)("q-item-label"),c=(0,a.resolveComponent)("q-item-section"),s=(0,a.resolveComponent)("q-toggle"),d=(0,a.resolveComponent)("q-item"),m=(0,a.resolveComponent)("q-list");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createVNode)(m,{separator:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,null,{default:(0,a.withCtx)((()=>[E])),_:1})])),_:1}),(0,a.createVNode)(c,{side:""},{default:(0,a.withCtx)((()=>[e.getNewCoreConfig?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,"true-value":1,"false-value":0,modelValue:e.getNewCoreConfig.conf.internal_transfers,"onUpdate:modelValue":t[0]||(t[0]=t=>e.getNewCoreConfig.conf.internal_transfers=t),color:"positive",onInput:t[1]||(t[1]=t=>e.$store.commit("group/setNewCoreConfigPath",{path:"conf.internal_transfers",value:Number(t)}))},null,8,["modelValue"])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1}),(0,a.createVNode)(d,{clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,null,{default:(0,a.withCtx)((()=>[B])),_:1})])),_:1}),(0,a.createVNode)(c,{side:""},{default:(0,a.withCtx)((()=>[e.getNewCoreConfig?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,"true-value":1,"false-value":0,modelValue:e.getNewCoreConfig.conf.deposits,"onUpdate:modelValue":t[2]||(t[2]=t=>e.getNewCoreConfig.conf.deposits=t),color:"positive",onInput:t[3]||(t[3]=t=>e.$store.commit("group/setNewCoreConfigPath",{path:"conf.deposits",value:Number(t)}))},null,8,["modelValue"])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1}),(0,a.createVNode)(d,{clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,null,{default:(0,a.withCtx)((()=>[A])),_:1})])),_:1}),(0,a.createVNode)(c,{side:""},{default:(0,a.withCtx)((()=>[e.getNewCoreConfig?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,"true-value":1,"false-value":0,modelValue:e.getNewCoreConfig.conf.withdrawals,"onUpdate:modelValue":t[4]||(t[4]=t=>e.getNewCoreConfig.conf.withdrawals=t),color:"positive",onInput:t[5]||(t[5]=t=>e.$store.commit("group/setNewCoreConfigPath",{path:"conf.withdrawals",value:Number(t)}))},null,8,["modelValue"])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])),_:1})])}const Q=(0,a.defineComponent)({data(){return{}},computed:{...(0,c.Se)({getNewCoreConfig:"group/getNewCoreConfig"})}});var S=o(27011),$=o(83414),U=o(52035),T=o(2350),I=o(28886);const G=(0,N.Z)(Q,[["render",Z]]),P=G;x()(Q,"components",{QInput:V.Z,QIcon:b.Z,QList:S.Z,QItem:$.Z,QItemSection:U.Z,QItemLabel:T.Z,QToggle:I.Z});const L=(0,a.createTextVNode)('Auto execute "immediate" threshold');function M(e,t,o,n,l,r){const i=(0,a.resolveComponent)("q-icon"),c=(0,a.resolveComponent)("q-input"),s=(0,a.resolveComponent)("q-item-label"),d=(0,a.resolveComponent)("q-item-section"),m=(0,a.resolveComponent)("q-toggle"),u=(0,a.resolveComponent)("q-item"),p=(0,a.resolveComponent)("q-list");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createVNode)(c,{outlined:"",label:"Proposal History Size",type:"number",modelValue:e.getNewCoreConfig.conf.proposal_archive_size,"onUpdate:modelValue":t[0]||(t[0]=t=>e.getNewCoreConfig.conf.proposal_archive_size=t),onInput:t[1]||(t[1]=t=>e.$store.commit("group/setNewCoreConfigPath",{path:"conf.proposal_archive_size",value:Number(t)}))},{prepend:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{name:"mdi-history"})])),_:1},8,["modelValue"]),(0,a.createVNode)(p,{separator:"",class:"q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[L])),_:1})])),_:1}),(0,a.createVNode)(d,{side:""},{default:(0,a.withCtx)((()=>[e.getNewCoreConfig?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,"true-value":1,"false-value":0,modelValue:e.getNewCoreConfig.conf.exec_on_threshold_zero,"onUpdate:modelValue":t[2]||(t[2]=t=>e.getNewCoreConfig.conf.exec_on_threshold_zero=t),color:"positive",onInput:t[3]||(t[3]=t=>e.$store.commit("group/setNewCoreConfigPath",{path:"conf.exec_on_threshold_zero",value:Number(t)}))},null,8,["modelValue"])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])),_:1})])}const D=(0,a.defineComponent)({data(){return{}},computed:{...(0,c.Se)({getNewCoreConfig:"group/getNewCoreConfig"})}}),z=(0,N.Z)(D,[["render",M]]),F=z;x()(D,"components",{QInput:V.Z,QIcon:b.Z,QList:S.Z,QItem:$.Z,QItemSection:U.Z,QItemLabel:T.Z,QToggle:I.Z});const R={class:"row items-center justify-between no-wrap"},O=(0,a.createTextVNode)(" @ ");function j(e,t,o,n,l,r){const i=(0,a.resolveComponent)("q-input");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createElementVNode)("div",R,[(0,a.createVNode)(i,{style:{"min-width":"200px"},class:"q-mr-xs",modelValue:e.getNewCoreConfig.conf.maintainer_account.actor,"onUpdate:modelValue":t[0]||(t[0]=t=>e.getNewCoreConfig.conf.maintainer_account.actor=t),onInput:t[1]||(t[1]=t=>e.$store.commit("group/setNewCoreConfigPath",{path:"conf.maintainer_account.actor",value:t})),label:"Actor",outlined:"",maxlength:"12",debounce:500,"bottom-slots":"",placeholder:"name of the account","no-error-icon":""},null,8,["modelValue"]),(0,a.createVNode)(i,{style:{width:"100%"},ref:"permission",modelValue:e.getNewCoreConfig.conf.maintainer_account.permission,"onUpdate:modelValue":t[2]||(t[2]=t=>e.getNewCoreConfig.conf.maintainer_account.permission=t),onInput:t[3]||(t[3]=t=>e.$store.commit("group/setNewCoreConfigPath",{path:"conf.maintainer_account.permission",value:t})),label:"Permission",outlined:"","bottom-slots":"",placeholder:"permission to use","no-error-icon":""},{prepend:(0,a.withCtx)((()=>[O])),_:1},8,["modelValue"])])])}const H=(0,a.defineComponent)({data(){return{}},computed:{...(0,c.Se)({getNewCoreConfig:"group/getNewCoreConfig"})}}),J=(0,N.Z)(H,[["render",j]]),W=J;x()(H,"components",{QInput:V.Z});const K=(0,a.createTextVNode)("Enable member registration"),Y=(0,a.createTextVNode)("Enable userterms/constitution");function X(e,t,o,n,l,r){const i=(0,a.resolveComponent)("q-item-label"),c=(0,a.resolveComponent)("q-item-section"),s=(0,a.resolveComponent)("q-toggle"),d=(0,a.resolveComponent)("q-item"),m=(0,a.resolveComponent)("q-list");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createVNode)(m,{separator:"",class:"q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,null,{default:(0,a.withCtx)((()=>[K])),_:1})])),_:1}),(0,a.createVNode)(c,{side:""},{default:(0,a.withCtx)((()=>[e.getNewCoreConfig?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,"true-value":1,"false-value":0,modelValue:e.getNewCoreConfig.conf.member_registration,"onUpdate:modelValue":t[0]||(t[0]=t=>e.getNewCoreConfig.conf.member_registration=t),color:"positive",onInput:t[1]||(t[1]=t=>e.$store.commit("group/setNewCoreConfigPath",{path:"conf.member_registration",value:Number(t)}))},null,8,["modelValue"])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1}),(0,a.createVNode)(d,{clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,null,{default:(0,a.withCtx)((()=>[Y])),_:1})])),_:1}),(0,a.createVNode)(c,{side:""},{default:(0,a.withCtx)((()=>[e.getNewCoreConfig?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,"true-value":1,"false-value":0,modelValue:e.getNewCoreConfig.conf.userterms,"onUpdate:modelValue":t[2]||(t[2]=t=>e.getNewCoreConfig.conf.userterms=t),color:"positive",onInput:t[3]||(t[3]=t=>e.$store.commit("group/setNewCoreConfigPath",{path:"conf.userterms",value:Number(t)}))},null,8,["modelValue"])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])),_:1})])}const ee=(0,a.defineComponent)({data(){return{}},computed:{...(0,c.Se)({getNewCoreConfig:"group/getNewCoreConfig"})}}),te=(0,N.Z)(ee,[["render",X]]),oe=te;x()(ee,"components",{QList:S.Z,QItem:$.Z,QItemSection:U.Z,QItemLabel:T.Z,QToggle:I.Z});const ae=(0,a.createTextVNode)("Enable Proton KYC"),ne=(0,a.createTextVNode)("Enable Freeos Participation Requirement");function le(e,t,o,n,l,r){const i=(0,a.resolveComponent)("q-item-label"),c=(0,a.resolveComponent)("q-item-section"),s=(0,a.resolveComponent)("q-toggle"),d=(0,a.resolveComponent)("q-item"),m=(0,a.resolveComponent)("q-list");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createVNode)(m,{separator:"",class:"q-mt-md"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,null,{default:(0,a.withCtx)((()=>[ae])),_:1})])),_:1}),(0,a.createVNode)(c,{side:""},{default:(0,a.withCtx)((()=>[e.getNewCoreConfig?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,"true-value":1,"false-value":0,modelValue:e.getNewCoreConfig.conf.proton_kyc_enabled,"onUpdate:modelValue":t[0]||(t[0]=t=>e.getNewCoreConfig.conf.proton_kyc_enabled=t),color:"positive",onInput:t[1]||(t[1]=t=>e.$store.commit("group/setNewCoreConfigPath",{path:"conf.proton_kyc_enabled",value:Number(t)}))},null,8,["modelValue"])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1}),(0,a.createVNode)(d,{clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,null,{default:(0,a.withCtx)((()=>[ne])),_:1})])),_:1}),(0,a.createVNode)(c,{side:""},{default:(0,a.withCtx)((()=>[e.getNewCoreConfig?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,"true-value":1,"false-value":0,modelValue:e.getNewCoreConfig.conf.freeos_participation_enabled,"onUpdate:modelValue":t[2]||(t[2]=t=>e.getNewCoreConfig.conf.freeos_participation_enabled=t),color:"positive",onInput:t[3]||(t[3]=t=>e.$store.commit("group/setNewCoreConfigPath",{path:"conf.freeos_participation_enabled",value:Number(t)}))},null,8,["modelValue"])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])),_:1})])}const re=(0,a.defineComponent)({data(){return{}},computed:{...(0,c.Se)({getNewCoreConfig:"group/getNewCoreConfig"})}}),ie=(0,N.Z)(re,[["render",le]]),ce=ie;x()(re,"components",{QList:S.Z,QItem:$.Z,QItemSection:U.Z,QItemLabel:T.Z,QToggle:I.Z});var se=o(98062);const de={class:"row"},me=["onClick"],ue={class:"text-grey-7"},pe={class:"q-mt-md row justify-end"},he={class:"q-mb-xs"};function ge(e,t,o,n,l,r){const i=(0,a.resolveComponent)("q-icon"),c=(0,a.resolveComponent)("q-btn"),s=(0,a.resolveComponent)("propose-bucket-btn");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createElementVNode)("div",de,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.palette,(t=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{style:(0,a.normalizeStyle)(`background-color: ${t}; width: ${e.palette_size}; height:${e.palette_size}`),key:`${t}`,onClick:o=>e.setNewColor(t),class:"row items-center justify-center cursor-pointer"},[(0,a.createVNode)(a.Transition,{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut",mode:"out-in"},{default:(0,a.withCtx)((()=>[e.new_hexcolor==t?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,name:"check",color:"white"})):(0,a.createCommentVNode)("",!0)])),_:2},1024)],12,me)))),128))]),(0,a.createElementVNode)("div",ue,(0,a.toDisplayString)(e.new_hexcolor),1),(0,a.createElementVNode)("div",pe,[e.isColorChanged?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,icon:"remove_red_eye",round:"",size:"sm",flat:"",color:"primary",onClick:t[0]||(t[0]=t=>e.setNewColor(e.getActiveGroupConfig.ui.hexcolor))})):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",he,[(0,a.createVNode)(s,{onClickPropose:e.emitPropose,onClickBucket:e.emitBucket,label:"Update Color",disabled:!e.isColorChanged},null,8,["onClickPropose","onClickBucket","disabled"])])])])}var Ce=o(94398),_e=o(92287);const fe=(0,a.defineComponent)({name:"updatecolor",components:{proposeBucketBtn:_e.Z},data(){return{palette:["#019A9D","#D9B801","#E8045A","#B2028A","#7DC6EC","#7CB342","#F4511E","#FF9A17","#798CEF","#9E8D67","#3399FF"],palette_size:"35px",new_hexcolor:""}},computed:{...(0,c.Se)({getActiveGroup:"group/getActiveGroup",getActiveGroupConfig:"group/getActiveGroupConfig",getAppConfig:"app/getAppConfig"}),isColorChanged(){return!(!this.getActiveGroupConfig||this.new_hexcolor==this.getActiveGroupConfig.ui.hexcolor)}},methods:{setNewColor(e){this.new_hexcolor=e,(0,Ce.Z)("primary",e)},emitPropose(){let e={account:this.getAppConfig.groups_contract,name:"updatecolor",data:{groupname:this.getActiveGroup,hexcolor:this.new_hexcolor}};const t={actions:[e],description:`Proposal to update the UI color "${this.getActiveGroup}"`,title:"Update Color"};this.$emit("propose",t)},emitBucket(){let e={account:this.getAppConfig.groups_contract,name:"updatecolor",data:{groupname:this.getActiveGroup,hexcolor:this.new_hexcolor}};this.$emit("addtobucket",e)}},watch:{getActiveGroupConfig:{immediate:!0,handler(e,t){e&&(this.new_hexcolor=this.getActiveGroupConfig.ui.hexcolor.toUpperCase())}}}});var ve=o(2165);const we=(0,N.Z)(fe,[["render",ge]]),Ne=we;x()(fe,"components",{QIcon:b.Z,QBtn:ve.Z});var Ve=o(46784);const be={class:"q-mt-md"},ke={class:"q-mt-md"},xe=(0,a.createElementVNode)("p",{class:"text-subtitle text-uppercase"},"Preview:",-1),ye={class:"q-mt-md row justify-end"};function qe(e,t,o,n,l,r){const i=(0,a.resolveComponent)("q-input"),c=(0,a.resolveComponent)("q-markdown"),s=(0,a.resolveComponent)("q-btn");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createElementVNode)("div",be,[(0,a.createVNode)(i,{outlined:"",modelValue:e.new_about,"onUpdate:modelValue":t[0]||(t[0]=t=>e.new_about=t),placeholder:"About the group",type:"textarea"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",ke,[xe,(0,a.createVNode)(c,{class:"text-caption text-weight-light",src:e.new_about,"no-abbreviation":!1},null,8,["src"])]),(0,a.createElementVNode)("div",ye,[(0,a.createVNode)(s,{disabled:!e.isAboutChanged,label:"update",color:"primary",onClick:e.proposeAboutUpdate},null,8,["disabled","onClick"])])])}const Ee=(0,a.defineComponent)({name:"updateAbout",data(){return{new_about:""}},computed:{...(0,c.Se)({getActiveGroup:"group/getActiveGroup",getActiveGroupConfig:"group/getActiveGroupConfig",getAppConfig:"app/getAppConfig"}),isAboutChanged(){return!(!this.getActiveGroupConfig||this.new_about==this.getActiveGroupConfig.meta.about)}},methods:{async proposeAboutUpdate(){let e={account:this.getAppConfig.groups_contract,name:"updateabout",data:{groupname:this.getActiveGroup,about:this.new_about}};const t="Update About",o="Propose to update the about.";this.$store.dispatch("group/propose",{data:{actions:[e],description:o,title:t},vm:this})}},watch:{getActiveGroupConfig:{immediate:!0,handler(e,t){e&&(this.new_about=this.getActiveGroupConfig.meta.about)}}}}),Be=(0,N.Z)(Ee,[["render",qe]]),Ae=Be;x()(Ee,"components",{QInput:V.Z,QBtn:ve.Z});const Ze={class:"q-mt-md"},Qe={class:"q-mb-md row q-gutter-sm items-center"},Se={class:"col-xs-12 col-sm-4"},$e={class:"col-xs-12 col-sm-6"},Ue={class:"col-xs-12 col-sm-1 text-center"},Te={class:"q-mb-md row q-gutter-sm items-center"},Ie=(0,a.createElementVNode)("div",{class:"col-xs-12 col-sm-4"},null,-1),Ge=(0,a.createElementVNode)("div",{class:"col-xs-12 col-sm-6"},null,-1),Pe={class:"col-xs-12 col-sm-1 text-center"},Le={class:"q-mt-md"},Me=(0,a.createElementVNode)("p",{class:"text-subtitle text-uppercase"},"Preview:",-1),De={class:"q-mt-md row justify-end"};function ze(e,t,o,n,l,r){const i=(0,a.resolveComponent)("q-select"),c=(0,a.resolveComponent)("q-input"),s=(0,a.resolveComponent)("q-btn"),d=(0,a.resolveComponent)("groupLinks");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createElementVNode)("div",Ze,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.new_links,((t,o)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",Qe,[(0,a.createElementVNode)("div",Se,[(0,a.createVNode)(i,{class:"col-auto",outlined:"",modelValue:t.icon,"onUpdate:modelValue":[e=>t.icon=e,t=>e.updateLabel(o)],options:e.linkOptions,label:"Link Type","emit-value":"","map-options":""},null,8,["modelValue","onUpdate:modelValue","options"])]),(0,a.createElementVNode)("div",$e,[(0,a.createVNode)(c,{class:"col-auto",modelValue:t.url,"onUpdate:modelValue":e=>t.url=e,label:"URL",outlined:""},null,8,["modelValue","onUpdate:modelValue"])]),(0,a.createElementVNode)("div",Ue,[(0,a.createVNode)(s,{icon:"mdi-delete-forever-outline",round:"",size:"sm",color:"red",onClick:t=>e.deleteLink(o)},null,8,["onClick"])])])))),256)),(0,a.createElementVNode)("div",Te,[Ie,Ge,(0,a.createElementVNode)("div",Pe,[(0,a.createVNode)(s,{color:"secondary",round:"",size:"sm",icon:"mdi-plus-circle-outline",onClick:e.addLink},null,8,["onClick"])])])]),(0,a.createElementVNode)("div",Le,[Me,(0,a.createElementVNode)("div",null,[(0,a.createVNode)(d,{links:e.new_links},null,8,["links"])])]),(0,a.createElementVNode)("div",De,[(0,a.createVNode)(s,{disabled:!e.isLinksChanged,label:"update",color:"primary",onClick:e.proposeLinksUpdate},null,8,["disabled","onClick"])])])}var Fe=o(13654);const Re=(0,a.defineComponent)({name:"updateLinks",components:{groupLinks:Fe.Z},data(){return{new_links:[],linkOptions:[{label:"Telegram",value:"mdi-telegram"},{label:"Twitter",value:"mdi-twitter"},{label:"Discord",value:"mdi-discord"},{label:"Snipcoins",value:"mdi-open-in-new"}],test:{label:"Discord",icon:"mdi-discord"}}},computed:{...(0,c.Se)({getActiveGroup:"group/getActiveGroup",getActiveGroupConfig:"group/getActiveGroupConfig",getAppConfig:"app/getAppConfig"}),isLinksChanged(){return!(!this.getActiveGroupConfig||this.isObjectsEqual(this.new_links,this.getActiveGroupConfig.meta.links))}},methods:{async proposeLinksUpdate(){let e={account:this.getAppConfig.groups_contract,name:"updatelinks",data:{groupname:this.getActiveGroup,newlinks:this.new_links}};const t="Update Links",o="Propose to update group links.";this.$store.dispatch("group/propose",{data:{actions:[e],description:o,title:t},vm:this})},deleteLink(e){this.new_links.splice(e,1)},addLink(){this.new_links.push({url:"",icon:"",label:""})},isObjectsEqual(e,t){return JSON.stringify(e)==JSON.stringify(t)},updateLabel(e){let t=this.new_links[e],o=this.linkOptions.filter((e=>e.value==t.icon));t.label=o[0].label}},watch:{getActiveGroupConfig:{immediate:!0,handler(e,t){e&&(this.new_links=JSON.parse(JSON.stringify(this.getActiveGroupConfig.meta.links)))}}}});var Oe=o(63314);const je=(0,N.Z)(Re,[["render",ze]]),He=je;x()(Re,"components",{QSelect:Oe.Z,QInput:V.Z,QBtn:ve.Z});const Je={key:0},We={key:"info"},Ke={class:"row"},Ye=(0,a.createTextVNode)(" account: "),Xe={key:0},et={key:"updatecode"},tt={key:"success"},ot=(0,a.createElementVNode)("div",{class:"text-subtitle1"},"Code Update Successfully Proposed",-1),at={class:"text-left"},nt=(0,a.createTextVNode)("You can view and share the multi-signature proposal at the following URL or click the button below: "),lt=["href"],rt={class:"q-mt-md"},it={key:0},ct={key:1,class:"row justify-between"};function st(e,t,o,n,l,r){const i=(0,a.resolveComponent)("explorer-link"),c=(0,a.resolveComponent)("code-selector"),s=(0,a.resolveComponent)("q-btn");return e.module?((0,a.openBlock)(),(0,a.createElementBlock)("div",Je,[(0,a.createVNode)(a.Transition,{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut",mode:"out-in"},{default:(0,a.withCtx)((()=>{var o,n;return["info"==e.view?((0,a.openBlock)(),(0,a.createElementBlock)("div",We,[(0,a.createElementVNode)("div",null,"module name: "+(0,a.toDisplayString)(e.module.module_name),1),(0,a.createElementVNode)("div",Ke,[Ye,(0,a.createVNode)(i,{accountname:e.module.slave_permission.actor},null,8,["accountname"])]),null!==(o=e.current_code_and_abi_hash)&&void 0!==o&&o.abi_hash&&null!==(n=e.current_code_and_abi_hash)&&void 0!==n&&n.code_hash?((0,a.openBlock)(),(0,a.createElementBlock)("div",Xe,[(0,a.createElementVNode)("div",null,"abi hash: "+(0,a.toDisplayString)(e.current_code_and_abi_hash.abi_hash),1),(0,a.createElementVNode)("div",null,"code hash: "+(0,a.toDisplayString)(e.current_code_and_abi_hash.code_hash),1)])):(0,a.createCommentVNode)("",!0)])):"update_code"==e.view?((0,a.openBlock)(),(0,a.createElementBlock)("div",et,[(0,a.createVNode)(c,{modelValue:e.new_hex,"onUpdate:modelValue":t[0]||(t[0]=t=>e.new_hex=t),onNewhex:e.newHex},null,8,["modelValue","onNewhex"])])):"success"==e.view?((0,a.openBlock)(),(0,a.createElementBlock)("div",tt,[ot,(0,a.createElementVNode)("p",at,[nt,(0,a.createElementVNode)("a",{title:"View MSIG Proposal",href:e.msig_transaction,target:"_blank"},(0,a.toDisplayString)(e.msig_transaction),9,lt)]),(0,a.createVNode)(s,{label:"View Proposal",color:"primary",href:e.msig_transaction,target:"_blank"},null,8,["href"])])):(0,a.createCommentVNode)("",!0)]})),_:1}),(0,a.createElementVNode)("div",rt,["info"==e.view?((0,a.openBlock)(),(0,a.createElementBlock)("div",it,[e.module.has_contract?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,label:"update code",onClick:t[1]||(t[1]=t=>e.view="update_code"),color:"primary"})):(0,a.createCommentVNode)("",!0)])):"update_code"==e.view?((0,a.openBlock)(),(0,a.createElementBlock)("div",ct,[(0,a.createVNode)(s,{label:"back",onClick:e.reset_view,color:"primary",flat:""},null,8,["onClick"]),(0,a.createVNode)(s,{label:"propose code update",onClick:e.proposeCodeUpdate,color:"primary",disabled:!e.can_propose_code_update,loading:e.is_proposing},null,8,["onClick","disabled","loading"])])):(0,a.createCommentVNode)("",!0)])])):(0,a.createCommentVNode)("",!0)}o(76701),o(65363);const dt={class:"column q-gutter-md"},mt={key:"remote",class:"row items-center"},ut=(0,a.createElementVNode)("div",{class:"q-mr-md hidden"},null,-1),pt=(0,a.createElementVNode)("div",{class:"q-mt-lg"},[(0,a.createElementVNode)("p",{class:"text-left"},[(0,a.createTextVNode)("The most recent version of The DAOScape Core contract "),(0,a.createElementVNode)("a",{target:"_blank",title:"The DAOScape Core contract",href:"https://github.com/FreeosDAO/daclifycore"},"can be found here.")])],-1),ht={key:"local",class:"row items-center"},gt={style:{width:"230px"},class:"q-mr-md"},Ct={style:{width:"230px"},class:"q-mr-md"},_t={class:"q-mr-md"},ft={key:"daclify",class:"row items-center no-wrap"},vt={class:"q-mr-md"};function wt(e,t,o,n,l,r){const i=(0,a.resolveComponent)("q-item-label"),c=(0,a.resolveComponent)("q-item-section"),s=(0,a.resolveComponent)("q-item"),d=(0,a.resolveComponent)("q-icon"),m=(0,a.resolveComponent)("q-select"),u=(0,a.resolveComponent)("q-input"),p=(0,a.resolveComponent)("q-file"),h=(0,a.resolveComponent)("q-btn"),g=(0,a.resolveComponent)("wasmCompiler");return(0,a.openBlock)(),(0,a.createElementBlock)("div",dt,[(0,a.createVNode)(m,{class:"hidden",outlined:"",modelValue:e.selected_src,"onUpdate:modelValue":t[0]||(t[0]=t=>e.selected_src=t),options:e.src_options,label:"Select source",onInput:e.emit_empty},{option:(0,a.withCtx)((e=>[(0,a.createVNode)(s,(0,a.normalizeProps)((0,a.guardReactiveProps)(e.itemProps)),{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{innerHTML:e.opt.label},null,8,["innerHTML"]),(0,a.createVNode)(i,{caption:"",innerHTML:e.opt.sublabel},null,8,["innerHTML"])])),_:2},1024)])),_:2},1040)])),prepend:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{name:"mdi-source-repository"})])),_:1},8,["modelValue","options","onInput"]),(0,a.createVNode)(a.Transition,{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut",mode:"out-in"},{default:(0,a.withCtx)((()=>["remote"==e.selected_src.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",mt,[(0,a.createVNode)(u,{label:"wasm url",outlined:"",modelValue:e.wasm_url,"onUpdate:modelValue":t[1]||(t[1]=t=>e.wasm_url=t),class:"q-mr-md q-mb-md hidden"},{prepend:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{name:"mdi-file-link"})])),_:1},8,["modelValue"]),(0,a.createVNode)(u,{label:"abi url",outlined:"",modelValue:e.abi_url,"onUpdate:modelValue":t[2]||(t[2]=t=>e.abi_url=t),class:"q-mr-md q-mb-md hidden"},{prepend:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{name:"mdi-file-link"})])),_:1},8,["modelValue"]),ut,pt])):"local"==e.selected_src.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",ht,[(0,a.createElementVNode)("div",gt,[(0,a.createVNode)(p,{outlined:"",clearable:"",counter:"",modelValue:e.wasm_file,"onUpdate:modelValue":t[3]||(t[3]=t=>e.wasm_file=t),label:"wasm file",accept:".wasm"},{prepend:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{name:"mdi-file-code"})])),_:1},8,["modelValue"])]),(0,a.createElementVNode)("div",Ct,[(0,a.createVNode)(p,{outlined:"",clearable:"",counter:"",modelValue:e.abi_file,"onUpdate:modelValue":t[4]||(t[4]=t=>e.abi_file=t),label:"abi file",accept:".abi"},{prepend:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{name:"mdi-file-code"})])),_:1},8,["modelValue"])]),(0,a.createElementVNode)("div",_t,[(0,a.createVNode)(h,{label:"load",color:"primary",onClick:e.compile_local},null,8,["onClick"])])])):"daclify"==e.selected_src.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",ft,[(0,a.createVNode)(m,{class:"q-mr-md",style:{width:"100%"},outlined:"",modelValue:e.daclify_registry_selection,"onUpdate:modelValue":t[5]||(t[5]=t=>e.daclify_registry_selection=t),options:e.daclify_registry_options,label:"Select version"},{option:(0,a.withCtx)((e=>[(0,a.createVNode)(s,(0,a.normalizeProps)((0,a.guardReactiveProps)(e.itemProps)),{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{innerHTML:e.opt.label},null,8,["innerHTML"]),(0,a.createVNode)(i,{caption:"",innerHTML:e.opt.sublabel},null,8,["innerHTML"])])),_:2},1024)])),_:2},1040)])),prepend:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{name:"mdi-expand-all"})])),_:1},8,["modelValue","options"]),(0,a.createElementVNode)("div",vt,[(0,a.createVNode)(h,{label:"load",color:"primary",onClick:t[6]||(t[6]=()=>{})})])])):(0,a.createCommentVNode)("",!0)])),_:1}),(0,a.createVNode)(g,{ref:"wasm_compiler"},null,512)])}var Nt=o(45139);const Vt=(0,a.defineComponent)({name:"codeSelector",components:{wasmCompiler:Nt.Z},emits:["newhex"],computed:{...(0,c.Se)({getActiveGroup:"group/getActiveGroup",getAppConfig:"app/getAppConfig"})},data(){return{selected_src:{label:"Remote",sublabel:"github, server, ... ",value:"remote"},src_options:[{label:"Remote",sublabel:"github, server, ... ",value:"remote"}],wasm_url:"",abi_url:"",wasm_file:[],abi_file:[],daclify_registry_selection:"",daclify_registry_options:[{label:"Todo",sublabel:"fetch code versions from register",value:"todo"}]}},mounted(){this.load_core()},methods:{emit_empty(){this.$emit("newhex",{code_hash:"",abi_hash:"",wasm:"",abi:""})},load_core(){this.wasm_url=`${this.getAppConfig.core_contract.raw}${this.getAppConfig.core_contract.wasm}`,this.abi_url=`${this.getAppConfig.core_contract.raw}${this.getAppConfig.core_contract.abi}`,this.load_remote()},async load_remote(){let e=await this.$refs.wasm_compiler.loadRemoteWasm(this.wasm_url),t=await this.$refs.wasm_compiler.loadRemoteAbi(this.abi_url),o={wasm:e.wasm,code_hash:e.code_hash,abi:t.abi,abi_hash:t.abi_hash};this.$emit("newhex",o)},async compile_local(){let e=await this.$refs._readLocalFile(this.wasm_file,!0),t=await this.$refs._readLocalFile(this.abi_file,!1);e=this.$refs.wasm_compiler.buf2hex(e),t=await this.$refs.wasm_compiler.parseAbi(t);let o={wasm:e,code_hash:this.$refs.wasm_compiler.sha256(e),abi:t,abi_hash:this.$refs.wasm_compiler.sha256(t)};this.$emit("newhex",o)}}});var bt=o(81052);const kt=(0,N.Z)(Vt,[["render",wt]]),xt=kt;x()(Vt,"components",{QSelect:Oe.Z,QItem:$.Z,QItemSection:U.Z,QItemLabel:T.Z,QIcon:b.Z,QInput:V.Z,QBtn:ve.Z,QFile:bt.Z});var yt=o(16336),qt=o(3573),Et=o(72663),Bt=o(40019);const At=(0,a.defineComponent)({name:"codeDeployer",props:{module:""},components:{codeSelector:xt,explorerLink:qt.Z},data(){return{view:"info",current_code_and_abi_hash:"",new_hex:{wasm:"",abi:"",abi_hash:"",wasm_hash:""},is_proposing:!1,proposal_name:"",msig_transaction:null}},computed:{...(0,c.Se)({getRpcEndpoints:"proton/getRpcEndpoints",getAccountName:"proton/getAccountName",getActiveGroup:"group/getActiveGroup",getGuardians:"group/getGuardians",getSelectedBlockExplorer:"user/getSelectedBlockExplorer"}),can_propose_code_update(){if(this.new_hex.wasm&&this.new_hex.abi)return!0}},methods:{reset_view(){this.view="info",this.new_hex={wasm:"",abi:"",abi_hash:"",code_hash:""}},async proposeCodeUpdate(){this.is_proposing=!0;try{const e=[{account:"eosio",name:"setabi",authorization:[{actor:this.module.slave_permission.actor,permission:"active"}],data:{account:this.module.slave_permission.actor,abi:this.new_hex.abi}},{account:"eosio",name:"setcode",data:{account:this.module.slave_permission.actor,vmtype:0,vmversion:0,code:this.new_hex.wasm},authorization:[{actor:this.module.slave_permission.actor,permission:"active"}]}];let t=[];e.forEach((async e=>{const o=await this.$eos.api.getContract(e.account),a=await this.$eos.Serialize.serializeAction(o,e.account,e.name,e.authorization,e.data);t.push(a)}));let o=this.getGuardians.filter((e=>e.alive)).map((e=>({actor:e.account,permission:"active"})));Bt.log("requested",o);const a=new Date;let n=new Date(a.setDate(a.getDate()+7));n=n.toISOString().slice(0,19);let l=`udao${a.toLocaleString("en-US",{month:"short"}).toLowerCase()}${this.shortHash()}`;const r=await this.$eos.api.rpc.get_table_rows({json:!0,code:"eosio.msig",scope:this.getAccountName,table:"proposal",limit:-1});if(Bt.log("existingProposals",r),r&&r.rows){const e=r.rows.filter((e=>e.proposal_name.includes(l)));if(e.length>=6)throw Error("Your account can only propose upgrading the same contract up to 6 times per month.");e.length&&(l+=e.length)}this.proposal_name=l;const i={proposer:this.getAccountName,proposal_name:l,requested:o,trx:{expiration:n,ref_block_num:0,ref_block_prefix:0,max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,context_free_actions:[],actions:t,transaction_extensions:[]}};let c=await this.$store.dispatch("proton/transact",{actions:[{account:"eosio.msig",name:"propose",authorization:[{actor:this.getAccountName,permission:"active"}],data:i}],disable_signing_overlay:!0});if(!c)throw new Error("User cancelled transaction");this.msig_transaction=`${this.getSelectedBlockExplorer.base}msig/${this.getAccountName}/${this.proposal_name}`,this.view="success"}catch(e){Bt.error(e);let t="message"in e?e.message:"Something went wrong";if("User cancelled transaction"===t)return;(0,Et.cB)({message:t})}finally{this.is_proposing=!1}},newHex(e){this.new_hex=e},shortHash(){let e=this.new_hex.code_hash.slice(-4),t=[{search:"0",replace:"1"},{search:"6",replace:"2"},{search:"7",replace:"3"},{search:"8",replace:"4"},{search:"9",replace:"5"}];return t.forEach((t=>{e=e.replace(t.search,t.replace)})),e}},watch:{module:{immediate:!0,handler:async function(e,t){e&&e!=t&&e.slave_permission&&""===this.current_code_and_abi_hash&&(this.current_code_and_abi_hash=await(0,yt.dr)(this.getRpcEndpoints,this.module.slave_permission.actor,this))}}},mounted(){this.msig_transaction=`${this.getSelectedBlockExplorer.base}msig/${this.getAccountName}/${this.proposal_name}`}}),Zt=(0,N.Z)(At,[["render",st]]),Qt=Zt;x()(At,"components",{QBtn:ve.Z});var St=[{label:"testtttt",icon:"mdi-account-group",children:[{label:"Core",icon:"mdi-settings",children:[{label:"Guardians"},{label:"Proposals"},{label:"Members"},{label:"Internal Accounting"},{label:"KYC"},{label:"Maintainer Account"}]},{label:"Meta & UI",icon:"mdi-television-guide",children:[{label:"Color"},{label:"Logo"},{label:"About"},{label:"Links"}]},{label:"Update Code",icon:"mdi-file-upload"}]}];const $t=(0,a.defineComponent)({name:"groupSubaccounts",components:{setGuardians:q,setInternalAccounting:P,setProposals:F,setMembers:oe,setKyc:ce,pageHeader:s.Z,updateColor:Ne,actionProposer:se.Z,codeDeployer:Qt,updateLogo:Ve.Z,updateAbout:Ae,updateLinks:He,setMaintainanceAccount:W},data(){return{splitterModel:40,selected:"Modules",expanded:[],expand_all:!1}},computed:{...(0,c.Se)({getActiveGroup:"group/getActiveGroup",getNewCoreConfig:"group/getNewCoreConfig"})},methods:{getGroupTree(){return St[0].label=this.getActiveGroup.toUpperCase(),St}},mounted(){this.expanded.push(this.$route.params.groupname.toUpperCase())}});var Ut=o(80218),Tt=o(55078),It=o(5906),Gt=o(86602);const Pt=(0,N.Z)($t,[["render",_]]),Lt=Pt;x()($t,"components",{QSplitter:Ut.Z,QBtn:ve.Z,QTree:Tt.Z,QIcon:b.Z,QTabPanels:It.Z,QTabPanel:Gt.Z});const Mt={class:""},Dt=(0,a.createElementVNode)("thead",null,[(0,a.createElementVNode)("tr",null,[(0,a.createElementVNode)("th",{class:"text-left"},"key"),(0,a.createElementVNode)("th",{class:"text-left"},"old value"),(0,a.createElementVNode)("th",{class:"text-left"},"new value"),(0,a.createElementVNode)("th",{class:"text-left"})])],-1),zt={class:"text-right"},Ft=(0,a.createTextVNode)(" undo change "),Rt={class:"row justify-end q-pa-md"};function Ot(e,t,o,n,l,r){const i=(0,a.resolveComponent)("q-tooltip"),c=(0,a.resolveComponent)("q-btn"),s=(0,a.resolveComponent)("q-markup-table"),d=(0,a.resolveComponent)("propose-bucket-btn"),m=(0,a.resolveComponent)("action-proposer");return(0,a.openBlock)(),(0,a.createBlock)(m,null,{default:(0,a.withCtx)((t=>[(0,a.createElementVNode)("div",Mt,[(0,a.createVNode)(s,{flat:""},{default:(0,a.withCtx)((()=>[Dt,(0,a.createElementVNode)("tbody",null,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.getCoreConfigDeltas,(t=>((0,a.openBlock)(),(0,a.createElementBlock)("tr",{key:`${t.path.join("")}`},[(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(t.path.join(".")),1),(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(t.lhs),1),(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(t.rhs),1),(0,a.createElementVNode)("td",zt,[(0,a.createVNode)(c,{icon:"mdi-undo",size:"sm",round:"",unelevated:"",onClick:o=>e.$store.commit("group/setNewCoreConfigPath",{value:t.lhs,path:t.path.join(".")})},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{delay:450,class:"bg-secondary"},{default:(0,a.withCtx)((()=>[Ft])),_:1})])),_:2},1032,["onClick"])])])))),128))])])),_:1}),(0,a.createElementVNode)("div",Rt,[(0,a.createVNode)(d,{onClickPropose:o=>t.propose(e.getProposeAction),onClickBucket:o=>t.addtobucket({action:e.getBucketAction,vm:this}),label:"Update config",disabled:!e.getCoreConfigDeltas},null,8,["onClickPropose","onClickBucket","disabled"])])])])),_:1})}var jt=o(40019);const Ht=(0,a.defineComponent)({components:{actionProposer:se.Z,proposeBucketBtn:_e.Z},data(){return{}},computed:{...(0,c.Se)({getCoreConfigDeltas:"group/getCoreConfigDeltas",getNewCoreConfig:"group/getNewCoreConfig"}),getProposeAction(){let e=this.getAction();const t={actions:[e],description:`Changed values: \n${this.getCoreConfigDeltas.map((e=>e.path.join(".")+": "+e.rhs)).join("\n")}`,title:"Update group configuration"};return jt.log(t),t},getBucketAction(){return this.getAction()}},methods:{getAction(){let e=JSON.parse(JSON.stringify(this.getNewCoreConfig.conf));e.exec_on_threshold_zero=!!e.exec_on_threshold_zero,e.member_registration=!!e.member_registration,e.withdrawals=!!e.withdrawals,e.internal_transfers=!!e.internal_transfers,e.deposits=!!e.deposits,e.userterms=!!e.userterms,e.r1=!!e.r1,e.r2=!!e.r2;let t={account:this.$store.state.group.activeGroup,name:"updateconf",data:{new_conf:e,remove:!1}};return t}}});var Jt=o(30481),Wt=o(5363);const Kt=(0,N.Z)(Ht,[["render",Ot]]),Yt=Kt;x()(Ht,"components",{QMarkupTable:Jt.Z,QBtn:ve.Z,QTooltip:Wt.Z,QList:S.Z,QItem:$.Z,QItemSection:U.Z,QItemLabel:T.Z});const Xt={key:0},eo={key:1},to={key:0},oo={key:1},ao={key:"modules"};function no(e,t,o,n,l,r){const i=(0,a.resolveComponent)("q-toolbar-title"),c=(0,a.resolveComponent)("q-space"),s=(0,a.resolveComponent)("q-tooltip"),d=(0,a.resolveComponent)("q-btn"),m=(0,a.resolveComponent)("q-toolbar"),u=(0,a.resolveComponent)("q-badge"),p=(0,a.resolveComponent)("q-item-section"),h=(0,a.resolveComponent)("q-item-label"),g=(0,a.resolveComponent)("q-separator"),C=(0,a.resolveComponent)("code-deployer"),_=(0,a.resolveComponent)("q-card-section"),f=(0,a.resolveComponent)("q-expansion-item"),v=(0,a.resolveComponent)("no-items"),w=(0,a.resolveComponent)("q-list"),N=(0,a.resolveComponent)("q-tab"),V=(0,a.resolveComponent)("q-tabs"),b=(0,a.resolveComponent)("link-module"),k=(0,a.resolveComponent)("action-proposer"),x=(0,a.resolveComponent)("q-tab-panel"),y=(0,a.resolveComponent)("new-account"),q=(0,a.resolveComponent)("q-tab-panels"),E=(0,a.resolveComponent)("q-card");return(0,a.openBlock)(),(0,a.createBlock)(E,{class:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"bg-secondary text-white shadow-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{shrink:!0},{default:(0,a.withCtx)((()=>[e.manage_module?((0,a.openBlock)(),(0,a.createElementBlock)("span",Xt,"Manage Modules")):((0,a.openBlock)(),(0,a.createElementBlock)("span",eo,"Modules"))])),_:1}),(0,a.createVNode)(c),(0,a.createVNode)(d,{round:"",dense:"",icon:e.manage_module?"mdi-minus":"mdi-plus",color:"primary",onClick:t[0]||(t[0]=t=>e.manage_module=!e.manage_module)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"bg-secondary",delay:500},{default:(0,a.withCtx)((()=>[e.manage_module?((0,a.openBlock)(),(0,a.createElementBlock)("span",oo,"Go back to modules")):((0,a.openBlock)(),(0,a.createElementBlock)("span",to,"manage modules"))])),_:1})])),_:1},8,["icon"])])),_:1}),(0,a.createVNode)(a.Transition,{"enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut",mode:"out-in",tag:"div"},{default:(0,a.withCtx)((()=>[e.manage_module?((0,a.openBlock)(),(0,a.createBlock)(_,{class:"relative-position",key:"add"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{modelValue:e.manage_module_view,"onUpdate:modelValue":t[1]||(t[1]=t=>e.manage_module_view=t),dense:"",class:"text-primary",align:"left","inline-label":""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(N,{label:"link module",name:"link"}),(0,a.createVNode)(N,{label:"new account",name:"create"})])),_:1},8,["modelValue"]),(0,a.createVNode)(g),(0,a.createVNode)(q,{modelValue:e.manage_module_view,"onUpdate:modelValue":t[2]||(t[2]=t=>e.manage_module_view=t),style:{"min-height":"200px"},animated:"","transition-prev":"fade","transition-next":"fade",class:"overflow-hidden"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{name:"link",class:"no-padding overflow-hidden",style:{"min-height":"200px"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(k,null,{default:(0,a.withCtx)((t=>[(0,a.createVNode)(b,{onPropose:t.propose,onAddtobucket:t.addtobucket,slave_permission:e.slave_permission},null,8,["onPropose","onAddtobucket","slave_permission"])])),_:1})])),_:1}),(0,a.createVNode)(x,{name:"create",class:"no-padding overflow-hidden",style:{"min-height":"200px"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,{onRequestLink:e.handleLinkRequest},null,8,["onRequestLink"])])),_:1})])),_:1},8,["modelValue"])])),_:1})):((0,a.openBlock)(),(0,a.createElementBlock)("div",ao,[(0,a.createVNode)(w,{class:"primary-hover-list",separator:"",striped:""},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.getModulesWithFilter,(e=>((0,a.openBlock)(),(0,a.createBlock)(f,{key:e.module_name,clickable:"",group:"modules"},{header:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{side:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.module_name),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{caption:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" slave permission "+(0,a.toDisplayString)(e.slave_permission),1)])),_:2},1024)])),_:2},1024)])),default:(0,a.withCtx)((()=>[(0,a.createVNode)(g),(0,a.createElementVNode)("div",null,[(0,a.createVNode)(_,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{module:e},null,8,["module"])])),_:2},1024)])])),_:2},1024)))),128)),e.getModulesWithFilter.length?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(v,{key:0,text:"No modules"}))])),_:1})]))])),_:1})])),_:1})}const lo={class:"row q-col-gutter-md q-pb-xs q-mt-sm"},ro={class:"col-xs-12 col-sm-6"},io={class:"col-xs-12 col-sm-6"},co={class:"row items-center justify-between no-wrap"},so=(0,a.createTextVNode)(" @ "),mo={class:"col-xs-12 col-sm-6"},uo=(0,a.createTextVNode)(" Uncheck if the account doesn't have a contract installed. "),po={class:"row justify-between full-width items-center"};function ho(e,t,o,n,l,r){const i=(0,a.resolveComponent)("q-input"),c=(0,a.resolveComponent)("q-tooltip"),s=(0,a.resolveComponent)("q-toggle"),d=(0,a.resolveComponent)("threshold-badge"),m=(0,a.resolveComponent)("propose-bucket-btn");return(0,a.openBlock)(),(0,a.createElementBlock)("div",lo,[(0,a.createElementVNode)("div",ro,[(0,a.createVNode)(i,{ref:"modulename",modelValue:e.action.data.module_name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.action.data.module_name=t),label:"Module name",placeholder:"name for the module",outlined:"","bottom-slots":"",maxlength:"12",rules:[e=>!!e||"* Required",e.isValidAccountName,e.validateDuplicateModule]},null,8,["modelValue","rules"])]),(0,a.createElementVNode)("div",io,[(0,a.createElementVNode)("div",co,[(0,a.createVNode)(i,{style:{"min-width":"200px"},class:"q-mr-xs",ref:"actor",modelValue:e.action.data.slave_permission.actor,"onUpdate:modelValue":t[1]||(t[1]=t=>e.action.data.slave_permission.actor=t),label:"Actor",outlined:"",maxlength:"12",debounce:500,"bottom-slots":"",placeholder:"name of the account","no-error-icon":"",rules:[e=>!!e||"* Required",e.isValidAccountName,e.isExistingAccountNameWrapper]},null,8,["modelValue","rules"]),(0,a.createVNode)(i,{style:{width:"100%"},ref:"permission",modelValue:e.action.data.slave_permission.permission,"onUpdate:modelValue":t[2]||(t[2]=t=>e.action.data.slave_permission.permission=t),label:"Permission",outlined:"","bottom-slots":"",placeholder:"permission to use","no-error-icon":"",rules:[e=>!!e||"* Required",e.isValidAccountName]},{prepend:(0,a.withCtx)((()=>[so])),_:1},8,["modelValue","rules"])])]),(0,a.createElementVNode)("div",mo,[(0,a.createVNode)(s,{modelValue:e.action.data.has_contract,"onUpdate:modelValue":t[3]||(t[3]=t=>e.action.data.has_contract=t),label:"has contract"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"bg-primary",delay:500},{default:(0,a.withCtx)((()=>[uo])),_:1})])),_:1},8,["modelValue"])]),(0,a.createElementVNode)("div",po,[(0,a.createVNode)(d,{label:"",contract:e.action.account,action_name:e.action.name},null,8,["contract","action_name"]),(0,a.createVNode)(m,{onClickPropose:e.emitPropose,onClickBucket:e.emitBucket,label:"Link Module",disabled:!1},null,8,["onClickPropose","onClickBucket"])])])}var go=o(69917),Co=o(47592);o(63850);const _o=(0,a.defineComponent)({name:"link-module",components:{thresholdBadge:go.Z,proposeBucketBtn:_e.Z},props:{slave_permission:{actor:"",permission:""}},data(){return{action:{account:"",name:"linkmodule",data:{module_name:"",slave_permission:{actor:"",permission:""},has_contract:!0}}}},computed:{...(0,c.Se)({getActiveGroup:"group/getActiveGroup",getModuleByName:"group/getModuleByName",getModules:"group/getModules"})},methods:{isValidAccountName:Co.ZF,isExistingAccountName:Co.oO,async isExistingAccountNameWrapper(e){return await(0,Co.oO)({value:e,vm:this})},validateDuplicateModule(e){let t=this.getModuleByName(e);return!t||"Module with this name already linked"},emitPropose(){if(this.$refs.modulename.validate(),this.$refs.actor.validate(),this.$refs.permission.validate(),this.$refs.modulename.hasError||this.$refs.actor.hasError||this.$refs.permission.hasError)return;let e=JSON.parse(JSON.stringify(this.action)),t="Link Module",o=`Link new module "${e.data.module_name}" to the core contract`;const a={actions:[e],description:o,title:t};this.$emit("propose",a)},emitBucket(){if(this.$refs.modulename.validate(),this.$refs.actor.validate(),this.$refs.permission.validate(),this.$refs.modulename.hasError||this.$refs.actor.hasError||this.$refs.permission.hasError)return;let e=JSON.parse(JSON.stringify(this.action));this.$emit("addtobucket",e)}},mounted(){this.action.account=this.getActiveGroup,this.slave_permission.actor&&this.slave_permission.permission&&(this.action.data.slave_permission=this.slave_permission)},watch:{}}),fo=(0,N.Z)(_o,[["render",ho]]),vo=fo;x()(_o,"components",{QInput:V.Z,QToggle:I.Z,QTooltip:Wt.Z});const wo={class:"q-mt-sm row q-col-gutter-md"},No={class:"col-xs-12 col-md-6"},Vo={key:0,class:"text-grey-8 row"},bo=(0,a.createElementVNode)("span",null,"Account name available!",-1),ko=[bo],xo={key:1},yo={class:"col-xs-12 col-md-6"},qo={class:"col-xs-12 col-md-6"},Eo={class:"col-xs-12 col-md-6"},Bo={class:"col-xs-12 col-md-6"},Ao={class:"row"},Zo={class:"col-xs-12 col-md-6"},Qo={class:"row"},So={class:"col-xs-12"},$o={class:"row justify-end"},Uo={class:"q-mt-sm row q-col-gutter-md"},To={class:"col-xs-12"},Io={class:"col-xs-12 row q-gutter-md"};function Go(e,t,o,n,l,r){const i=(0,a.resolveComponent)("q-icon"),c=(0,a.resolveComponent)("q-input"),s=(0,a.resolveComponent)("q-toggle"),d=(0,a.resolveComponent)("q-btn"),m=(0,a.resolveComponent)("q-tab-panel"),u=(0,a.resolveComponent)("q-tab-panels");return(0,a.openBlock)(),(0,a.createBlock)(u,{modelValue:e.new_account_view,"onUpdate:modelValue":t[10]||(t[10]=t=>e.new_account_view=t),style:{"min-height":"200px"},class:"overflow-hidden",animated:"","transition-prev":"fade","transition-next":"fade"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{name:"newaccount",class:"no-padding overflow-hidden",style:{"min-height":"200px"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",wo,[(0,a.createElementVNode)("div",No,[(0,a.createVNode)(c,{ref:"newaccountname",autocomplete:"off",outlined:"","no-error-icon":"",counter:"",maxlength:"12",modelValue:e.new_account_name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.new_account_name=t),placeholder:"Choose account name",rules:[e=>!!e||"* Required",e.isValidAccountName,e=>12==e.length||"Name must be min 12  chars.",e.isavailableAccountNameWrapper],onInput:t[1]||(t[1]=t=>e.account_name_validated=!1)},{prepend:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{name:"mdi-account"})])),append:(0,a.withCtx)((()=>[e.account_name_validated?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,name:"check",color:"positive"})):(0,a.createCommentVNode)("",!0)])),hint:(0,a.withCtx)((()=>[e.account_name_validated?((0,a.openBlock)(),(0,a.createElementBlock)("span",Vo,ko)):((0,a.openBlock)(),(0,a.createElementBlock)("span",xo,"12 char account name"))])),_:1},8,["modelValue","rules"])]),(0,a.createElementVNode)("div",yo,[(0,a.createVNode)(c,{ref:"ramquantity",type:"number",modelValue:e.ram_quantity,"onUpdate:modelValue":t[2]||(t[2]=t=>e.ram_quantity=t),label:"RAM",outlined:"","bottom-slots":"",placeholder:"eos amount","no-error-icon":"",rules:[e=>!!e||"* Required",e=>e>=.001||"Minimum amount is 0.0010"]},{append:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.getAppConfig.system_token.symbol),1)])),_:1},8,["modelValue","rules"])]),(0,a.createElementVNode)("div",qo,[(0,a.createVNode)(c,{ref:"netquantity",type:"number",modelValue:e.net_quantity,"onUpdate:modelValue":t[3]||(t[3]=t=>e.net_quantity=t),label:"NET",outlined:"","bottom-slots":"",placeholder:"eos amount","no-error-icon":"",rules:[e=>!!e||"* Required"]},{append:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.getAppConfig.system_token.symbol),1)])),_:1},8,["modelValue","rules"])]),(0,a.createElementVNode)("div",Eo,[(0,a.createVNode)(c,{ref:"cpuquantity",type:"number",modelValue:e.cpu_quantity,"onUpdate:modelValue":t[4]||(t[4]=t=>e.cpu_quantity=t),label:"CPU",outlined:"","bottom-slots":"",placeholder:"eos amount","no-error-icon":"",rules:[e=>!!e||"* Required"]},{append:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.getAppConfig.system_token.symbol),1)])),_:1},8,["modelValue","rules"])]),(0,a.createElementVNode)("div",Bo,[(0,a.createElementVNode)("div",Ao,[(0,a.createVNode)(s,{modelValue:e.transfer_resources,"onUpdate:modelValue":t[5]||(t[5]=t=>e.transfer_resources=t),color:"positive",label:"transfer resources"},null,8,["modelValue"])])]),(0,a.createElementVNode)("div",Zo,[(0,a.createElementVNode)("div",Qo,[(0,a.createVNode)(s,{modelValue:e.include_eosio_code,"onUpdate:modelValue":t[6]||(t[6]=t=>e.include_eosio_code=t),color:"positive",label:"add eosio.code to active permission"},null,8,["modelValue"])])]),(0,a.createElementVNode)("div",So,[(0,a.createElementVNode)("div",$o,[(0,a.createVNode)(d,{label:"create",onClick:e.create,color:"primary",loading:e.is_creating},null,8,["onClick","loading"])])])])])),_:1}),(0,a.createVNode)(m,{name:"account_created",class:"no-padding overflow-hidden",style:{"min-height":"200px"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Uo,[(0,a.createElementVNode)("div",To,"Account "+(0,a.toDisplayString)(e.new_account_name)+" created",1),(0,a.createElementVNode)("div",Io,[(0,a.createVNode)(d,{onClick:t[7]||(t[7]=t=>e.new_account_view="newaccount"),icon:"mdi-arrow-left",label:"create more",color:"secondary"}),(0,a.createVNode)(d,{onClick:t[8]||(t[8]=t=>e.openURL(e.getSelectedBlockExplorer.base+e.getSelectedBlockExplorer.account+e.new_account_name)),icon:"mdi-magnify",label:"explore",color:"primary"}),(0,a.createVNode)(d,{onClick:t[9]||(t[9]=t=>e.$emit("requestLink",{actor:e.new_account_name,permission:"active"})),icon:"mdi-link-box",label:"link as module",color:"primary"})])])])),_:1})])),_:1},8,["modelValue"])}var Po=o(33437),Lo=o(40019);const Mo=(0,a.defineComponent)({name:"newAccount",computed:{...(0,c.Se)({getAccountName:"proton/getAccountName",getActiveGroup:"group/getActiveGroup",getAppConfig:"app/getAppConfig",getSelectedBlockExplorer:"user/getSelectedBlockExplorer"}),getModulesWithFilter(){return this.getModules}},data(){return{new_account_view:"newaccount",is_creating:!1,new_account_name:"",account_name_validated:!1,ram_quantity:"",cpu_quantity:"",net_quantity:"",transfer_resources:!1,include_eosio_code:!1,created_receipt:""}},methods:{openURL:Po.Z,isValidAccountName:Co.ZF,isAvailableAccountName:Co.Kx,async isavailableAccountNameWrapper(e){const t=await(0,Co.Kx)({v:e,vm:this});return Lo.log(t),!0===t?(this.account_name_validated=!0,!0):(this.account_name_validated=!1,t)},async create(){let e=this.getAccountName,t={account:"eosio",name:"newaccount",data:{creator:e,name:this.new_account_name,active:{accounts:[{permission:{actor:this.getActiveGroup,permission:"owner"},weight:1}],keys:[],threshold:1,waits:[]},owner:{accounts:[{permission:{actor:this.getActiveGroup,permission:"owner"},weight:1},{permission:{actor:this.getAccountName,permission:"active"},weight:1}],keys:[],threshold:1,waits:[]}}};this.include_eosio_code&&t.data.active.accounts.push({permission:{actor:this.new_account_name,permission:"eosio.code"},weight:1});let o={account:"eosio",name:"buyram",data:{payer:e,receiver:this.new_account_name,quant:this.ram_quantity+` ${this.getAppConfig.system_token.symbol}`}},a={account:"eosio",name:"delegatebw",data:{from:e,receiver:this.new_account_name,stake_net_quantity:this.net_quantity+` ${this.getAppConfig.system_token.symbol}`,stake_cpu_quantity:this.cpu_quantity+` ${this.getAppConfig.system_token.symbol}`,transfer:this.transfer_resources}};if(this.$refs.newaccountname.validate(),this.$refs.ramquantity.validate(),this.$refs.netquantity.validate(),this.$refs.cpuquantity.validate(),this.$refs.newaccountname.hasError||this.$refs.ramquantity.hasError||this.$refs.netquantity.hasError||this.$refs.cpuquantity.hasError)return;this.is_creating=!0;let n=[t];n.push(o),(parseFloat(this.net_quantity)||parseFloat(this.cpu_quantity))&&n.push(a);let l=await this.$store.dispatch("proton/transact",{actions:n,disable_signing_overlay:!0});l&&l.trxid&&(Lo.log(l),this.new_account_view="account_created"),this.is_creating=!1}},watch:{ram_quantity:function(e,t){""!==this.ram_quantity&&(this.ram_quantity=Number(this.ram_quantity).toFixed(this.getAppConfig.system_token.precision))},net_quantity:function(e,t){""!==this.net_quantity&&(this.net_quantity=Number(this.net_quantity).toFixed(this.getAppConfig.system_token.precision))},cpu_quantity:function(e,t){""!==this.cpu_quantity&&(this.cpu_quantity=Number(this.cpu_quantity).toFixed(this.getAppConfig.system_token.precision))}}}),Do=(0,N.Z)(Mo,[["render",Go]]),zo=Do;x()(Mo,"components",{QTabPanels:It.Z,QTabPanel:Gt.Z,QInput:V.Z,QIcon:b.Z,QToggle:I.Z,QBtn:ve.Z});var Fo=o(3229);const Ro=(0,a.defineComponent)({name:"manageModules",components:{actionProposer:se.Z,linkModule:vo,noItems:Fo.Z,codeDeployer:Qt,newAccount:zo},data(){return{manage_module:!1,manage_module_view:"link",slave_permission:{actor:"",permission:""}}},computed:{...(0,c.Se)({getAccountName:"proton/getAccountName",getModules:"group/getModules",getActiveGroup:"group/getActiveGroup"}),getModulesWithFilter(){return this.getModules}},methods:{handleLinkRequest(e){this.slave_permission=e,this.manage_module_view="link"}}});var Oo=o(10151),jo=o(39570),Ho=o(13747),Jo=o(62025),Wo=o(60429),Ko=o(69721),Yo=o(65869),Xo=o(25589),ea=o(57547),ta=o(58408);const oa=(0,N.Z)(Ro,[["render",no]]),aa=oa;x()(Ro,"components",{QCard:Oo.Z,QToolbar:jo.Z,QToolbarTitle:Ho.Z,QSpace:Jo.Z,QBtn:ve.Z,QTooltip:Wt.Z,QList:S.Z,QExpansionItem:Wo.Z,QItemSection:U.Z,QBadge:Ko.Z,QItemLabel:T.Z,QSeparator:Yo.Z,QCardSection:Xo.Z,QTabs:ea.Z,QTab:ta.Z,QTabPanels:It.Z,QTabPanel:Gt.Z});const na=(0,a.defineComponent)({name:"groupSubaccounts",components:{pageHeader:s.Z,configEditor:Lt,configUpdater:Yt,manageModules:aa},data(){return{view_panel:"config_view",splitterModel:40,selected:"Modules"}},computed:{...(0,c.Se)({getAccountName:"proton/getAccountName",getGuardians:"group/getGuardians",getActiveGroup:"group/getActiveGroup",getCoreConfigDeltas:"group/getCoreConfigDeltas",getNewCoreConfig:"group/getNewCoreConfig"})},methods:{getGroupTree(){return testtree[0].label=this.getActiveGroup.toUpperCase(),testtree}}});var la=o(24379);const ra=(0,N.Z)(na,[["render",i]]),ia=ra;x()(na,"components",{QPage:la.Z,QCard:Oo.Z,QBtn:ve.Z,QTabPanels:It.Z,QTabPanel:Gt.Z})}}]);