(self["webpackChunkthedaoscapefrontend"]=self["webpackChunkthedaoscapefrontend"]||[]).push([[9432],{51365:(t,e,i)=>{"use strict";var n=i(40019),r=i(14244)["Buffer"],s=Object.create,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyNames,l=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty,u=(t,e)=>{for(var i in e)o(t,i,{get:e[i],enumerable:!0})},d=(t,e,i,n)=>{if(e&&"object"===typeof e||"function"===typeof e)for(let r of c(e))h.call(t,r)||r===i||o(t,r,{get:()=>e[r],enumerable:!(n=a(e,r))||n.enumerable});return t},p=(t,e,i)=>(i=null!=t?s(l(t)):{},d(!e&&t&&t.__esModule?i:o(i,"default",{value:t,enumerable:!0}),t)),f=t=>d(o({},"__esModule",{value:!0}),t),g={};u(g,{Api:()=>Ae,ApiInterfaces:()=>Re,JsSignatureProvider:()=>De,JsonRpc:()=>ot,Key:()=>ge,Numeric:()=>w,RpcError:()=>m,RpcInterfaces:()=>at,Serialize:()=>ht,default:()=>Ie,digestFromSerializedData:()=>Ne,sha256:()=>Ee}),t.exports=f(g);var m=class extends Error{constructor(t){var e=(...t)=>{super(...t)};t&&t.error&&t.error.details&&t.error.details.length&&t.error.details[0].message?(e(t.error.details[0].message),this.details=t.error.details):t&&t.processed&&t.processed.except&&t.processed.except.message?(e(t.processed.except.message),this.details=t.processed.except):t&&t.result&&t.result.except&&t.result.except.message?(e(t.result.except.message),this.details=t.result.except):e(t?t.message:t),Object.setPrototypeOf(this,m.prototype),this.json=t}};async function Q(){try{const{rows:t}=await this.get_table_rows({code:"eosio.proton",table:"kycproviders",scope:"eosio.proton"});this.validKycProviders=t.reduce(((t,e)=>(e.blisted||t.push(e.kyc_provider),t)),[])}catch(t){throw new Error("Unable to get KYC Providers.")}}async function B(t){const e=["firstname","lastname","birthdate","address"],i=["selfie","frontofid","backofid"];if(0===t.length)throw new Error("Please enter an account.");0===this.validKycProviders.length&&await this.getValidKycProviders();let n=[];if(Array.isArray(t))n=t;else if("string"===typeof t)try{const{rows:e}=await this.get_table_rows({code:"eosio.proton",table:"usersinfo",scope:"eosio.proton",lower_bound:t,upper_bound:t});n=e}catch(s){throw new Error("Account not found!")}const r=n.map((t=>{const n=t.kyc.reduce(((t,e)=>{if(this.validKycProviders.indexOf(e.kyc_provider)>=0){const i=e.kyc_level.split(",").map((t=>t.split(":")[1]));t=i.concat(t)}return t}),[]);return t.isTier1KYCVerified=e.every((t=>n.includes(t))),t.isTier2KYCVerified=t.isTier1KYCVerified&&i.every((t=>n.includes(t))),t.isTier3KYCVerified=!1,t.isLightKYCVerified=t.isTier1KYCVerified,t}));return r}async function y(t){const{rows:e}=await this.get_table_rows({code:"webauthn",scope:"webauthn",table:"credentials",lower_bound:t,upper_bound:t,key_type:"name",index_position:2});return e}var E=p(i(95340)),w={};u(w,{KeyType:()=>O,base58ToBinary:()=>I,base64ToBinary:()=>P,binaryToBase58:()=>T,binaryToDecimal:()=>C,convertLegacyPublicKey:()=>G,convertLegacyPublicKeys:()=>X,decimalToBinary:()=>A,isNegative:()=>N,negate:()=>D,privateKeyDataSize:()=>j,privateKeyToLegacyString:()=>tt,privateKeyToString:()=>et,publicKeyDataSize:()=>J,publicKeyToLegacyString:()=>W,publicKeyToString:()=>H,signatureDataSize:()=>$,signatureToString:()=>nt,signedBinaryToDecimal:()=>z,signedDecimalToBinary:()=>M,stringToPrivateKey:()=>Y,stringToPublicKey:()=>K,stringToSignature:()=>it});var U=i(46251),v=p(i(14704)),b=v.default.hash,F="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=()=>{const t=Array(256).fill(-1);for(let e=0;e<F.length;++e)t[F.charCodeAt(e)]=e;return t},L=S(),k=()=>{const t=Array(256).fill(-1);for(let e=0;e<x.length;++e)t[x.charCodeAt(e)]=e;return t["=".charCodeAt(0)]=0,t},_=k(),N=t=>0!==(128&t[t.length-1]),D=t=>{let e=1;for(let i=0;i<t.length;++i){const n=(255&~t[i])+e;t[i]=n,e=n>>8}},A=(t,e)=>{const i=new Uint8Array(t);for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);if(r<"0".charCodeAt(0)||r>"9".charCodeAt(0))throw new Error("invalid number");let s=r-"0".charCodeAt(0);for(let e=0;e<t;++e){const t=10*i[e]+s;i[e]=t,s=t>>8}if(s)throw new Error("number is out of range")}return i},M=(t,e)=>{const i="-"===e[0];i&&(e=e.substr(1));const n=A(t,e);if(i){if(D(n),!N(n))throw new Error("number is out of range")}else if(N(n))throw new Error("number is out of range");return n},C=(t,e=1)=>{const i=Array(e).fill("0".charCodeAt(0));for(let n=t.length-1;n>=0;--n){let e=t[n];for(let t=0;t<i.length;++t){const n=(i[t]-"0".charCodeAt(0)<<8)+e;i[t]="0".charCodeAt(0)+n%10,e=n/10|0}while(e)i.push("0".charCodeAt(0)+e%10),e=e/10|0}return i.reverse(),String.fromCharCode(...i)},z=(t,e=1)=>{if(N(t)){const i=t.slice();return D(i),"-"+C(i,e)}return C(t,e)},R=t=>{const e=[];for(let i=0;i<t.length;++i){let n=L[t.charCodeAt(i)];if(n<0)throw new Error("invalid base-58 value");for(let t=0;t<e.length;++t){const i=58*e[t]+n;e[t]=255&i,n=i>>8}n&&e.push(n)}for(const i of t){if("1"!==i)break;e.push(0)}return e.reverse(),new Uint8Array(e)},I=(t,e)=>{if(!t)return R(e);const i=new Uint8Array(t);for(let n=0;n<e.length;++n){let r=L[e.charCodeAt(n)];if(r<0)throw new Error("invalid base-58 value");for(let e=0;e<t;++e){const t=58*i[e]+r;i[e]=t,r=t>>8}if(r)throw new Error("base-58 value is out of range")}return i.reverse(),i},T=t=>{const e=[];for(const i of t){let t=i;for(let i=0;i<e.length;++i){const n=(L[e[i]]<<8)+t;e[i]=F.charCodeAt(n%58),t=n/58|0}while(t)e.push(F.charCodeAt(t%58)),t=t/58|0}for(const i of t){if(i)break;e.push("1".charCodeAt(0))}return e.reverse(),String.fromCharCode(...e)},P=t=>{let e=t.length;if(1===(3&e)&&"="===t[e-1]&&(e-=1),0!==(3&e))throw new Error("base-64 value is not padded correctly");const i=e>>2;let n=3*i;e>0&&"="===t[e-1]&&("="===t[e-2]?n-=2:n-=1);const r=new Uint8Array(n);for(let s=0;s<i;++s){const e=_[t.charCodeAt(4*s+0)],i=_[t.charCodeAt(4*s+1)],o=_[t.charCodeAt(4*s+2)],a=_[t.charCodeAt(4*s+3)];r[3*s+0]=e<<2|i>>4,3*s+1<n&&(r[3*s+1]=(15&i)<<4|o>>2),3*s+2<n&&(r[3*s+2]=(3&o)<<6|a)}return r},O=(t=>(t[t["k1"]=0]="k1",t[t["r1"]=1]="r1",t[t["wa"]=2]="wa",t[t["rsa"]=100]="rsa",t[t["eth"]=101]="eth",t))(O||{}),J=33,j=32,$=65,V=(t,e)=>{const i=new Uint8Array(t.length+e.length);for(let n=0;n<t.length;++n)i[n]=t[n];for(let n=0;n<e.length;++n)i[t.length+n]=e.charCodeAt(n);return b(i)},q=(t,e,i,n)=>{const r=I(i?i+4:0,t),s={type:e,data:new Uint8Array(r.buffer,0,r.length-4)},o=new Uint8Array(V(s.data,n));if(o[0]!==r[r.length-4]||o[1]!==r[r.length-3]||o[2]!==r[r.length-2]||o[3]!==r[r.length-1])throw new Error("checksum doesn't match");return s},Z=(t,e,i)=>{const n=new Uint8Array(V(t.data,e)),r=new Uint8Array(t.data.length+4);for(let s=0;s<t.data.length;++s)r[s]=t.data[s];for(let s=0;s<4;++s)r[s+t.data.length]=n[s];return i+T(r)},K=(t,e="EOS")=>{if("string"!==typeof t)throw new Error("expected string containing public key");if(t.substr(0,3)===e){const e=I(J+4,t.substr(3)),i={type:0,data:new Uint8Array(J)};for(let t=0;t<J;++t)i.data[t]=e[t];const n=new Uint8Array(b(i.data));if(n[0]!==e[J]||n[1]!==e[34]||n[2]!==e[35]||n[3]!==e[36])throw new Error("checksum doesn't match");return i}if("PUB_K1_"===t.substr(0,7))return q(t.substr(7),0,J,"K1");if("PUB_R1_"===t.substr(0,7))return q(t.substr(7),1,J,"R1");if("PUB_WA_"===t.substr(0,7))return q(t.substr(7),2,0,"WA");throw new Error("unrecognized public key format")},W=(t,e="EOS")=>{if(0===t.type&&t.data.length===J)return Z(t,"",e);throw 1===t.type||2===t.type?new Error("Key format not supported in legacy conversion"):new Error("unrecognized public key format")},H=t=>{if(0===t.type&&t.data.length===J)return Z(t,"K1","PUB_K1_");if(1===t.type&&t.data.length===J)return Z(t,"R1","PUB_R1_");if(2===t.type)return Z(t,"WA","PUB_WA_");throw new Error("unrecognized public key format")},G=(t,e="EOS")=>t.substr(0,3)===e?H(K(t,e)):t,X=(t,e="EOS")=>t.map((t=>G(t,e))),Y=t=>{if("string"!==typeof t)throw new Error("expected string containing private key");if("PVT_R1_"===t.substr(0,7))return q(t.substr(7),1,j,"R1");if("PVT_K1_"===t.substr(0,7))return q(t.substr(7),0,j,"K1");{const e=I(j+5,t),i={type:0,data:new Uint8Array(j)};if(128!==e[0])throw new Error("unrecognized private key type");for(let t=0;t<j;++t)i.data[t]=e[t+1];return i}},tt=t=>{if(0===t.type&&t.data.length===j){const e=[];e.push(128),t.data.forEach((t=>e.push(t)));const i=new Uint8Array((0,U.sha256)().update((0,U.sha256)().update(e).digest()).digest()),n=new Uint8Array(j+5);for(let t=0;t<e.length;t++)n[t]=e[t];for(let t=0;t<4;t++)n[t+e.length]=i[t];return T(n)}throw 1===t.type||2===t.type?new Error("Key format not supported in legacy conversion"):new Error("unrecognized public key format")},et=t=>{if(1===t.type)return Z(t,"R1","PVT_R1_");if(0===t.type)return Z(t,"K1","PVT_K1_");throw new Error("unrecognized private key format")},it=t=>{if("string"!==typeof t)throw new Error("expected string containing signature");if("SIG_K1_"===t.substr(0,7))return q(t.substr(7),0,$,"K1");if("SIG_R1_"===t.substr(0,7))return q(t.substr(7),1,$,"R1");if("SIG_WA_"===t.substr(0,7))return q(t.substr(7),2,0,"WA");throw new Error("unrecognized signature format")},nt=t=>{if(0===t.type)return Z(t,"K1","SIG_K1_");if(1===t.type)return Z(t,"R1","SIG_R1_");if(2===t.type)return Z(t,"WA","SIG_WA_");throw new Error("unrecognized signature format")};"undefined"===typeof i.g||i.g.AbortController||i(82184);var rt=t=>{let e="";for(const i of t)e+=("00"+i.toString(16)).slice(-2);return e};async function st(t,e){const{timeout:i}=e,n=new AbortController,r=setTimeout((()=>n.abort()),i),s=await(0,E.default)(t,{...e||{},signal:n.signal});return clearTimeout(r),s}var ot=class{constructor(t=[],e={}){this.validKycProviders=[],this.timeout=5e3,this.isLightKYCVerified=B,this.getValidKycProviders=Q,this.fetchCredentials=y,e.timeout&&(this.timeout=e.timeout),t=Array.isArray(t)?t:[t],this.initialEndpoints=t.map((t=>t.replace(/\/$/,""))),this.endpoints=this.initialEndpoints.slice(0),this.currentEndpoint="",this.nextEndpoint()}nextEndpoint(){if(this.endpoints.length&&this.currentEndpoint){const t=this.endpoints.shift();this.endpoints=this.endpoints.concat(t||[])}else this.endpoints=this.initialEndpoints;this.currentEndpoint=this.endpoints[0]}async fetch(t,e,i=0,r=!0){let s,o;try{if(s=await st(this.currentEndpoint+t,{body:JSON.stringify(e),method:"POST",timeout:this.timeout}),o=await s.json(),o.processed&&o.processed.except||o.result&&o.result.except||404===o.code)throw new m(o)}catch(a){if(r&&n.log(a),this.endpoints.length>1&&(this.nextEndpoint(),i<this.initialEndpoints.length))return this.fetch(t,e,++i);throw a.isFetchError=!0,new m(a)}if(!s||!s.ok)throw new m(o);if(o&&o.head_block_time){const n=new Date(o.head_block_time+"Z").getTime(),r=(new Date).getTime(),s=(r-n)/1e3;if(s>30&&this.endpoints.length>1&&(this.nextEndpoint(),i<this.initialEndpoints.length))return this.fetch(t,e,++i)}return o}async get(t){const e=await(0,E.default)(t);if(e.status>=400)throw new Error("Bad response from server "+e.status);const i=await e.json();return i}async abi_bin_to_json(t,e,i){return await this.fetch("/v1/chain/abi_bin_to_json",{code:t,action:e,binargs:i})}async abi_json_to_bin(t,e,i){return await this.fetch("/v1/chain/abi_json_to_bin",{code:t,action:e,args:i})}async get_abi(t){return await this.fetch("/v1/chain/get_abi",{account_name:t})}async get_account(t){return await this.fetch("/v1/chain/get_account",{account_name:t})}async get_accounts_by_authorizers(t,e){return await this.fetch("/v1/chain/get_accounts_by_authorizers",{accounts:t,keys:e})}async get_activated_protocol_features({limit:t,search_by_block_num:e,reverse:i,lower_bound:n,upper_bound:r}={limit:50,search_by_block_num:!1,reverse:!1}){return await this.fetch("/v1/chain/get_activated_protocol_features",{lower_bound:n,upper_bound:r,limit:t,search_by_block_num:e,reverse:i})}async get_block_header_state(t){return await this.fetch("/v1/chain/get_block_header_state",{block_num_or_id:t})}async get_block_info(t){return await this.fetch("/v1/chain/get_block_info",{block_num:t},0,!1)}async get_block(t){return await this.fetch("/v1/chain/get_block",{block_num_or_id:t})}async get_code(t){return await this.fetch("/v1/chain/get_code",{account_name:t,code_as_wasm:!0})}async get_code_hash(t){return await this.fetch("/v1/chain/get_code_hash",{account_name:t})}async get_currency_balance(t,e,i){return await this.fetch("/v1/chain/get_currency_balance",{code:t,account:e,symbol:i})}async get_currency_stats(t,e){return await this.fetch("/v1/chain/get_currency_stats",{code:t,symbol:e})}async get_info(){return await this.fetch("/v1/chain/get_info",{})}async get_producer_schedule(){return await this.fetch("/v1/chain/get_producer_schedule",{})}async get_producers(t=!0,e="",i=50){return await this.fetch("/v1/chain/get_producers",{json:t,lower_bound:e,limit:i})}async get_raw_code_and_abi(t){return await this.fetch("/v1/chain/get_raw_code_and_abi",{account_name:t})}async getRawAbi(t){const e=await this.get_raw_abi(t),i=P(e.abi);return{accountName:e.account_name,abi:i}}async get_raw_abi(t){return await this.fetch("/v1/chain/get_raw_abi",{account_name:t})}async get_scheduled_transactions(t=!0,e="",i=50){return await this.fetch("/v1/chain/get_scheduled_transactions",{json:t,lower_bound:e,limit:i})}async get_table_rows({json:t=!0,code:e,scope:i,table:n,lower_bound:r="",upper_bound:s="",index_position:o=1,key_type:a="",limit:c=10,reverse:l=!1,show_payer:h=!1}){return await this.fetch("/v1/chain/get_table_rows",{json:t,code:e,scope:i,table:n,lower_bound:r,upper_bound:s,index_position:o,key_type:a,limit:c,reverse:l,show_payer:h})}async get_kv_table_rows({json:t=!0,code:e,table:i,index_name:n,encode_type:r="bytes",index_value:s,lower_bound:o,upper_bound:a,limit:c=10,reverse:l=!1,show_payer:h=!1}){return await this.fetch("/v1/chain/get_kv_table_rows",{json:t,code:e,table:i,index_name:n,encode_type:r,index_value:s,lower_bound:o,upper_bound:a,limit:c,reverse:l,show_payer:h})}async get_table_by_scope({code:t,table:e,lower_bound:i="",upper_bound:n="",limit:r=10}){return await this.fetch("/v1/chain/get_table_by_scope",{code:t,table:e,lower_bound:i,upper_bound:n,limit:r})}async getRequiredKeys(t){const e=await this.fetch("/v1/chain/get_required_keys",{transaction:t.transaction,available_keys:t.availableKeys});return X(e.required_keys)}async push_transaction({signatures:t,compression:e=0,serializedTransaction:i,serializedContextFreeData:n}){try{return await this.fetch("/v1/chain/push_transaction",{signatures:t,compression:e,packed_context_free_data:rt(n||new Uint8Array(0)),packed_trx:rt(i)})}catch(r){if(r&&r.json&&r.json.error){const t="expired_tx_exception"===r.json.error.name;t&&(r.json.error.message="Transaction Expired: Try Again",this.nextEndpoint())}throw r}}async push_ro_transaction({signatures:t,compression:e=0,serializedTransaction:i},n=!1){return await this.fetch("/v1/chain/push_ro_transaction",{transaction:{signatures:t,compression:e,packed_context_free_data:rt(new Uint8Array(0)),packed_trx:rt(i)},return_failure_traces:n})}async push_transactions(t){const e=t.map((({signatures:t,compression:e=0,serializedTransaction:i,serializedContextFreeData:n})=>({signatures:t,compression:e,packed_context_free_data:rt(n||new Uint8Array(0)),packed_trx:rt(i)})));return await this.fetch("/v1/chain/push_transactions",e)}async send_transaction({signatures:t,compression:e=0,serializedTransaction:i,serializedContextFreeData:n}){return await this.fetch("/v1/chain/send_transaction",{signatures:t,compression:e,packed_context_free_data:rt(n||new Uint8Array(0)),packed_trx:rt(i)})}async db_size_get(){return await this.fetch("/v1/db_size/get",{})}async trace_get_block(t){return await this.fetch("/v1/trace_api/get_block",{block_num:t})}async history_get_actions(t,e=null,i=null){return await this.fetch("/v1/history/get_actions",{account_name:t,pos:e,offset:i})}async history_get_transaction(t,e=null){return await this.fetch("/v1/history/get_transaction",{id:t,block_num_hint:e})}async history_get_key_accounts(t){return await this.fetch("/v1/history/get_key_accounts",{public_key:t})}async history_get_controlled_accounts(t){return await this.fetch("/v1/history/get_controlled_accounts",{controlling_account:t})}async get_nfts_fio_address(t){return await this.fetch("/v1/chain/get_nfts_fio_address",{fio_address:t})}},at={},ct=i(75421),lt=p(i(18787)),ht={};u(ht,{SerialBuffer:()=>dt,SerializerState:()=>ut,arrayToHex:()=>vt,b64tob64u:()=>pe,blockTimestampToDate:()=>Et,createAbiTypes:()=>$t,createBaseResolvedTransaction:()=>fe,createInitialTypes:()=>jt,createTransactionExtensionTypes:()=>Vt,createTransactionTypes:()=>qt,dateToBlockTimestamp:()=>yt,dateToTimePoint:()=>gt,dateToTimePointSec:()=>Qt,deserializeAction:()=>te,deserializeActionData:()=>Yt,deserializeAnyArray:()=>ae,deserializeAnyObject:()=>se,deserializeAnyvar:()=>ie,deserializeAnyvarShort:()=>ne,getType:()=>Zt,getTypesFromAbi:()=>Kt,hexToUint8Array:()=>bt,serializeAction:()=>Xt,serializeActionData:()=>Gt,serializeAnyArray:()=>oe,serializeAnyObject:()=>re,serializeAnyvar:()=>ee,serializeQuery:()=>de,stringToSymbol:()=>wt,supportedAbiVersion:()=>pt,symbolToString:()=>Ut,timePointSecToDate:()=>Bt,timePointToDate:()=>mt,transactionHeader:()=>Ht});i(96222);var ut=class{constructor(t={}){this.skippedBinaryExtension=!1,this.options=t}},dt=class{constructor({array:t,textEncoder:e,textDecoder:i}={}){this.readPos=0,this.array=t||new Uint8Array(1024),this.length=t?t.length:0,this.textEncoder=e||new TextEncoder,this.textDecoder=i||new TextDecoder("utf-8")}reserve(t){if(this.length+t<=this.array.length)return;let e=this.array.length;while(this.length+t>e)e=Math.ceil(1.5*e);const i=new Uint8Array(e);i.set(this.array),this.array=i}haveReadData(){return this.readPos<this.length}restartRead(){this.readPos=0}asUint8Array(){return new Uint8Array(this.array.buffer,this.array.byteOffset,this.length)}pushArray(t){this.reserve(t.length),this.array.set(t,this.length),this.length+=t.length}push(...t){this.pushArray(t)}get(){if(this.readPos<this.length)return this.array[this.readPos++];throw new Error("Read past end of buffer")}pushUint8ArrayChecked(t,e){if(t.length!==e)throw new Error("Binary data has incorrect size");this.pushArray(t)}getUint8Array(t){if(this.readPos+t>this.length)throw new Error("Read past end of buffer");const e=new Uint8Array(this.array.buffer,this.array.byteOffset+this.readPos,t);return this.readPos+=t,e}skip(t){if(this.readPos+t>this.length)throw new Error("Read past end of buffer");this.readPos+=t}pushUint16(t){this.push(t>>0&255,t>>8&255)}getUint16(){let t=0;return t|=this.get()<<0,t|=this.get()<<8,t}pushUint32(t){this.push(t>>0&255,t>>8&255,t>>16&255,t>>24&255)}getUint32(){let t=0;return t|=this.get()<<0,t|=this.get()<<8,t|=this.get()<<16,t|=this.get()<<24,t>>>0}pushNumberAsUint64(t){this.pushUint32(t>>>0),this.pushUint32(Math.floor(t/4294967296)>>>0)}getUint64AsNumber(){const t=this.getUint32(),e=this.getUint32();return 4294967296*(e>>>0)+(t>>>0)}pushVaruint32(t){while(1){if(!(t>>>7)){this.push(t);break}this.push(128|127&t),t>>>=7}}getVaruint32(){let t=0,e=0;while(1){const i=this.get();if(t|=(127&i)<<e,e+=7,!(128&i))break}return t>>>0}pushVarint32(t){this.pushVaruint32(t<<1^t>>31)}getVarint32(){const t=this.getVaruint32();return 1&t?~t>>1|2147483648:t>>>1}pushFloat32(t){this.pushArray(new Uint8Array(new Float32Array([t]).buffer))}getFloat32(){return new Float32Array(this.getUint8Array(4).slice().buffer)[0]}pushFloat64(t){this.pushArray(new Uint8Array(new Float64Array([t]).buffer))}getFloat64(){return new Float64Array(this.getUint8Array(8).slice().buffer)[0]}pushName(t){if("string"!==typeof t)throw new Error("Expected string containing name");const e=new RegExp(/^[.1-5a-z]{0,12}[.1-5a-j]?$/);if(!e.test(t))throw new Error("Name should be less than 13 characters, or less than 14 if last character is between 1-5 or a-j, and only contain the following symbols .12345abcdefghijklmnopqrstuvwxyz");const i=t=>t>="a".charCodeAt(0)&&t<="z".charCodeAt(0)?t-"a".charCodeAt(0)+6:t>="1".charCodeAt(0)&&t<="5".charCodeAt(0)?t-"1".charCodeAt(0)+1:0,n=new Uint8Array(8);let r=63;for(let s=0;s<t.length;++s){let e=i(t.charCodeAt(s));r<5&&(e<<=1);for(let t=4;t>=0;--t)r>=0&&(n[Math.floor(r/8)]|=(e>>t&1)<<r%8,--r)}this.pushArray(n)}getName(){const t=this.getUint8Array(8);let e="";for(let i=63;i>=0;){let n=0;for(let e=0;e<5;++e)i>=0&&(n=n<<1|t[Math.floor(i/8)]>>i%8&1,--i);e+=n>=6?String.fromCharCode(n+"a".charCodeAt(0)-6):n>=1?String.fromCharCode(n+"1".charCodeAt(0)-1):"."}while(e.endsWith("."))e=e.substr(0,e.length-1);return e}pushBytes(t){this.pushVaruint32(t.length),this.pushArray(t)}getBytes(){return this.getUint8Array(this.getVaruint32())}pushString(t){this.pushBytes(this.textEncoder.encode(t))}getString(){return this.textDecoder.decode(this.getBytes())}pushSymbolCode(t){if("string"!==typeof t)throw new Error("Expected string containing symbol_code");const e=[];e.push(...this.textEncoder.encode(t));while(e.length<8)e.push(0);this.pushArray(e.slice(0,8))}getSymbolCode(){const t=this.getUint8Array(8);let e;for(e=0;e<t.length;++e)if(!t[e])break;const i=this.textDecoder.decode(new Uint8Array(t.buffer,t.byteOffset,e));return i}pushSymbol({name:t,precision:e}){if(!/^[A-Z]{1,7}$/.test(t))throw new Error("Expected symbol to be A-Z and between one and seven characters");const i=[255&e];i.push(...this.textEncoder.encode(t));while(i.length<8)i.push(0);this.pushArray(i.slice(0,8))}getSymbol(){const t=this.get(),e=this.getUint8Array(7);let i;for(i=0;i<e.length;++i)if(!e[i])break;const n=this.textDecoder.decode(new Uint8Array(e.buffer,e.byteOffset,i));return{name:n,precision:t}}pushAsset(t){if("string"!==typeof t)throw new Error("Expected string containing asset");t=t.trim();let e=0,i="",n=0;"-"===t[e]&&(i+="-",++e);let r=!1;while(e<t.length&&t.charCodeAt(e)>="0".charCodeAt(0)&&t.charCodeAt(e)<="9".charCodeAt(0))r=!0,i+=t[e],++e;if(!r)throw new Error("Asset must begin with a number");if("."===t[e]){++e;while(e<t.length&&t.charCodeAt(e)>="0".charCodeAt(0)&&t.charCodeAt(e)<="9".charCodeAt(0))i+=t[e],++n,++e}const s=t.substr(e).trim();this.pushArray(M(8,i)),this.pushSymbol({name:s,precision:n})}getAsset(){const t=this.getUint8Array(8),{name:e,precision:i}=this.getSymbol();let n=z(t,i+1);return i&&(n=n.substr(0,n.length-i)+"."+n.substr(n.length-i)),n+" "+e}pushPublicKey(t){const e=K(t);this.push(e.type),this.pushArray(e.data)}getPublicKey(){const t=this.get();let e;if(2===t){const t=this.readPos;this.skip(34),this.skip(this.getVaruint32()),e=new Uint8Array(this.array.buffer,this.array.byteOffset+t,this.readPos-t)}else e=this.getUint8Array(J);return H({type:t,data:e})}pushPrivateKey(t){const e=Y(t);this.push(e.type),this.pushArray(e.data)}getPrivateKey(){const t=this.get(),e=this.getUint8Array(j);return et({type:t,data:e})}pushSignature(t){const e=it(t);this.push(e.type),this.pushArray(e.data)}getSignature(){const t=this.get();let e;if(2===t){const t=this.readPos;this.skip(65),this.skip(this.getVaruint32()),this.skip(this.getVaruint32()),e=new Uint8Array(this.array.buffer,this.array.byteOffset+t,this.readPos-t)}else e=this.getUint8Array($);return nt({type:t,data:e})}},pt=t=>t.startsWith("eosio::abi/1."),ft=t=>{const e=Date.parse(t);if(Number.isNaN(e))throw new Error("Invalid time format");return e},gt=t=>Math.round(1e3*ft(t+"Z")),mt=t=>{const e=new Date(t/1e3).toISOString();return e.substr(0,e.length-1)},Qt=t=>Math.round(ft(t+"Z")/1e3),Bt=t=>{const e=new Date(1e3*t).toISOString();return e.substr(0,e.length-1)},yt=t=>Math.round((ft(t+"Z")-9466848e5)/500),Et=t=>{const e=new Date(500*t+9466848e5).toISOString();return e.substr(0,e.length-1)},wt=t=>{if("string"!==typeof t)throw new Error("Expected string containing symbol");const e=t.match(/^([0-9]+),([A-Z]+)$/);if(!e)throw new Error("Invalid symbol");return{name:e[2],precision:+e[1]}},Ut=({name:t,precision:e})=>e+","+t,vt=t=>{let e="";for(const i of t)e+=("00"+i.toString(16)).slice(-2);return e.toUpperCase()},bt=t=>{if("string"!==typeof t)throw new Error("Expected string containing hex digits");if(t.length%2)throw new Error("Odd number of hex digits");const e=t.length/2,i=new Uint8Array(e);for(let n=0;n<e;++n){const e=parseInt(t.substr(2*n,2),16);if(Number.isNaN(e))throw new Error("Expected hex string");i[n]=e}return i};function Ft(t,e){throw new Error("Don't know how to serialize "+this.name)}function xt(t){throw new Error("Don't know how to deserialize "+this.name)}function St(t,e,i=new ut,n=!0){if("object"!==typeof e)throw new Error("expected object containing data: "+JSON.stringify(e));this.base&&this.base.serialize(t,e,i,n);for(const r of this.fields)if(r.name in e){if(i.skippedBinaryExtension)throw new Error("unexpected "+this.name+"."+r.name);r.type.serialize(t,e[r.name],i,n&&r===this.fields[this.fields.length-1])}else{if(!n||!r.type.extensionOf)throw new Error("missing "+this.name+"."+r.name+" (type="+r.type.name+")");i.skippedBinaryExtension=!0}}function Lt(t,e=new ut,i=!0){let n;n=this.base?this.base.deserialize(t,e,i):{};for(const r of this.fields)i&&r.type.extensionOf&&!t.haveReadData()?e.skippedBinaryExtension=!0:n[r.name]=r.type.deserialize(t,e,i);return n}function kt(t,e,i,n){if(!Array.isArray(e)||2!==e.length||"string"!==typeof e[0])throw new Error('expected variant: ["type", value]');const r=this.fields.findIndex((t=>t.name===e[0]));if(r<0)throw new Error(`type "${e[0]}" is not valid for variant`);t.pushVaruint32(r),this.fields[r].type.serialize(t,e[1],i,n)}function _t(t,e,i){const n=t.getVaruint32();if(n>=this.fields.length)throw new Error(`type index ${n} is not valid for variant`);const r=this.fields[n];return[r.name,r.type.deserialize(t,e,i)]}function Nt(t,e,i,n){t.pushVaruint32(e.length);for(const r of e)this.arrayOf.serialize(t,r,i,!1)}function Dt(t,e,i){const n=t.getVaruint32(),r=[];for(let s=0;s<n;++s)r.push(this.arrayOf.deserialize(t,e,!1));return r}function At(t,e,i,n){null===e||void 0===e?t.push(0):(t.push(1),this.optionalOf.serialize(t,e,i,n))}function Mt(t,e,i){return t.get()?this.optionalOf.deserialize(t,e,i):null}function Ct(t,e,i,n){this.extensionOf.serialize(t,e,i,n)}function zt(t,e,i){return this.extensionOf.deserialize(t,e,i)}function Rt(t,e,i,n){const r=Object.entries(e);t.pushVaruint32(r.length);for(const[s,o]of r){const e=this.fields[0].type,r=this.fields[1].type;e.serialize(t,s,i,n),r.serialize(t,o,i,n)}}function It(t,e,i){const n=t.getVaruint32(),r={};for(let s=0;s<n;++s){const n=this.fields[0].type,s=this.fields[1].type,o=n.deserialize(t,e,i);r[o]=s.deserialize(t,e,i)}return r}function Tt(t,e,i,n){t.pushVaruint32(e.length),e.forEach((e=>{this.fields[0].type.serialize(t,e[0],i,n),this.fields[1].type.serialize(t,e[1],i,n)}))}function Pt(t,e,i){const n=[],r=t.getVaruint32();for(let s=0;s<r;++s)n.push(this.fields[0].type.deserialize(t,e,i)),n.push(this.fields[1].type.deserialize(t,e,i));return n}var Ot=t=>({name:"<missing name>",aliasOfName:"",arrayOf:void 0,optionalOf:void 0,extensionOf:void 0,baseName:"",base:void 0,fields:[],serialize:Ft,deserialize:xt,...t}),Jt=(t,e)=>{if(Number.isNaN(+t)||Number.isNaN(+e)||"number"!==typeof t&&"string"!==typeof t)throw new Error("Expected number");if(+t!==+e)throw new Error("Number is out of range");return+t},jt=()=>{const t=new Map(Object.entries({bool:Ot({name:"bool",serialize:(t,e)=>{if("boolean"!==typeof e&&("number"!==typeof e||1!==e&&0!==e))throw new Error("Expected boolean or number equal to 1 or 0");t.push(e?1:0)},deserialize:t=>!!t.get()}),uint8:Ot({name:"uint8",serialize:(t,e)=>{t.push(Jt(e,255&e))},deserialize:t=>t.get()}),int8:Ot({name:"int8",serialize:(t,e)=>{t.push(Jt(e,e<<24>>24))},deserialize:t=>t.get()<<24>>24}),uint16:Ot({name:"uint16",serialize:(t,e)=>{t.pushUint16(Jt(e,65535&e))},deserialize:t=>t.getUint16()}),int16:Ot({name:"int16",serialize:(t,e)=>{t.pushUint16(Jt(e,e<<16>>16))},deserialize:t=>t.getUint16()<<16>>16}),uint32:Ot({name:"uint32",serialize:(t,e)=>{t.pushUint32(Jt(e,e>>>0))},deserialize:t=>t.getUint32()}),uint64:Ot({name:"uint64",serialize:(t,e)=>{t.pushArray(A(8,""+e))},deserialize:t=>C(t.getUint8Array(8))}),int64:Ot({name:"int64",serialize:(t,e)=>{t.pushArray(M(8,""+e))},deserialize:t=>z(t.getUint8Array(8))}),int32:Ot({name:"int32",serialize:(t,e)=>{t.pushUint32(Jt(e,0|e))},deserialize:t=>0|t.getUint32()}),varuint32:Ot({name:"varuint32",serialize:(t,e)=>{t.pushVaruint32(Jt(e,e>>>0))},deserialize:t=>t.getVaruint32()}),varint32:Ot({name:"varint32",serialize:(t,e)=>{t.pushVarint32(Jt(e,0|e))},deserialize:t=>t.getVarint32()}),uint128:Ot({name:"uint128",serialize:(t,e)=>{t.pushArray(A(16,""+e))},deserialize:t=>C(t.getUint8Array(16))}),int128:Ot({name:"int128",serialize:(t,e)=>{t.pushArray(M(16,""+e))},deserialize:t=>z(t.getUint8Array(16))}),float32:Ot({name:"float32",serialize:(t,e)=>{t.pushFloat32(e)},deserialize:t=>t.getFloat32()}),float64:Ot({name:"float64",serialize:(t,e)=>{t.pushFloat64(e)},deserialize:t=>t.getFloat64()}),float128:Ot({name:"float128",serialize:(t,e)=>{t.pushUint8ArrayChecked(bt(e),16)},deserialize:t=>vt(t.getUint8Array(16))}),bytes:Ot({name:"bytes",serialize:(t,e)=>{e instanceof Uint8Array||Array.isArray(e)?t.pushBytes(e):t.pushBytes(bt(e))},deserialize:(t,e)=>e&&e.options.bytesAsUint8Array?t.getBytes():vt(t.getBytes())}),string:Ot({name:"string",serialize:(t,e)=>{t.pushString(e)},deserialize:t=>t.getString()}),name:Ot({name:"name",serialize:(t,e)=>{t.pushName(e)},deserialize:t=>t.getName()}),time_point:Ot({name:"time_point",serialize:(t,e)=>{t.pushNumberAsUint64(gt(e))},deserialize:t=>mt(t.getUint64AsNumber())}),time_point_sec:Ot({name:"time_point_sec",serialize:(t,e)=>{t.pushUint32(Qt(e))},deserialize:t=>Bt(t.getUint32())}),block_timestamp_type:Ot({name:"block_timestamp_type",serialize:(t,e)=>{t.pushUint32(yt(e))},deserialize:t=>Et(t.getUint32())}),symbol_code:Ot({name:"symbol_code",serialize:(t,e)=>{t.pushSymbolCode(e)},deserialize:t=>t.getSymbolCode()}),symbol:Ot({name:"symbol",serialize:(t,e)=>{t.pushSymbol(wt(e))},deserialize:t=>Ut(t.getSymbol())}),asset:Ot({name:"asset",serialize:(t,e)=>{t.pushAsset(e)},deserialize:t=>t.getAsset()}),checksum160:Ot({name:"checksum160",serialize:(t,e)=>{t.pushUint8ArrayChecked(bt(e),20)},deserialize:t=>vt(t.getUint8Array(20))}),checksum256:Ot({name:"checksum256",serialize:(t,e)=>{t.pushUint8ArrayChecked(bt(e),32)},deserialize:t=>vt(t.getUint8Array(32))}),checksum512:Ot({name:"checksum512",serialize:(t,e)=>{t.pushUint8ArrayChecked(bt(e),64)},deserialize:t=>vt(t.getUint8Array(64))}),public_key:Ot({name:"public_key",serialize:(t,e)=>{t.pushPublicKey(e)},deserialize:t=>t.getPublicKey()}),private_key:Ot({name:"private_key",serialize:(t,e)=>{t.pushPrivateKey(e)},deserialize:t=>t.getPrivateKey()}),signature:Ot({name:"signature",serialize:(t,e)=>{t.pushSignature(e)},deserialize:t=>t.getSignature()})}));return t.set("extended_asset",Ot({name:"extended_asset",baseName:"",fields:[{name:"quantity",typeName:"asset",type:t.get("asset")},{name:"contract",typeName:"name",type:t.get("name")}],serialize:St,deserialize:Lt})),t},$t=()=>{const t=jt();return t.set("extensions_entry",Ot({name:"extensions_entry",baseName:"",fields:[{name:"tag",typeName:"uint16",type:void 0},{name:"value",typeName:"bytes",type:void 0}],serialize:St,deserialize:Lt})),t.set("type_def",Ot({name:"type_def",baseName:"",fields:[{name:"new_type_name",typeName:"string",type:void 0},{name:"type",typeName:"string",type:void 0}],serialize:St,deserialize:Lt})),t.set("field_def",Ot({name:"field_def",baseName:"",fields:[{name:"name",typeName:"string",type:void 0},{name:"type",typeName:"string",type:void 0}],serialize:St,deserialize:Lt})),t.set("struct_def",Ot({name:"struct_def",baseName:"",fields:[{name:"name",typeName:"string",type:void 0},{name:"base",typeName:"string",type:void 0},{name:"fields",typeName:"field_def[]",type:void 0}],serialize:St,deserialize:Lt})),t.set("action_def",Ot({name:"action_def",baseName:"",fields:[{name:"name",typeName:"name",type:void 0},{name:"type",typeName:"string",type:void 0},{name:"ricardian_contract",typeName:"string",type:void 0}],serialize:St,deserialize:Lt})),t.set("table_def",Ot({name:"table_def",baseName:"",fields:[{name:"name",typeName:"name",type:void 0},{name:"index_type",typeName:"string",type:void 0},{name:"key_names",typeName:"string[]",type:void 0},{name:"key_types",typeName:"string[]",type:void 0},{name:"type",typeName:"string",type:void 0}],serialize:St,deserialize:Lt})),t.set("clause_pair",Ot({name:"clause_pair",baseName:"",fields:[{name:"id",typeName:"string",type:void 0},{name:"body",typeName:"string",type:void 0}],serialize:St,deserialize:Lt})),t.set("error_message",Ot({name:"error_message",baseName:"",fields:[{name:"error_code",typeName:"uint64",type:void 0},{name:"error_msg",typeName:"string",type:void 0}],serialize:St,deserialize:Lt})),t.set("variant_def",Ot({name:"variant_def",baseName:"",fields:[{name:"name",typeName:"string",type:void 0},{name:"types",typeName:"string[]",type:void 0}],serialize:St,deserialize:Lt})),t.set("action_result",Ot({name:"action_result",baseName:"",fields:[{name:"name",typeName:"name",type:void 0},{name:"result_type",typeName:"string",type:void 0}],serialize:St,deserialize:Lt})),t.set("primary_key_index_def",Ot({name:"primary_key_index_def",baseName:"",fields:[{name:"name",typeName:"name",type:void 0},{name:"type",typeName:"string",type:void 0}],serialize:St,deserialize:Lt})),t.set("secondary_index_def",Ot({name:"secondary_index_def",baseName:"",fields:[{name:"type",typeName:"string",type:void 0}],serialize:St,deserialize:Lt})),t.set("secondary_indices",Ot({name:"secondary_indices",baseName:"",fields:[{name:"name",typeName:"name",type:void 0},{name:"secondary_index_def",typeName:"secondary_index_def",type:void 0}],serialize:Rt,deserialize:It})),t.set("kv_table_entry_def",Ot({name:"kv_table_entry_def",baseName:"",fields:[{name:"type",typeName:"string",type:void 0},{name:"primary_index",typeName:"primary_key_index_def",type:void 0},{name:"secondary_indices",typeName:"secondary_indices",type:void 0}],serialize:St,deserialize:Lt})),t.set("kv_table",Ot({name:"kv_table",baseName:"",fields:[{name:"name",typeName:"name",type:void 0},{name:"kv_table_entry_def",typeName:"kv_table_entry_def",type:void 0}],serialize:Rt,deserialize:It})),t.set("abi_def",Ot({name:"abi_def",baseName:"",fields:[{name:"version",typeName:"string",type:void 0},{name:"types",typeName:"type_def[]",type:void 0},{name:"structs",typeName:"struct_def[]",type:void 0},{name:"actions",typeName:"action_def[]",type:void 0},{name:"tables",typeName:"table_def[]",type:void 0},{name:"ricardian_clauses",typeName:"clause_pair[]",type:void 0},{name:"error_messages",typeName:"error_message[]",type:void 0},{name:"abi_extensions",typeName:"extensions_entry[]",type:void 0},{name:"variants",typeName:"variant_def[]$",type:void 0},{name:"action_results",typeName:"action_result[]$",type:void 0},{name:"kv_tables",typeName:"kv_table$",type:void 0}],serialize:St,deserialize:Lt})),t},Vt=()=>{const t=jt();return t.set("resource_payer",Ot({name:"resource_payer",baseName:"",fields:[{name:"payer",typeName:"name",type:void 0},{name:"max_net_bytes",typeName:"uint64",type:void 0},{name:"max_cpu_us",typeName:"uint64",type:void 0},{name:"max_memory_bytes",typeName:"uint64",type:void 0}],serialize:St,deserialize:Lt})),t},qt=()=>{const t=jt();return t.set("permission_level",Ot({name:"permission_level",baseName:"",fields:[{name:"actor",typeName:"name",type:void 0},{name:"permission",typeName:"name",type:void 0}],serialize:St,deserialize:Lt})),t.set("action",Ot({name:"action",baseName:"",fields:[{name:"account",typeName:"name",type:void 0},{name:"name",typeName:"name",type:void 0},{name:"authorization",typeName:"permission_level[]",type:void 0},{name:"data",typeName:"bytes",type:void 0}],serialize:St,deserialize:Lt})),t.set("extension",Ot({name:"extension",baseName:"",fields:[{name:"type",typeName:"uint16",type:void 0},{name:"data",typeName:"bytes",type:void 0}],serialize:Tt,deserialize:Pt})),t.set("transaction_header",Ot({name:"transaction_header",baseName:"",fields:[{name:"expiration",typeName:"time_point_sec",type:void 0},{name:"ref_block_num",typeName:"uint16",type:void 0},{name:"ref_block_prefix",typeName:"uint32",type:void 0},{name:"max_net_usage_words",typeName:"varuint32",type:void 0},{name:"max_cpu_usage_ms",typeName:"uint8",type:void 0},{name:"delay_sec",typeName:"varuint32",type:void 0}],serialize:St,deserialize:Lt})),t.set("transaction",Ot({name:"transaction",baseName:"transaction_header",fields:[{name:"context_free_actions",typeName:"action[]",type:void 0},{name:"actions",typeName:"action[]",type:void 0},{name:"transaction_extensions",typeName:"extension",type:void 0}],serialize:St,deserialize:Lt})),t},Zt=(t,e)=>{const i=t.get(e);if(i&&i.aliasOfName)return Zt(t,i.aliasOfName);if(i)return i;if(e.endsWith("[]"))return Ot({name:e,arrayOf:Zt(t,e.substr(0,e.length-2)),serialize:Nt,deserialize:Dt});if(e.endsWith("?"))return Ot({name:e,optionalOf:Zt(t,e.substr(0,e.length-1)),serialize:At,deserialize:Mt});if(e.endsWith("$"))return Ot({name:e,extensionOf:Zt(t,e.substr(0,e.length-1)),serialize:Ct,deserialize:zt});throw new Error("Unknown type: "+e)},Kt=(t,e)=>{const i=new Map(t);if(e&&e.types)for(const{new_type_name:n,type:r}of e.types)i.set(n,Ot({name:n,aliasOfName:r}));if(e&&e.structs)for(const{name:n,base:r,fields:s}of e.structs)i.set(n,Ot({name:n,baseName:r,fields:s.map((({name:t,type:e})=>({name:t,typeName:e,type:void 0}))),serialize:St,deserialize:Lt}));if(e&&e.variants)for(const{name:n,types:r}of e.variants)i.set(n,Ot({name:n,fields:r.map((t=>({name:t,typeName:t,type:void 0}))),serialize:kt,deserialize:_t}));for(const[n,r]of i){r.baseName&&(r.base=Zt(i,r.baseName));for(const t of r.fields)t.type=Zt(i,t.typeName)}return i},Wt=t=>t.substr(6,2)+t.substr(4,2)+t.substr(2,2)+t.substr(0,2),Ht=(t,e)=>{const i=t.header?t.header.timestamp:t.timestamp,n=parseInt(Wt(t.id.substr(16,8)),16);return{expiration:Bt(Qt(i)+e),ref_block_num:65535&t.block_num,ref_block_prefix:n}},Gt=(t,e,i,n)=>{const r=t.actions.get(i);if(!r)throw new Error(`Unknown action ${i} in contract ${e}`);const s=new dt;return r.serialize(s,n),vt(s.asUint8Array())},Xt=(t,e,i,n,r)=>({account:e,name:i,authorization:n,data:Gt(t,e,i,r)}),Yt=(t,e,i,n)=>{const r=t.actions.get(i);if("string"===typeof n&&(n=bt(n)),!r)throw new Error(`Unknown action ${i} in contract ${e}`);const s=new dt;return s.pushArray(n),r.deserialize(s)},te=(t,e,i,n,r)=>({account:e,name:i,authorization:n,data:Yt(t,e,i,r)}),ee=(t,e)=>{let i,n;null===e?[i,n]=[he.null_t,e]:"string"===typeof e?[i,n]=[he.string,e]:"number"===typeof e?[i,n]=[he.int32,e]:e instanceof Uint8Array?[i,n]=[he.bytes,e]:Array.isArray(e)?[i,n]=[he.any_array,e]:2===Object.keys(e).length&&e.hasOwnProperty("type")&&e.hasOwnProperty("value")?[i,n]=[he[e.type],e.value]:[i,n]=[he.any_object,e],t.pushVaruint32(i.index),i.type.serialize(t,n)},ie=(t,e)=>{const i=t.getVaruint32();if(i>=ue.length)throw new Error("Tried to deserialize unknown anyvar type");const n=ue[i],r=n.type.deserialize(t,e);return e&&e.options.useShortForm||n.useShortForm?r:{type:n.type.name,value:r}},ne=t=>ie(t,new ut({useShortForm:!0})),re=(t,e)=>{const i=Object.entries(e);t.pushVaruint32(i.length);for(const[n,r]of i)t.pushString(n),ee(t,r)},se=(t,e)=>{const i=t.getVaruint32(),n={};for(let r=0;r<i;++r){let i=t.getString();if(i in n){let t=1;while(i+"_"+t in n)++t;i=i+"_"+t}n[i]=ie(t,e)}return n},oe=(t,e)=>{t.pushVaruint32(e.length);for(const i of e)ee(t,i)},ae=(t,e)=>{const i=t.getVaruint32(),n=[];for(let r=0;r<i;++r)n.push(ie(t,e));return n},ce=()=>{const t=jt();return t.set("null_t",Ot({name:"null_t",serialize:(t,e)=>{},deserialize:(t,e)=>{}})),t.set("any_object",Ot({name:"any_object",serialize:re,deserialize:se})),t.set("any_array",Ot({name:"any_array",serialize:oe,deserialize:ae})),t},le=ce(),he={null_t:{index:0,useShortForm:!0,type:le.get("null_t")},int64:{index:1,useShortForm:!1,type:le.get("int64")},uint64:{index:2,useShortForm:!1,type:le.get("uint64")},int32:{index:3,useShortForm:!0,type:le.get("int32")},uint32:{index:4,useShortForm:!1,type:le.get("uint32")},int16:{index:5,useShortForm:!1,type:le.get("int16")},uint16:{index:6,useShortForm:!1,type:le.get("uint16")},int8:{index:7,useShortForm:!1,type:le.get("int8")},uint8:{index:8,useShortForm:!1,type:le.get("uint8")},time_point:{index:9,useShortForm:!1,type:le.get("time_point")},checksum256:{index:10,useShortForm:!1,type:le.get("checksum256")},float64:{index:11,useShortForm:!1,type:le.get("float64")},string:{index:12,useShortForm:!0,type:le.get("string")},any_object:{index:13,useShortForm:!0,type:le.get("any_object")},any_array:{index:14,useShortForm:!0,type:le.get("any_array")},bytes:{index:15,useShortForm:!1,type:le.get("bytes")},symbol:{index:16,useShortForm:!1,type:le.get("symbol")},symbol_code:{index:17,useShortForm:!1,type:le.get("symbol_code")},asset:{index:18,useShortForm:!1,type:le.get("asset")}},ue=[he.null_t,he.int64,he.uint64,he.int32,he.uint32,he.int16,he.uint16,he.int8,he.uint8,he.time_point,he.checksum256,he.float64,he.string,he.any_object,he.any_array,he.bytes,he.symbol,he.symbol_code,he.asset],de=(t,e)=>{let i,n,r;if("string"===typeof e?i=e:Array.isArray(e)&&2===e.length?[i,r]=e:Array.isArray(e)&&3===e.length?[i,n,r]=e:[i,n,r]=[e.method,e.arg,e.filter],t.pushString(i),void 0===n?t.push(0):(t.push(1),ee(t,n)),void 0===r)t.push(0);else{t.pushVaruint32(r.length);for(const e of r)de(t,e)}};function pe(t){return t=t.replace(/\=/g,""),t=t.replace(/\+/g,"-"),t=t.replace(/\//g,"_"),t}function fe(){return{expiration:(new Date).toISOString().slice(0,-1),ref_block_num:0,ref_block_prefix:0,max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,context_free_actions:[],actions:[],transaction_extensions:[]}}var ge={};u(ge,{PrivateKey:()=>Fe,PublicKey:()=>Qe,Signature:()=>be,constructElliptic:()=>ke,generateKeyPair:()=>_e,k1Ec:()=>Se,r1Ec:()=>Le});var me=t=>{if(2!==t.type)throw new Error("Not WA Public Key (starts with PUB_WA_)");const e=new dt({array:t.data}),i=e.getUint8Array(33),n=e.get(),r=e.getString();return{data:i,userPresence:n,rpid:r}},Qe=class{constructor(t){this.key=t,this.ec=ke(t.type)}static fromString(t){const e=K(t);return new Qe(e)}static fromElliptic(t,e){const i=t.getPublic().getX().toArray("be",32),n=t.getPublic().getY().toArray("be",32);return new Qe({type:e,data:new Uint8Array([1&n[31]?3:2].concat(i))})}static equal(t,e){return t.key.type===e.key.type&&t.key.data.length===e.key.data.length&&t.key.data.every(((t,i)=>t===e.key.data[i]))&&t.ec===e.ec}toString(){return H(this.key)}toLegacyString(t){return W(this.key,t)}toElliptic(){return this.ec.keyPair({pub:r.from(this.key.data.slice(0,33))})}getType(){return this.key.type}isValid(){try{const t=this.toElliptic(),e=t.validate();return e.result}catch{return!1}}},Be=p(i(9722)),ye=p(i(46251)),Ee=t=>ye.sha256().update(t).digest("hex"),we=t=>ye.sha256().update(t).digest(),Ue=p(i(18787)),ve=t=>{if(2!==t.type)throw new Error("Not WA Signature (starts with SIG_WA)");const e=new dt({array:t.data}),i=new be({type:1,data:e.getUint8Array(65)}),n=e.getBytes().slice(),s=e.getBytes().slice(),o=new dt;o.pushArray(n),o.pushArray(we(s));const a=new Uint8Array(we(o.asUint8Array().slice()));let c=0;1&n[32]&&(c=1),4&n[32]&&(c=2);const l=JSON.parse(r.from(s).toString("utf8")),h=l.origin.replace("https://","");return{signature:i,authenticatorData:n,clientDataJSON:l,userPresence:c,rpid:h,digest:a}},be=class{constructor(t){this.signature=t,this.ec=ke(t.type)}static fromString(t){const e=it(t);return new be(e)}static fromElliptic(t,e){t.recoveryParam||(t.recoveryParam=0);const i=t.r.toArray("be",32),n=t.s.toArray("be",32);let r;0===e||1===e?(r=t.recoveryParam+27,t.recoveryParam<=3&&(r+=4)):2===e&&(r=t.recoveryParam);const s=new Uint8Array([r].concat(i,n));return new be({type:e,data:s})}toElliptic(){const t=32,e=32,i=new Be.default(this.signature.data.slice(1,t+1)),n=new Be.default(this.signature.data.slice(t+1,t+e+1));let r;0===this.signature.type||1===this.signature.type?(r=this.signature.data[0]-27,r>3&&(r-=4)):r=2===this.signature.type?this.signature.data[0]:0;const s=3&r;return{r:i,s:n,recoveryParam:s}}toString(){return nt(this.signature)}toBinary(){return this.signature.data}getType(){return this.signature.type}getEc(){return this.ec}verify(t,e,i=!0,s="utf8"){if(this.getType()!==e.getType())return!1;i&&("string"===typeof t&&(t=r.from(t,s)),t=this.ec.hash().update(t).digest());const o=e.getType(),a=this.toElliptic(),c=e.toElliptic();if(2===o){const i=me(e.key),o=ve(this.signature),{rpid:a,userPresence:c,authenticatorData:l,digest:h}=o,{type:u,challenge:d,origin:p}=o.clientDataJSON;if("webauthn.get"!==u)return n.log("Invalid Signature Type"),!1;const f=Ue.default.decode(d),g=r.from(t).toString(s);if(f!==g)return n.log("Invalid Challenge Decoded"),!1;if(l.length<37)return n.log("Invalid Authenticator Data"),!1;if(!p.startsWith("https://"))return n.log("Invalid Origin"),!1;if(a!==i.rpid)return n.log("Invalid Rpid"),!1;const m=we(a);if(!m.every(((t,e)=>t===l[e])))return!1;if(c<i.userPresence)return n.log("Invalid User Presence"),!1;t=h}return this.ec.verify(t,a,c,s)}recover(t,e=!0,i="utf8"){e&&("string"===typeof t&&(t=r.from(t,i)),t=this.ec.hash().update(t).digest());const n=this.toElliptic();if(2===this.signature.type){const{signature:e,digest:n,userPresence:s,rpid:o,clientDataJSON:a}=ve(this.signature),c=e.recover(n,!1),l=Ue.default.decode(a.challenge),h=r.from(t).toString(i);if(l!==h)throw new Error("Invalid recovery: digest signed does not match data");const u=new dt;return u.pushArray(c.key.data),u.push(s),u.pushString(o),new Qe({type:2,data:u.asUint8Array()})}{const e=this.ec.recoverPubKey(t,n,n.recoveryParam,i),r=this.ec.keyFromPublic(e);return Qe.fromElliptic(r,this.getType())}}},Fe=class{constructor(t){this.key=t,this.ec=ke(t.type)}static fromElliptic(t,e){return new Fe({type:e,data:t.getPrivate().toArrayLike(r,"be",32)})}static fromString(t){const e=Y(t);return new Fe(e)}toElliptic(){return this.ec.keyFromPrivate(this.key.data)}toLegacyString(){return tt(this.key)}toString(){return et(this.key)}getType(){return this.key.type}getPublicKey(){const t=this.toElliptic();return Qe.fromElliptic(t,this.getType())}sign(t,e=!0,i="utf8"){e&&("string"===typeof t&&(t=r.from(t,i)),t=this.ec.hash().update(t).digest());let n,s=0;const o=t=>!(128&t[1])&&!(0===t[1]&&!(128&t[2]))&&!(128&t[33])&&!(0===t[33]&&!(128&t[34])),a=e=>{const i=this.toElliptic(),n=i.sign(t,e);return be.fromElliptic(n,this.getType())};if(0===this.key.type)do{n=a({canonical:!0,pers:[++s]})}while(!o(n.toBinary()));else n=a({canonical:!0});return n}isValid(){try{const t=this.toElliptic(),e=t.validate();return e.result}catch{return!1}}},xe=i(14306),Se=new xe.ec("secp256k1"),Le=new xe.ec("p256"),ke=t=>0===t?Se:Le,_e=(t,e={})=>{if(!e.secureEnv)throw new Error("Key generation is completely INSECURE in production environments in the browser. If you are absolutely certain this does NOT describe your environment, set `secureEnv` in your options to `true`.  If this does describe your environment and you set `secureEnv` to `true`, YOU DO SO AT YOUR OWN RISK AND THE RISK OF YOUR USERS.");let i;i=0===t?Se:Le;const n=i.genKeyPair(e.ecOptions),r=Qe.fromElliptic(n,t),s=Fe.fromElliptic(n,t);return{publicKey:r,privateKey:s}},Ne=(t,e,i,n=Se)=>{const s=r.concat([r.from(t,"hex"),r.from(e),r.from(i?new Uint8Array(n.hash().update(i).digest()):new Uint8Array(32))]);return n.hash().update(s).digest()},De=class{constructor(t){this.keys=new Map,this.availableKeys=[];for(const e of t){const t=Fe.fromString(e),i=t.toElliptic(),n=t.getPublicKey().toString();this.keys.set(n,i),this.availableKeys.push(n)}}async getAvailableKeys(){return this.availableKeys}async sign({chainId:t,requiredKeys:e,serializedTransaction:i,serializedContextFreeData:n}){const r=Ne(t,i,n,Se),s=[];for(const o of e){const t=Qe.fromString(o),e=this.keys.get(G(o));if(e){const i=Fe.fromElliptic(e,t.getType()),n=i.sign(r,!1);s.push(n.toString())}}return{signatures:s,serializedTransaction:i,serializedContextFreeData:n}}},Ae=class{constructor(t){this.contracts=new Map,this.cachedAbis=new Map,this.transactionExtensions=[{id:1,type:"resource_payer",keys:["payer","max_net_bytes","max_cpu_us","max_memory_bytes"]}],this.rpc=t.rpc,this.authorityProvider=t.authorityProvider||t.rpc,this.abiProvider=t.abiProvider||t.rpc,t.signatureProvider&&(this.signatureProvider=t.signatureProvider),this.abiTypes=Kt($t()),this.transactionTypes=Kt(qt()),this.crypto=t.crypto||"undefined"!==typeof window&&window&&window.crypto||i.g&&i.g.crypto,this.recoverPersonalSignature=t.recoverPersonalSignature}getCrypto(){if(!this.crypto)throw new Error("No 'crypto' module found. On nodejs, do const { Crypto } = require('@peculiar/webcrypto'); const crypto = new Crypto; new Api({ rpc, crypto });");return this.crypto}getRecoverPersonalSignature(){if(!this.recoverPersonalSignature)throw new Error("No 'recoverPersonalSignature' function found. Do const { recoverPersonalSignature } = require('eth-sig-util'); new Api({ rpc, recoverPersonalSignature });");return this.recoverPersonalSignature}rawAbiToJson(t){const e=new dt({array:t});if(!pt(e.getString()))throw new Error("Unsupported abi version");return e.restartRead(),this.abiTypes.get("abi_def").deserialize(e)}jsonToRawAbi(t){const e=new dt;if(this.abiTypes.get("abi_def").serialize(e,t),!pt(e.getString()))throw new Error("Unsupported abi version");return e.asUint8Array()}async getCachedAbi(t,e=!1){if(!e&&this.cachedAbis.get(t))return this.cachedAbis.get(t);let i;try{const e=(await this.abiProvider.getRawAbi(t)).abi,n=this.rawAbiToJson(e);i={rawAbi:e,abi:n}}catch(n){throw n.message=`fetching abi for ${t}: ${n.message}`,n}if(!i)throw new Error(`Missing abi for ${t}`);return this.cachedAbis.set(t,i),i}async getAbi(t,e=!1){return(await this.getCachedAbi(t,e)).abi}async getTransactionAbis(t,e=!1){const i=(t.context_free_actions||[]).concat(t.actions),n=i.map((t=>t.account)),r=new Set(n),s=Array.from(r).map((async t=>{const{rawAbi:i}=await this.getCachedAbi(t,e);return{accountName:t,abi:i}}));return Promise.all(s)}async getContract(t,e=!1){if(!e&&this.contracts.get(t))return this.contracts.get(t);const i=await this.getAbi(t,e),n=Kt(jt(),i),r=new Map;for(const{name:o,type:a}of i.actions)r.set(o,Zt(n,a));const s={types:n,actions:r};return this.contracts.set(t,s),s}serialize(t,e,i){this.transactionTypes.get(e).serialize(t,i)}deserialize(t,e){return this.transactionTypes.get(e).deserialize(t)}serializeTransaction(t){const e=new dt;return this.serialize(e,"transaction",{max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,context_free_actions:[],transaction_extensions:[],...t}),e.asUint8Array()}serializeContextFreeData(t){if(!t||!t.length)return;const e=new dt;e.pushVaruint32(t.length);for(const i of t)e.pushBytes(i);return e.asUint8Array()}deserializeTransaction(t){const e=new dt;return e.pushArray(t),this.deserialize(e,"transaction")}serializeTransactionExtensions(t){let e=[];if(t.resource_payer){const i=new dt,n=Kt(Vt());n.get("resource_payer").serialize(i,t.resource_payer),e=[...e,[1,vt(i.asUint8Array())]]}return e}deserializeTransactionExtensions(t){const e={};return t.forEach((t=>{const i=this.transactionExtensions.find((e=>e.id===t[0]));if(void 0===i)throw new Error(`Transaction Extension could not be determined: ${t}`);const n=Kt(Vt()),r=new dt;r.pushArray(bt(t[1]));const s=n.get(i.type).deserialize(r);1===t[0]&&(s.max_net_bytes=Number(s.max_net_bytes),s.max_cpu_us=Number(s.max_cpu_us),s.max_memory_bytes=Number(s.max_memory_bytes),e.resource_payer=s)})),e}deleteTransactionExtensionObjects(t){return delete t.resource_payer,t}async serializeActions(t){return await Promise.all(t.map((async t=>{const{account:e,name:i,authorization:n,data:r}=t,s=await this.getContract(e);return"object"!==typeof r?t:Xt(s,e,i,n,r)})))}async deserializeActions(t){return await Promise.all(t.map((async({account:t,name:e,authorization:i,data:n})=>{const r=await this.getContract(t);return te(r,t,e,i,n)})))}async deserializeActionsSync(t=[]){let e=[];for(const{account:i,name:n,authorization:r,data:s}of t){const t=await this.getContract(i);e.push(te(t,i,n,r,s))}return e}async deserializeActionsSyncWithAbi(t=[]){let e=[];for(const r of t)try{const{account:t,name:i,authorization:s,data:o}=r,a=await this.getContract(t),c=te(a,t,i,s,o);if("eosio"===c.account&&"setabi"===c.name){const t=bt(c.data.abi);n.log(t),c.data.abi=await this.rawAbiToJson(t),this.cachedAbis.set(c.data.account,{rawAbi:t,abi:c.data.abi})}e.push(c)}catch(i){n.log(i),e.push(r)}return e}async serializeTransactionWithActions(t){t.context_free_actions=await this.serializeActions(t.context_free_actions||[]),t.actions=await this.serializeActions(t.actions);const e=this.serializeTransaction(t),i=this.serializeContextFreeData(t.context_free_data);return{serializedTransaction:e,serializedContextFreeData:i}}async deserializeTransactionWithActions(t){"string"===typeof t&&(t=bt(t));const e=this.deserializeTransaction(t),i=await this.deserializeActionsSync(e.context_free_actions),n=await this.deserializeActionsSync(e.actions);return{...e,context_free_actions:i,actions:n}}deflateSerializedArray(t){return(0,ct.deflate)(t,{level:9})}inflateSerializedArray(t){return(0,ct.inflate)(t)}async transact(t,{broadcast:e=!0,sign:i=!0,readOnlyTrx:n,returnFailureTraces:r,requiredKeys:s,compression:o,blocksBehind:a,useLastIrreversible:c,expireSeconds:l,transactionHeader:h}={}){const u=await this.rpc.get_info();if(!h){if("number"===typeof a&&c)throw new Error("Use either blocksBehind or useLastIrreversible");if("number"!==typeof a&&!c)throw new Error("Must provide one blocksBehind or useLastIrreversible");if(!l)throw new Error("Must provide expireSeconds");if(h=await this.generateTapos(u,t,a,c,l),!this.hasRequiredTaposFields(h))throw new Error("Required configuration or TAPOS fields are not present")}const d=await this.getTransactionAbis(t);t={...h,transaction_extensions:await this.serializeTransactionExtensions(t),context_free_actions:await this.serializeActions(t.context_free_actions||[]),actions:await this.serializeActions(t.actions)},t=this.deleteTransactionExtensionObjects(t);const p=this.serializeTransaction(t),f=this.serializeContextFreeData(t.context_free_data);let g={serializedTransaction:p,serializedContextFreeData:f,signatures:[]};if(i){if(!this.signatureProvider)throw new Error("No signature provider available");if(!s){const e=await this.signatureProvider.getAvailableKeys();s=await this.authorityProvider.getRequiredKeys({transaction:t,availableKeys:e})}g=await this.signatureProvider.sign({chainId:u.chain_id,requiredKeys:s,serializedTransaction:p,serializedContextFreeData:f,abis:d})}return e?o?this.pushCompressedSignedTransaction(g,n,r):this.pushSignedTransaction(g,n,r):{...g,transactionHeader:h}}async transactWithDelay(t,e={},i){async function n(t){return new Promise((e=>{setTimeout(e,t)}))}const r=await this.transact(t,e);return await n(i),r}async query(t,e,i,{sign:n,requiredKeys:r,authorization:s=[]}){const o=await this.rpc.get_info(),a=await this.tryRefBlockFromGetInfo(o),c=new dt;de(c,i);const l={...Ht(a,1800),context_free_actions:[],actions:[{account:t,name:"queryit",authorization:s,data:vt(c.asUint8Array())}]},h=this.serializeTransaction(l);let u=[];if(n){if(!this.signatureProvider)throw new Error("No signature provider available");const t=await this.getTransactionAbis(l);if(!r){const t=await this.signatureProvider.getAvailableKeys();r=await this.authorityProvider.getRequiredKeys({transaction:l,availableKeys:t})}const e=await this.signatureProvider.sign({chainId:o.chain_id,requiredKeys:r,serializedTransaction:h,serializedContextFreeData:void 0,abis:t});u=e.signatures}const d=await this.rpc.send_transaction({signatures:u,compression:0,serializedTransaction:h}),p=new dt({array:bt(d.processed.action_traces[0][1].return_value)});return e?ne(p):ie(p)}async pushSignedTransaction({signatures:t,serializedTransaction:e,serializedContextFreeData:i},n=!1,r=!1){return n?this.rpc.push_ro_transaction({signatures:t,serializedTransaction:e,serializedContextFreeData:i},r):this.rpc.push_transaction({signatures:t,serializedTransaction:e,serializedContextFreeData:i})}async pushCompressedSignedTransaction({signatures:t,serializedTransaction:e,serializedContextFreeData:i},n=!1,r=!1){const s=this.deflateSerializedArray(e),o=this.deflateSerializedArray(i||new Uint8Array(0));return n?this.rpc.push_ro_transaction({signatures:t,compression:1,serializedTransaction:s,serializedContextFreeData:o},r):this.rpc.push_transaction({signatures:t,compression:1,serializedTransaction:s,serializedContextFreeData:o})}async generateTapos(t,e,i=3,n,r){if(t||(t=await this.rpc.get_info()),n){const i=await this.tryRefBlockFromGetInfo(t);return{...Ht(i,r),...e}}const s=t.head_block_num-i,o=s<=t.last_irreversible_block_num?await this.tryGetBlockInfo(s):await this.tryGetBlockHeaderState(s);return{...Ht(o,r),...e}}hasRequiredTaposFields({expiration:t,ref_block_num:e,ref_block_prefix:i}){return!(!t||"number"!==typeof e||"number"!==typeof i)}async tryGetBlockHeaderState(t){try{return await this.rpc.get_block_header_state(t)}catch(e){return await this.tryGetBlockInfo(t)}}async tryGetBlockInfo(t){try{return await this.rpc.get_block_info(t)}catch(e){return await this.rpc.get_block(t)}}async tryRefBlockFromGetInfo(t){if(t.hasOwnProperty("last_irreversible_block_id")&&t.hasOwnProperty("last_irreversible_block_num")&&t.hasOwnProperty("last_irreversible_block_time"))return{block_num:t.last_irreversible_block_num,id:t.last_irreversible_block_id,timestamp:t.last_irreversible_block_time};{const e=await this.tryGetBlockInfo(t.last_irreversible_block_num);return{block_num:e.block_num,id:e.id,timestamp:e.timestamp}}}with(t){return new Ce(this,t)}buildTransaction(t){const e=new Me(this);return t?t(e):e}async getAccountKeys(t,e){try{const{permissions:i}=await this.rpc.get_account(t),n=i.find((({perm_name:t})=>t===e));if(n)return n.required_auth.keys.map((({key:t})=>Qe.fromString(t).toString()))}catch(i){n.log(i)}return[]}async sha256Digest(t){const e=t instanceof Uint8Array?t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength):t;return new Uint8Array(await this.getCrypto().subtle.digest("SHA-256",e))}async matchRsaKeyToSignature({action:t,credentials:e}){const{signature:i,nonce:n,trx:s}=t.data;for(const o of e){const t=o.key.key[1],e=pe(r.from(t.exponent,"hex").toString("base64")),a=pe(r.from(t.modulus,"hex").toString("base64")),c=JSON.parse(i.client_json),l=new Uint8Array(lt.default.toBuffer(c.challenge)),h=new dt,u=this.serializeTransaction(s);h.pushArray(u),h.pushNumberAsUint64(n);const d=await this.sha256Digest(h.asUint8Array().slice());if(vt(l)!==vt(d))continue;const p=await this.getCrypto().subtle.importKey("jwk",{kty:"RSA",e,n:a,alg:"RS256",ext:!1},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]),f=bt(i.auth_data),g=bt(Ee(i.client_json)),m=new Uint8Array([...f,...g]),Q=await this.getCrypto().subtle.verify("RSASSA-PKCS1-v1_5",p,bt(i.signature),m);if(Q)return!0}return!1}async matchEthKeyToSignature({action:t,credentials:e}){const{signature:i,nonce:n,trx:r}=t.data;for(const s of e){const t="0x"+s.key.key[1],e=new dt,o=this.serializeTransaction(r);e.pushArray(o),e.pushNumberAsUint64(n);const a=await this.sha256Digest(e.asUint8Array().slice()),c=vt(a),l="0x"+i.signature,h=this.getRecoverPersonalSignature()({data:c,sig:l});if(h===t)return!0}return!1}async checkIfKeysMatchWaAction({actor:t,permission:e,action:i}){if(!i.authorization.every((i=>i.actor===t&&i.permission===e)))return n.log("WA RSA/ETH Authorization mismatch"),!1;const{account:r,key:s}=i.data;if(r!==t)return n.log("Account mismatch"),!1;const o=s.key[0],a=await this.rpc.fetchCredentials(t),c=a.filter((t=>t.key.key[0]===o));return"eth_public_key"===o?this.matchEthKeyToSignature({action:i,credentials:c}):"rsa_public_key"===o?this.matchRsaKeyToSignature({action:i,credentials:c}):(n.log(`Key type ${o} not supported`),!1)}async checkIfKeysMatchTransaction({actor:t,permission:e,transaction:i,signatures:r,chainId:s}){i=JSON.parse(JSON.stringify(i)),r=JSON.parse(JSON.stringify(r));try{if(1===i.actions.length&&"webauthn"===i.actions[0].account&&"exec"===i.actions[0].name){const n=await this.checkIfKeysMatchWaAction({actor:t,permission:e,action:i.actions[0]});return n}{for(const r of i.actions)if(!r.authorization.every((i=>i.actor===t&&i.permission===e)))return n.log("WA R1 Authorization mismatch"),!1;s=s||(await this.rpc.get_info()).chain_id;const{serializedTransaction:o,serializedContextFreeData:a}=await this.serializeTransactionWithActions(i),c=await this.getAccountKeys(t,e),l=r.every((t=>{const e=be.fromString(t),i=Ne(s,o,a,e.getEc());return c.some((t=>e.verify(i,Qe.fromString(t),!1)))}));return l}}catch(o){return n.log(o),!1}}},Me=class{constructor(t){this.actions=[],this.contextFreeGroups=[],this.api=t}with(t){const e=new Ce(this.api,t);return this.actions.push(e),e}associateContextFree(t){return this.contextFreeGroups.push(t),this}async send(t){const e=[],i=[],n=this.actions.map((t=>t.serializedData));return await Promise.all(this.contextFreeGroups.map((async t=>{const{action:r,contextFreeAction:s,contextFreeData:o}=t({cfd:e.length,cfa:i.length});r&&n.push(r),s&&i.push(s),o&&e.push(o)}))),this.contextFreeGroups=[],this.actions=[],await this.api.transact({context_free_data:e,context_free_actions:i,actions:n},t)}},Ce=class{constructor(t,e){this.api=t,this.accountName=e}as(t=[]){let e=[];return e=t&&"string"===typeof t?[{actor:t,permission:"active"}]:t,new ze(this,this.api,this.accountName,e)}},ze=class{constructor(t,e,i,n){const r=e.cachedAbis.get(i);if(!r)throw new Error("ABI must be cached before using ActionBuilder, run api.getAbi()");const s=Kt(jt(),r.abi),o=new Map;for(const{name:a,type:c}of r.abi.actions)o.set(a,Zt(s,c));o.forEach(((e,r)=>{Object.assign(this,{[r]:(...a)=>{const c={};a.forEach(((t,i)=>{const n=e.fields[i];c[n.name]=t}));const l=Xt({types:s,actions:o},i,r,n,c);return t.serializedData=l,l}})}))}},Re={},Ie={Api:Ae,ApiInterfaces:Re,JsonRpc:ot,Numeric:w,RpcInterfaces:at,RpcError:m,Serialize:ht,JsSignatureProvider:De,Key:ge,sha256:Ee}},9722:function(t,e,i){t=i.nmd(t),function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function r(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}function s(t,e,i){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(i=e,e=10),this._init(t||0,e||10,i||"be"))}var o;"object"===typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:i(71862).Buffer}catch(_){}function a(t,e){var i=t.charCodeAt(e);return i>=48&&i<=57?i-48:i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:void n(!1,"Invalid character in "+t)}function c(t,e,i){var n=a(t,i);return i-1>=e&&(n|=a(t,i-1)<<4),n}function l(t,e,i,r){for(var s=0,o=0,a=Math.min(t.length,i),c=e;c<a;c++){var l=t.charCodeAt(c)-48;s*=r,o=l>=49?l-49+10:l>=17?l-17+10:l,n(l>=0&&o<r,"Invalid character"),s+=o}return s}function h(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(s.isBN=function(t){return t instanceof s||null!==t&&"object"===typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,i){if("number"===typeof t)return this._initNumber(t,e,i);if("object"===typeof t)return this._initArray(t,e,i);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36),t=t.toString().replace(/\s+/g,"");var r=0;"-"===t[0]&&(r++,this.negative=1),r<t.length&&(16===e?this._parseHex(t,r,i):(this._parseBase(t,e,r),"le"===i&&this._initArray(this.toArray(),e,i)))},s.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),e,i)},s.prototype._initArray=function(t,e,i){if(n("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var s,o,a=0;if("be"===i)for(r=t.length-1,s=0;r>=0;r-=3)o=t[r]|t[r-1]<<8|t[r-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,a+=24,a>=26&&(a-=26,s++);else if("le"===i)for(r=0,s=0;r<t.length;r+=3)o=t[r]|t[r+1]<<8|t[r+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,a+=24,a>=26&&(a-=26,s++);return this._strip()},s.prototype._parseHex=function(t,e,i){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,s=0,o=0;if("be"===i)for(n=t.length-1;n>=e;n-=2)r=c(t,e,n)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;else{var a=t.length-e;for(n=a%2===0?e+1:e;n<t.length;n+=2)r=c(t,e,n)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8}this._strip()},s.prototype._parseBase=function(t,e,i){this.words=[0],this.length=1;for(var n=0,r=1;r<=67108863;r*=e)n++;n--,r=r/e|0;for(var s=t.length-i,o=s%n,a=Math.min(s,s-o)+i,c=0,h=i;h<a;h+=n)c=l(t,h,h+n,e),this.imuln(r),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==o){var u=1;for(c=l(t,h,t.length,e),h=0;h<o;h++)u*=e;this.imuln(u),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype._move=function(t){h(t,this)},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){while(this.length<t)this.words[this.length++]=0;return this},s.prototype._strip=function(){while(this.length>1&&0===this.words[this.length-1])this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch(_){s.prototype.inspect=u}else s.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(t,e){var i;if(t=t||10,e=0|e||1,16===t||"hex"===t){i="";for(var r=0,s=0,o=0;o<this.length;o++){var a=this.words[o],c=(16777215&(a<<r|s)).toString(16);s=a>>>24-r&16777215,r+=2,r>=26&&(r-=26,o--),i=0!==s||o!==this.length-1?d[6-c.length]+c+i:c+i}0!==s&&(i=s.toString(16)+i);while(i.length%e!==0)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(t===(0|t)&&t>=2&&t<=36){var l=p[t],h=f[t];i="";var u=this.clone();u.negative=0;while(!u.isZero()){var g=u.modrn(h).toString(t);u=u.idivn(h),i=u.isZero()?g+i:d[l-g.length]+g+i}this.isZero()&&(i="0"+i);while(i.length%e!==0)i="0"+i;return 0!==this.negative&&(i="-"+i),i}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(t,e){return this.toArrayLike(o,t,e)}),s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};var g=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)};function m(t){for(var e=new Array(t.bitLength()),i=0;i<e.length;i++){var n=i/26|0,r=i%26;e[i]=t.words[n]>>>r&1}return e}function Q(t,e,i){i.negative=e.negative^t.negative;var n=t.length+e.length|0;i.length=n,n=n-1|0;var r=0|t.words[0],s=0|e.words[0],o=r*s,a=67108863&o,c=o/67108864|0;i.words[0]=a;for(var l=1;l<n;l++){for(var h=c>>>26,u=67108863&c,d=Math.min(l,e.length-1),p=Math.max(0,l-t.length+1);p<=d;p++){var f=l-p|0;r=0|t.words[f],s=0|e.words[p],o=r*s+u,h+=o/67108864|0,u=67108863&o}i.words[l]=0|u,c=0|h}return 0!==c?i.words[l]=0|c:i.length--,i._strip()}s.prototype.toArrayLike=function(t,e,i){this._strip();var r=this.byteLength(),s=i||Math.max(1,r);n(r<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0");var o=g(t,s),a="le"===e?"LE":"BE";return this["_toArrayLike"+a](o,r),o},s.prototype._toArrayLikeLE=function(t,e){for(var i=0,n=0,r=0,s=0;r<this.length;r++){var o=this.words[r]<<s|n;t[i++]=255&o,i<t.length&&(t[i++]=o>>8&255),i<t.length&&(t[i++]=o>>16&255),6===s?(i<t.length&&(t[i++]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(i<t.length){t[i++]=n;while(i<t.length)t[i++]=0}},s.prototype._toArrayLikeBE=function(t,e){for(var i=t.length-1,n=0,r=0,s=0;r<this.length;r++){var o=this.words[r]<<s|n;t[i--]=255&o,i>=0&&(t[i--]=o>>8&255),i>=0&&(t[i--]=o>>16&255),6===s?(i>=0&&(t[i--]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(i>=0){t[i--]=n;while(i>=0)t[i--]=0}},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,i=0;return e>=4096&&(i+=13,e>>>=13),e>=64&&(i+=7,e>>>=7),e>=8&&(i+=4,e>>>=4),e>=2&&(i+=2,e>>>=2),i+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,i=0;return 0===(8191&e)&&(i+=13,e>>>=13),0===(127&e)&&(i+=7,e>>>=7),0===(15&e)&&(i+=4,e>>>=4),0===(3&e)&&(i+=2,e>>>=2),0===(1&e)&&i++,i},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var i=this._zeroBits(this.words[e]);if(t+=i,26!==i)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){while(this.length<t.length)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},s.prototype.ior=function(t){return n(0===(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var i=0;i<e.length;i++)this.words[i]=this.words[i]&t.words[i];return this.length=e.length,this._strip()},s.prototype.iand=function(t){return n(0===(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,i;this.length>t.length?(e=this,i=t):(e=t,i=this);for(var n=0;n<i.length;n++)this.words[n]=e.words[n]^i.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},s.prototype.ixor=function(t){return n(0===(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){n("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),i=t%26;this._expand(e),i>0&&e--;for(var r=0;r<e;r++)this.words[r]=67108863&~this.words[r];return i>0&&(this.words[r]=~this.words[r]&67108863>>26-i),this._strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){n("number"===typeof t&&t>=0);var i=t/26|0,r=t%26;return this._expand(i+1),this.words[i]=e?this.words[i]|1<<r:this.words[i]&~(1<<r),this._strip()},s.prototype.iadd=function(t){var e,i,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(i=this,n=t):(i=t,n=this);for(var r=0,s=0;s<n.length;s++)e=(0|i.words[s])+(0|n.words[s])+r,this.words[s]=67108863&e,r=e>>>26;for(;0!==r&&s<i.length;s++)e=(0|i.words[s])+r,this.words[s]=67108863&e,r=e>>>26;if(this.length=i.length,0!==r)this.words[this.length]=r,this.length++;else if(i!==this)for(;s<i.length;s++)this.words[s]=i.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var i,n,r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(i=this,n=t):(i=t,n=this);for(var s=0,o=0;o<n.length;o++)e=(0|i.words[o])-(0|n.words[o])+s,s=e>>26,this.words[o]=67108863&e;for(;0!==s&&o<i.length;o++)e=(0|i.words[o])+s,s=e>>26,this.words[o]=67108863&e;if(0===s&&o<i.length&&i!==this)for(;o<i.length;o++)this.words[o]=i.words[o];return this.length=Math.max(this.length,o),i!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var B=function(t,e,i){var n,r,s,o=t.words,a=e.words,c=i.words,l=0,h=0|o[0],u=8191&h,d=h>>>13,p=0|o[1],f=8191&p,g=p>>>13,m=0|o[2],Q=8191&m,B=m>>>13,y=0|o[3],E=8191&y,w=y>>>13,U=0|o[4],v=8191&U,b=U>>>13,F=0|o[5],x=8191&F,S=F>>>13,L=0|o[6],k=8191&L,_=L>>>13,N=0|o[7],D=8191&N,A=N>>>13,M=0|o[8],C=8191&M,z=M>>>13,R=0|o[9],I=8191&R,T=R>>>13,P=0|a[0],O=8191&P,J=P>>>13,j=0|a[1],$=8191&j,V=j>>>13,q=0|a[2],Z=8191&q,K=q>>>13,W=0|a[3],H=8191&W,G=W>>>13,X=0|a[4],Y=8191&X,tt=X>>>13,et=0|a[5],it=8191&et,nt=et>>>13,rt=0|a[6],st=8191&rt,ot=rt>>>13,at=0|a[7],ct=8191&at,lt=at>>>13,ht=0|a[8],ut=8191&ht,dt=ht>>>13,pt=0|a[9],ft=8191&pt,gt=pt>>>13;i.negative=t.negative^e.negative,i.length=19,n=Math.imul(u,O),r=Math.imul(u,J),r=r+Math.imul(d,O)|0,s=Math.imul(d,J);var mt=(l+n|0)+((8191&r)<<13)|0;l=(s+(r>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(f,O),r=Math.imul(f,J),r=r+Math.imul(g,O)|0,s=Math.imul(g,J),n=n+Math.imul(u,$)|0,r=r+Math.imul(u,V)|0,r=r+Math.imul(d,$)|0,s=s+Math.imul(d,V)|0;var Qt=(l+n|0)+((8191&r)<<13)|0;l=(s+(r>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,n=Math.imul(Q,O),r=Math.imul(Q,J),r=r+Math.imul(B,O)|0,s=Math.imul(B,J),n=n+Math.imul(f,$)|0,r=r+Math.imul(f,V)|0,r=r+Math.imul(g,$)|0,s=s+Math.imul(g,V)|0,n=n+Math.imul(u,Z)|0,r=r+Math.imul(u,K)|0,r=r+Math.imul(d,Z)|0,s=s+Math.imul(d,K)|0;var Bt=(l+n|0)+((8191&r)<<13)|0;l=(s+(r>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(E,O),r=Math.imul(E,J),r=r+Math.imul(w,O)|0,s=Math.imul(w,J),n=n+Math.imul(Q,$)|0,r=r+Math.imul(Q,V)|0,r=r+Math.imul(B,$)|0,s=s+Math.imul(B,V)|0,n=n+Math.imul(f,Z)|0,r=r+Math.imul(f,K)|0,r=r+Math.imul(g,Z)|0,s=s+Math.imul(g,K)|0,n=n+Math.imul(u,H)|0,r=r+Math.imul(u,G)|0,r=r+Math.imul(d,H)|0,s=s+Math.imul(d,G)|0;var yt=(l+n|0)+((8191&r)<<13)|0;l=(s+(r>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(v,O),r=Math.imul(v,J),r=r+Math.imul(b,O)|0,s=Math.imul(b,J),n=n+Math.imul(E,$)|0,r=r+Math.imul(E,V)|0,r=r+Math.imul(w,$)|0,s=s+Math.imul(w,V)|0,n=n+Math.imul(Q,Z)|0,r=r+Math.imul(Q,K)|0,r=r+Math.imul(B,Z)|0,s=s+Math.imul(B,K)|0,n=n+Math.imul(f,H)|0,r=r+Math.imul(f,G)|0,r=r+Math.imul(g,H)|0,s=s+Math.imul(g,G)|0,n=n+Math.imul(u,Y)|0,r=r+Math.imul(u,tt)|0,r=r+Math.imul(d,Y)|0,s=s+Math.imul(d,tt)|0;var Et=(l+n|0)+((8191&r)<<13)|0;l=(s+(r>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(x,O),r=Math.imul(x,J),r=r+Math.imul(S,O)|0,s=Math.imul(S,J),n=n+Math.imul(v,$)|0,r=r+Math.imul(v,V)|0,r=r+Math.imul(b,$)|0,s=s+Math.imul(b,V)|0,n=n+Math.imul(E,Z)|0,r=r+Math.imul(E,K)|0,r=r+Math.imul(w,Z)|0,s=s+Math.imul(w,K)|0,n=n+Math.imul(Q,H)|0,r=r+Math.imul(Q,G)|0,r=r+Math.imul(B,H)|0,s=s+Math.imul(B,G)|0,n=n+Math.imul(f,Y)|0,r=r+Math.imul(f,tt)|0,r=r+Math.imul(g,Y)|0,s=s+Math.imul(g,tt)|0,n=n+Math.imul(u,it)|0,r=r+Math.imul(u,nt)|0,r=r+Math.imul(d,it)|0,s=s+Math.imul(d,nt)|0;var wt=(l+n|0)+((8191&r)<<13)|0;l=(s+(r>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(k,O),r=Math.imul(k,J),r=r+Math.imul(_,O)|0,s=Math.imul(_,J),n=n+Math.imul(x,$)|0,r=r+Math.imul(x,V)|0,r=r+Math.imul(S,$)|0,s=s+Math.imul(S,V)|0,n=n+Math.imul(v,Z)|0,r=r+Math.imul(v,K)|0,r=r+Math.imul(b,Z)|0,s=s+Math.imul(b,K)|0,n=n+Math.imul(E,H)|0,r=r+Math.imul(E,G)|0,r=r+Math.imul(w,H)|0,s=s+Math.imul(w,G)|0,n=n+Math.imul(Q,Y)|0,r=r+Math.imul(Q,tt)|0,r=r+Math.imul(B,Y)|0,s=s+Math.imul(B,tt)|0,n=n+Math.imul(f,it)|0,r=r+Math.imul(f,nt)|0,r=r+Math.imul(g,it)|0,s=s+Math.imul(g,nt)|0,n=n+Math.imul(u,st)|0,r=r+Math.imul(u,ot)|0,r=r+Math.imul(d,st)|0,s=s+Math.imul(d,ot)|0;var Ut=(l+n|0)+((8191&r)<<13)|0;l=(s+(r>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,n=Math.imul(D,O),r=Math.imul(D,J),r=r+Math.imul(A,O)|0,s=Math.imul(A,J),n=n+Math.imul(k,$)|0,r=r+Math.imul(k,V)|0,r=r+Math.imul(_,$)|0,s=s+Math.imul(_,V)|0,n=n+Math.imul(x,Z)|0,r=r+Math.imul(x,K)|0,r=r+Math.imul(S,Z)|0,s=s+Math.imul(S,K)|0,n=n+Math.imul(v,H)|0,r=r+Math.imul(v,G)|0,r=r+Math.imul(b,H)|0,s=s+Math.imul(b,G)|0,n=n+Math.imul(E,Y)|0,r=r+Math.imul(E,tt)|0,r=r+Math.imul(w,Y)|0,s=s+Math.imul(w,tt)|0,n=n+Math.imul(Q,it)|0,r=r+Math.imul(Q,nt)|0,r=r+Math.imul(B,it)|0,s=s+Math.imul(B,nt)|0,n=n+Math.imul(f,st)|0,r=r+Math.imul(f,ot)|0,r=r+Math.imul(g,st)|0,s=s+Math.imul(g,ot)|0,n=n+Math.imul(u,ct)|0,r=r+Math.imul(u,lt)|0,r=r+Math.imul(d,ct)|0,s=s+Math.imul(d,lt)|0;var vt=(l+n|0)+((8191&r)<<13)|0;l=(s+(r>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(C,O),r=Math.imul(C,J),r=r+Math.imul(z,O)|0,s=Math.imul(z,J),n=n+Math.imul(D,$)|0,r=r+Math.imul(D,V)|0,r=r+Math.imul(A,$)|0,s=s+Math.imul(A,V)|0,n=n+Math.imul(k,Z)|0,r=r+Math.imul(k,K)|0,r=r+Math.imul(_,Z)|0,s=s+Math.imul(_,K)|0,n=n+Math.imul(x,H)|0,r=r+Math.imul(x,G)|0,r=r+Math.imul(S,H)|0,s=s+Math.imul(S,G)|0,n=n+Math.imul(v,Y)|0,r=r+Math.imul(v,tt)|0,r=r+Math.imul(b,Y)|0,s=s+Math.imul(b,tt)|0,n=n+Math.imul(E,it)|0,r=r+Math.imul(E,nt)|0,r=r+Math.imul(w,it)|0,s=s+Math.imul(w,nt)|0,n=n+Math.imul(Q,st)|0,r=r+Math.imul(Q,ot)|0,r=r+Math.imul(B,st)|0,s=s+Math.imul(B,ot)|0,n=n+Math.imul(f,ct)|0,r=r+Math.imul(f,lt)|0,r=r+Math.imul(g,ct)|0,s=s+Math.imul(g,lt)|0,n=n+Math.imul(u,ut)|0,r=r+Math.imul(u,dt)|0,r=r+Math.imul(d,ut)|0,s=s+Math.imul(d,dt)|0;var bt=(l+n|0)+((8191&r)<<13)|0;l=(s+(r>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(I,O),r=Math.imul(I,J),r=r+Math.imul(T,O)|0,s=Math.imul(T,J),n=n+Math.imul(C,$)|0,r=r+Math.imul(C,V)|0,r=r+Math.imul(z,$)|0,s=s+Math.imul(z,V)|0,n=n+Math.imul(D,Z)|0,r=r+Math.imul(D,K)|0,r=r+Math.imul(A,Z)|0,s=s+Math.imul(A,K)|0,n=n+Math.imul(k,H)|0,r=r+Math.imul(k,G)|0,r=r+Math.imul(_,H)|0,s=s+Math.imul(_,G)|0,n=n+Math.imul(x,Y)|0,r=r+Math.imul(x,tt)|0,r=r+Math.imul(S,Y)|0,s=s+Math.imul(S,tt)|0,n=n+Math.imul(v,it)|0,r=r+Math.imul(v,nt)|0,r=r+Math.imul(b,it)|0,s=s+Math.imul(b,nt)|0,n=n+Math.imul(E,st)|0,r=r+Math.imul(E,ot)|0,r=r+Math.imul(w,st)|0,s=s+Math.imul(w,ot)|0,n=n+Math.imul(Q,ct)|0,r=r+Math.imul(Q,lt)|0,r=r+Math.imul(B,ct)|0,s=s+Math.imul(B,lt)|0,n=n+Math.imul(f,ut)|0,r=r+Math.imul(f,dt)|0,r=r+Math.imul(g,ut)|0,s=s+Math.imul(g,dt)|0,n=n+Math.imul(u,ft)|0,r=r+Math.imul(u,gt)|0,r=r+Math.imul(d,ft)|0,s=s+Math.imul(d,gt)|0;var Ft=(l+n|0)+((8191&r)<<13)|0;l=(s+(r>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,n=Math.imul(I,$),r=Math.imul(I,V),r=r+Math.imul(T,$)|0,s=Math.imul(T,V),n=n+Math.imul(C,Z)|0,r=r+Math.imul(C,K)|0,r=r+Math.imul(z,Z)|0,s=s+Math.imul(z,K)|0,n=n+Math.imul(D,H)|0,r=r+Math.imul(D,G)|0,r=r+Math.imul(A,H)|0,s=s+Math.imul(A,G)|0,n=n+Math.imul(k,Y)|0,r=r+Math.imul(k,tt)|0,r=r+Math.imul(_,Y)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(x,it)|0,r=r+Math.imul(x,nt)|0,r=r+Math.imul(S,it)|0,s=s+Math.imul(S,nt)|0,n=n+Math.imul(v,st)|0,r=r+Math.imul(v,ot)|0,r=r+Math.imul(b,st)|0,s=s+Math.imul(b,ot)|0,n=n+Math.imul(E,ct)|0,r=r+Math.imul(E,lt)|0,r=r+Math.imul(w,ct)|0,s=s+Math.imul(w,lt)|0,n=n+Math.imul(Q,ut)|0,r=r+Math.imul(Q,dt)|0,r=r+Math.imul(B,ut)|0,s=s+Math.imul(B,dt)|0,n=n+Math.imul(f,ft)|0,r=r+Math.imul(f,gt)|0,r=r+Math.imul(g,ft)|0,s=s+Math.imul(g,gt)|0;var xt=(l+n|0)+((8191&r)<<13)|0;l=(s+(r>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(I,Z),r=Math.imul(I,K),r=r+Math.imul(T,Z)|0,s=Math.imul(T,K),n=n+Math.imul(C,H)|0,r=r+Math.imul(C,G)|0,r=r+Math.imul(z,H)|0,s=s+Math.imul(z,G)|0,n=n+Math.imul(D,Y)|0,r=r+Math.imul(D,tt)|0,r=r+Math.imul(A,Y)|0,s=s+Math.imul(A,tt)|0,n=n+Math.imul(k,it)|0,r=r+Math.imul(k,nt)|0,r=r+Math.imul(_,it)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(x,st)|0,r=r+Math.imul(x,ot)|0,r=r+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,n=n+Math.imul(v,ct)|0,r=r+Math.imul(v,lt)|0,r=r+Math.imul(b,ct)|0,s=s+Math.imul(b,lt)|0,n=n+Math.imul(E,ut)|0,r=r+Math.imul(E,dt)|0,r=r+Math.imul(w,ut)|0,s=s+Math.imul(w,dt)|0,n=n+Math.imul(Q,ft)|0,r=r+Math.imul(Q,gt)|0,r=r+Math.imul(B,ft)|0,s=s+Math.imul(B,gt)|0;var St=(l+n|0)+((8191&r)<<13)|0;l=(s+(r>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(I,H),r=Math.imul(I,G),r=r+Math.imul(T,H)|0,s=Math.imul(T,G),n=n+Math.imul(C,Y)|0,r=r+Math.imul(C,tt)|0,r=r+Math.imul(z,Y)|0,s=s+Math.imul(z,tt)|0,n=n+Math.imul(D,it)|0,r=r+Math.imul(D,nt)|0,r=r+Math.imul(A,it)|0,s=s+Math.imul(A,nt)|0,n=n+Math.imul(k,st)|0,r=r+Math.imul(k,ot)|0,r=r+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(x,ct)|0,r=r+Math.imul(x,lt)|0,r=r+Math.imul(S,ct)|0,s=s+Math.imul(S,lt)|0,n=n+Math.imul(v,ut)|0,r=r+Math.imul(v,dt)|0,r=r+Math.imul(b,ut)|0,s=s+Math.imul(b,dt)|0,n=n+Math.imul(E,ft)|0,r=r+Math.imul(E,gt)|0,r=r+Math.imul(w,ft)|0,s=s+Math.imul(w,gt)|0;var Lt=(l+n|0)+((8191&r)<<13)|0;l=(s+(r>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,n=Math.imul(I,Y),r=Math.imul(I,tt),r=r+Math.imul(T,Y)|0,s=Math.imul(T,tt),n=n+Math.imul(C,it)|0,r=r+Math.imul(C,nt)|0,r=r+Math.imul(z,it)|0,s=s+Math.imul(z,nt)|0,n=n+Math.imul(D,st)|0,r=r+Math.imul(D,ot)|0,r=r+Math.imul(A,st)|0,s=s+Math.imul(A,ot)|0,n=n+Math.imul(k,ct)|0,r=r+Math.imul(k,lt)|0,r=r+Math.imul(_,ct)|0,s=s+Math.imul(_,lt)|0,n=n+Math.imul(x,ut)|0,r=r+Math.imul(x,dt)|0,r=r+Math.imul(S,ut)|0,s=s+Math.imul(S,dt)|0,n=n+Math.imul(v,ft)|0,r=r+Math.imul(v,gt)|0,r=r+Math.imul(b,ft)|0,s=s+Math.imul(b,gt)|0;var kt=(l+n|0)+((8191&r)<<13)|0;l=(s+(r>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(I,it),r=Math.imul(I,nt),r=r+Math.imul(T,it)|0,s=Math.imul(T,nt),n=n+Math.imul(C,st)|0,r=r+Math.imul(C,ot)|0,r=r+Math.imul(z,st)|0,s=s+Math.imul(z,ot)|0,n=n+Math.imul(D,ct)|0,r=r+Math.imul(D,lt)|0,r=r+Math.imul(A,ct)|0,s=s+Math.imul(A,lt)|0,n=n+Math.imul(k,ut)|0,r=r+Math.imul(k,dt)|0,r=r+Math.imul(_,ut)|0,s=s+Math.imul(_,dt)|0,n=n+Math.imul(x,ft)|0,r=r+Math.imul(x,gt)|0,r=r+Math.imul(S,ft)|0,s=s+Math.imul(S,gt)|0;var _t=(l+n|0)+((8191&r)<<13)|0;l=(s+(r>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(I,st),r=Math.imul(I,ot),r=r+Math.imul(T,st)|0,s=Math.imul(T,ot),n=n+Math.imul(C,ct)|0,r=r+Math.imul(C,lt)|0,r=r+Math.imul(z,ct)|0,s=s+Math.imul(z,lt)|0,n=n+Math.imul(D,ut)|0,r=r+Math.imul(D,dt)|0,r=r+Math.imul(A,ut)|0,s=s+Math.imul(A,dt)|0,n=n+Math.imul(k,ft)|0,r=r+Math.imul(k,gt)|0,r=r+Math.imul(_,ft)|0,s=s+Math.imul(_,gt)|0;var Nt=(l+n|0)+((8191&r)<<13)|0;l=(s+(r>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(I,ct),r=Math.imul(I,lt),r=r+Math.imul(T,ct)|0,s=Math.imul(T,lt),n=n+Math.imul(C,ut)|0,r=r+Math.imul(C,dt)|0,r=r+Math.imul(z,ut)|0,s=s+Math.imul(z,dt)|0,n=n+Math.imul(D,ft)|0,r=r+Math.imul(D,gt)|0,r=r+Math.imul(A,ft)|0,s=s+Math.imul(A,gt)|0;var Dt=(l+n|0)+((8191&r)<<13)|0;l=(s+(r>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,n=Math.imul(I,ut),r=Math.imul(I,dt),r=r+Math.imul(T,ut)|0,s=Math.imul(T,dt),n=n+Math.imul(C,ft)|0,r=r+Math.imul(C,gt)|0,r=r+Math.imul(z,ft)|0,s=s+Math.imul(z,gt)|0;var At=(l+n|0)+((8191&r)<<13)|0;l=(s+(r>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(I,ft),r=Math.imul(I,gt),r=r+Math.imul(T,ft)|0,s=Math.imul(T,gt);var Mt=(l+n|0)+((8191&r)<<13)|0;return l=(s+(r>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,c[0]=mt,c[1]=Qt,c[2]=Bt,c[3]=yt,c[4]=Et,c[5]=wt,c[6]=Ut,c[7]=vt,c[8]=bt,c[9]=Ft,c[10]=xt,c[11]=St,c[12]=Lt,c[13]=kt,c[14]=_t,c[15]=Nt,c[16]=Dt,c[17]=At,c[18]=Mt,0!==l&&(c[19]=l,i.length++),i};function y(t,e,i){i.negative=e.negative^t.negative,i.length=t.length+e.length;for(var n=0,r=0,s=0;s<i.length-1;s++){var o=r;r=0;for(var a=67108863&n,c=Math.min(s,e.length-1),l=Math.max(0,s-t.length+1);l<=c;l++){var h=s-l,u=0|t.words[h],d=0|e.words[l],p=u*d,f=67108863&p;o=o+(p/67108864|0)|0,f=f+a|0,a=67108863&f,o=o+(f>>>26)|0,r+=o>>>26,o&=67108863}i.words[s]=a,n=o,o=r}return 0!==n?i.words[s]=n:i.length--,i._strip()}function E(t,e,i){return y(t,e,i)}function w(t,e){this.x=t,this.y=e}Math.imul||(B=Q),s.prototype.mulTo=function(t,e){var i,n=this.length+t.length;return i=10===this.length&&10===t.length?B(this,t,e):n<63?Q(this,t,e):n<1024?y(this,t,e):E(this,t,e),i},w.prototype.makeRBT=function(t){for(var e=new Array(t),i=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,i,t);return e},w.prototype.revBin=function(t,e,i){if(0===t||t===i-1)return t;for(var n=0,r=0;r<e;r++)n|=(1&t)<<e-r-1,t>>=1;return n},w.prototype.permute=function(t,e,i,n,r,s){for(var o=0;o<s;o++)n[o]=e[t[o]],r[o]=i[t[o]]},w.prototype.transform=function(t,e,i,n,r,s){this.permute(s,t,e,i,n,r);for(var o=1;o<r;o<<=1)for(var a=o<<1,c=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),h=0;h<r;h+=a)for(var u=c,d=l,p=0;p<o;p++){var f=i[h+p],g=n[h+p],m=i[h+p+o],Q=n[h+p+o],B=u*m-d*Q;Q=u*Q+d*m,m=B,i[h+p]=f+m,n[h+p]=g+Q,i[h+p+o]=f-m,n[h+p+o]=g-Q,p!==a&&(B=c*u-l*d,d=c*d+l*u,u=B)}},w.prototype.guessLen13b=function(t,e){var i=1|Math.max(e,t),n=1&i,r=0;for(i=i/2|0;i;i>>>=1)r++;return 1<<r+1+n},w.prototype.conjugate=function(t,e,i){if(!(i<=1))for(var n=0;n<i/2;n++){var r=t[n];t[n]=t[i-n-1],t[i-n-1]=r,r=e[n],e[n]=-e[i-n-1],e[i-n-1]=-r}},w.prototype.normalize13b=function(t,e){for(var i=0,n=0;n<e/2;n++){var r=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+i;t[n]=67108863&r,i=r<67108864?0:r/67108864|0}return t},w.prototype.convert13b=function(t,e,i,r){for(var s=0,o=0;o<e;o++)s+=0|t[o],i[2*o]=8191&s,s>>>=13,i[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<r;++o)i[o]=0;n(0===s),n(0===(-8192&s))},w.prototype.stub=function(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=0;return e},w.prototype.mulp=function(t,e,i){var n=2*this.guessLen13b(t.length,e.length),r=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),c=new Array(n),l=new Array(n),h=new Array(n),u=new Array(n),d=i.words;d.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,l,n),this.transform(o,s,a,c,n,r),this.transform(l,s,h,u,n,r);for(var p=0;p<n;p++){var f=a[p]*h[p]-c[p]*u[p];c[p]=a[p]*u[p]+c[p]*h[p],a[p]=f}return this.conjugate(a,c,n),this.transform(a,c,d,s,n,r),this.conjugate(d,s,n),this.normalize13b(d,n),i.negative=t.negative^e.negative,i.length=t.length+e.length,i._strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),E(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"===typeof t),n(t<67108864);for(var i=0,r=0;r<this.length;r++){var s=(0|this.words[r])*t,o=(67108863&s)+(67108863&i);i>>=26,i+=s/67108864|0,i+=o>>>26,this.words[r]=67108863&o}return 0!==i&&(this.words[r]=i,this.length++),e?this.ineg():this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=m(t);if(0===e.length)return new s(1);for(var i=this,n=0;n<e.length;n++,i=i.sqr())if(0!==e[n])break;if(++n<e.length)for(var r=i.sqr();n<e.length;n++,r=r.sqr())0!==e[n]&&(i=i.mul(r));return i},s.prototype.iushln=function(t){n("number"===typeof t&&t>=0);var e,i=t%26,r=(t-i)/26,s=67108863>>>26-i<<26-i;if(0!==i){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,c=(0|this.words[e])-a<<i;this.words[e]=c|o,o=a>>>26-i}o&&(this.words[e]=o,this.length++)}if(0!==r){for(e=this.length-1;e>=0;e--)this.words[e+r]=this.words[e];for(e=0;e<r;e++)this.words[e]=0;this.length+=r}return this._strip()},s.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,i){var r;n("number"===typeof t&&t>=0),r=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,c=i;if(r-=o,r=Math.max(0,r),c){for(var l=0;l<o;l++)c.words[l]=this.words[l];c.length=o}if(0===o);else if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;var h=0;for(l=this.length-1;l>=0&&(0!==h||l>=r);l--){var u=0|this.words[l];this.words[l]=h<<26-s|u>>>s,h=u&a}return c&&0!==h&&(c.words[c.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(t,e,i){return n(0===this.negative),this.iushrn(t,e,i)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){n("number"===typeof t&&t>=0);var e=t%26,i=(t-e)/26,r=1<<e;if(this.length<=i)return!1;var s=this.words[i];return!!(s&r)},s.prototype.imaskn=function(t){n("number"===typeof t&&t>=0);var e=t%26,i=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==e&&i++,this.length=Math.min(i,this.length),0!==e){var r=67108863^67108863>>>e<<e;this.words[this.length-1]&=r}return this._strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return n("number"===typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(n("number"===typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,i){var r,s,o=t.length+i;this._expand(o);var a=0;for(r=0;r<t.length;r++){s=(0|this.words[r+i])+a;var c=(0|t.words[r])*e;s-=67108863&c,a=(s>>26)-(c/67108864|0),this.words[r+i]=67108863&s}for(;r<this.length-i;r++)s=(0|this.words[r+i])+a,a=s>>26,this.words[r+i]=67108863&s;if(0===a)return this._strip();for(n(-1===a),a=0,r=0;r<this.length;r++)s=-(0|this.words[r])+a,a=s>>26,this.words[r]=67108863&s;return this.negative=1,this._strip()},s.prototype._wordDiv=function(t,e){var i=this.length-t.length,n=this.clone(),r=t,o=0|r.words[r.length-1],a=this._countBits(o);i=26-a,0!==i&&(r=r.ushln(i),n.iushln(i),o=0|r.words[r.length-1]);var c,l=n.length-r.length;if("mod"!==e){c=new s(null),c.length=l+1,c.words=new Array(c.length);for(var h=0;h<c.length;h++)c.words[h]=0}var u=n.clone()._ishlnsubmul(r,1,l);0===u.negative&&(n=u,c&&(c.words[l]=1));for(var d=l-1;d>=0;d--){var p=67108864*(0|n.words[r.length+d])+(0|n.words[r.length+d-1]);p=Math.min(p/o|0,67108863),n._ishlnsubmul(r,p,d);while(0!==n.negative)p--,n.negative=0,n._ishlnsubmul(r,1,d),n.isZero()||(n.negative^=1);c&&(c.words[d]=p)}return c&&c._strip(),n._strip(),"div"!==e&&0!==i&&n.iushrn(i),{div:c||null,mod:n}},s.prototype.divmod=function(t,e,i){return n(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(r=a.div.neg()),"div"!==e&&(o=a.mod.neg(),i&&0!==o.negative&&o.iadd(t)),{div:r,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(r=a.div.neg()),{div:r,mod:a.mod}):0!==(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),i&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modrn(t.words[0]))}:this._wordDiv(t,e);var r,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var i=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),r=t.andln(1),s=i.cmp(n);return s<0||1===r&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var i=(1<<26)%t,r=0,s=this.length-1;s>=0;s--)r=(i*r+(0|this.words[s]))%t;return e?-r:r},s.prototype.modn=function(t){return this.modrn(t)},s.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var i=0,r=this.length-1;r>=0;r--){var s=(0|this.words[r])+67108864*i;this.words[r]=s/t|0,i=s%t}return this._strip(),e?this.ineg():this},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();var r=new s(1),o=new s(0),a=new s(0),c=new s(1),l=0;while(e.isEven()&&i.isEven())e.iushrn(1),i.iushrn(1),++l;var h=i.clone(),u=e.clone();while(!e.isZero()){for(var d=0,p=1;0===(e.words[0]&p)&&d<26;++d,p<<=1);if(d>0){e.iushrn(d);while(d-- >0)(r.isOdd()||o.isOdd())&&(r.iadd(h),o.isub(u)),r.iushrn(1),o.iushrn(1)}for(var f=0,g=1;0===(i.words[0]&g)&&f<26;++f,g<<=1);if(f>0){i.iushrn(f);while(f-- >0)(a.isOdd()||c.isOdd())&&(a.iadd(h),c.isub(u)),a.iushrn(1),c.iushrn(1)}e.cmp(i)>=0?(e.isub(i),r.isub(a),o.isub(c)):(i.isub(e),a.isub(r),c.isub(o))}return{a,b:c,gcd:i.iushln(l)}},s.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();var r,o=new s(1),a=new s(0),c=i.clone();while(e.cmpn(1)>0&&i.cmpn(1)>0){for(var l=0,h=1;0===(e.words[0]&h)&&l<26;++l,h<<=1);if(l>0){e.iushrn(l);while(l-- >0)o.isOdd()&&o.iadd(c),o.iushrn(1)}for(var u=0,d=1;0===(i.words[0]&d)&&u<26;++u,d<<=1);if(u>0){i.iushrn(u);while(u-- >0)a.isOdd()&&a.iadd(c),a.iushrn(1)}e.cmp(i)>=0?(e.isub(i),o.isub(a)):(i.isub(e),a.isub(o))}return r=0===e.cmpn(1)?o:a,r.cmpn(0)<0&&r.iadd(t),r},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),i=t.clone();e.negative=0,i.negative=0;for(var n=0;e.isEven()&&i.isEven();n++)e.iushrn(1),i.iushrn(1);do{while(e.isEven())e.iushrn(1);while(i.isEven())i.iushrn(1);var r=e.cmp(i);if(r<0){var s=e;e=i,i=s}else if(0===r||0===i.cmpn(1))break;e.isub(i)}while(1);return i.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0===(1&this.words[0])},s.prototype.isOdd=function(){return 1===(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){n("number"===typeof t);var e=t%26,i=(t-e)/26,r=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=r,this;for(var s=r,o=i;0!==s&&o<this.length;o++){var a=0|this.words[o];a+=s,s=a>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,i=t<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this._strip(),this.length>1)e=1;else{i&&(t=-t),n(t<=67108863,"Number is too big");var r=0|this.words[0];e=r===t?0:r<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,i=this.length-1;i>=0;i--){var n=0|this.words[i],r=0|t.words[i];if(n!==r){n<r?e=-1:n>r&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new L(t)},s.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var U={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function F(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function x(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function L(t){if("string"===typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){L.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,i=t;do{this.split(i,this.tmp),i=this.imulK(i),i=i.iadd(this.tmp),e=i.bitLength()}while(e>this.n);var n=e<this.n?-1:i.ucmp(this.p);return 0===n?(i.words[0]=0,i.length=1):n>0?i.isub(this.p):void 0!==i.strip?i.strip():i._strip(),i},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},r(b,v),b.prototype.split=function(t,e){for(var i=4194303,n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(o&i)<<4|s>>>22,s=o}s>>>=22,t.words[r-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,i=0;i<t.length;i++){var n=0|t.words[i];e+=977*n,t.words[i]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},r(F,v),r(x,v),r(S,v),S.prototype.imulK=function(t){for(var e=0,i=0;i<t.length;i++){var n=19*(0|t.words[i])+e,r=67108863&n;n>>>=26,t.words[i]=r,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(U[t])return U[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new F;else if("p192"===t)e=new x;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new S}return U[t]=e,e},L.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},L.prototype._verify2=function(t,e){n(0===(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},L.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(h(t,t.umod(this.m)._forceRed(this)),t)},L.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},L.prototype.add=function(t,e){this._verify2(t,e);var i=t.add(e);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},L.prototype.iadd=function(t,e){this._verify2(t,e);var i=t.iadd(e);return i.cmp(this.m)>=0&&i.isub(this.m),i},L.prototype.sub=function(t,e){this._verify2(t,e);var i=t.sub(e);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},L.prototype.isub=function(t,e){this._verify2(t,e);var i=t.isub(e);return i.cmpn(0)<0&&i.iadd(this.m),i},L.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},L.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},L.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},L.prototype.isqr=function(t){return this.imul(t,t.clone())},L.prototype.sqr=function(t){return this.mul(t,t)},L.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2===1),3===e){var i=this.m.add(new s(1)).iushrn(2);return this.pow(t,i)}var r=this.m.subn(1),o=0;while(!r.isZero()&&0===r.andln(1))o++,r.iushrn(1);n(!r.isZero());var a=new s(1).toRed(this),c=a.redNeg(),l=this.m.subn(1).iushrn(1),h=this.m.bitLength();h=new s(2*h*h).toRed(this);while(0!==this.pow(h,l).cmp(c))h.redIAdd(c);var u=this.pow(h,r),d=this.pow(t,r.addn(1).iushrn(1)),p=this.pow(t,r),f=o;while(0!==p.cmp(a)){for(var g=p,m=0;0!==g.cmp(a);m++)g=g.redSqr();n(m<f);var Q=this.pow(u,new s(1).iushln(f-m-1));d=d.redMul(Q),u=Q.redSqr(),p=p.redMul(u),f=m}return d},L.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},L.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var i=4,n=new Array(1<<i);n[0]=new s(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var o=n[0],a=0,c=0,l=e.bitLength()%26;for(0===l&&(l=26),r=e.length-1;r>=0;r--){for(var h=e.words[r],u=l-1;u>=0;u--){var d=h>>u&1;o!==n[0]&&(o=this.sqr(o)),0!==d||0!==a?(a<<=1,a|=d,c++,(c===i||0===r&&0===u)&&(o=this.mul(o,n[a]),c=0,a=0)):c=0}l=26}return o},L.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},L.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new k(t)},r(k,L),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var i=t.imul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=i.isub(n).iushrn(this.shift),s=r;return r.cmp(this.m)>=0?s=r.isub(this.m):r.cmpn(0)<0&&(s=r.iadd(this.m)),s._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var i=t.mul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=i.isub(n).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},k.prototype.invm=function(t){var e=this.imod(t._invmp(this.m).mul(this.r2));return e._forceRed(this)}}(t,this)},14704:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>r});var n=function(){function t(){}return t.get_n_pad_bytes=function(t){return 64-(t+8&63)},t.pad=function(e){var i=e.byteLength,n=t.get_n_pad_bytes(i),r=function(t,e){return[Math.floor(t/e),t%e]},s=r(i,536870912).map((function(t,e){return e?8*t:t})),o=s[0],a=s[1],c=new Uint8Array(i+n+8);c.set(new Uint8Array(e),0);var l=new DataView(c.buffer);return l.setUint8(i,128),l.setUint32(i+n,a,!0),l.setUint32(i+n+4,o,!0),c.buffer},t.f=function(t,e,i,n){return 0<=t&&t<=15?e^i^n:16<=t&&t<=31?e&i|~e&n:32<=t&&t<=47?(e|~i)^n:48<=t&&t<=63?e&n|i&~n:64<=t&&t<=79?e^(i|~n):void 0},t.K=function(t){return 0<=t&&t<=15?0:16<=t&&t<=31?1518500249:32<=t&&t<=47?1859775393:48<=t&&t<=63?2400959708:64<=t&&t<=79?2840853838:void 0},t.KP=function(t){return 0<=t&&t<=15?1352829926:16<=t&&t<=31?1548603684:32<=t&&t<=47?1836072691:48<=t&&t<=63?2053994217:64<=t&&t<=79?0:void 0},t.add_modulo32=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0|Array.from(t).reduce((function(t,e){return t+e}),0)},t.rol32=function(t,e){return t<<e|t>>>32-e},t.hash=function(e){for(var i=t.pad(e),n=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],r=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],o=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],a=4,c=64,l=i.byteLength/c,h=new Array(l).fill(void 0).map((function(t,e){return function(t){return new DataView(i,e*c,c).getUint32(t*a,!0)}})),u=[1732584193,4023233417,2562383102,271733878,3285377520],d=0;d<l;++d){for(var p=u[0],f=u[1],g=u[2],m=u[3],Q=u[4],B=p,y=f,E=g,w=m,U=Q,v=0;v<80;++v){var b=t.add_modulo32(t.rol32(t.add_modulo32(p,t.f(v,f,g,m),h[d](n[v]),t.K(v)),s[v]),Q);p=Q,Q=m,m=t.rol32(g,10),g=f,f=b,b=t.add_modulo32(t.rol32(t.add_modulo32(B,t.f(79-v,y,E,w),h[d](r[v]),t.KP(v)),o[v]),U),B=U,U=w,w=t.rol32(E,10),E=y,y=b}var F=t.add_modulo32(u[1],g,w);u[1]=t.add_modulo32(u[2],m,U),u[2]=t.add_modulo32(u[3],Q,B),u[3]=t.add_modulo32(u[4],p,y),u[4]=t.add_modulo32(u[0],f,E),u[0]=F}var x=new ArrayBuffer(20),S=new DataView(x);return u.forEach((function(t,e){return S.setUint32(4*e,t,!0)})),x},t}();const r=n},36523:(t,e,i)=>{"use strict";i.d(e,{Z:()=>kr});var n=i(88424),r=i(43419);
/**
 * EOSIO Signing Request v4.2.7
 * https://github.com/ProtonProtocol/proton-signing-request
 *
 * @license
 * Copyright  2021 Greymass Inc.
 * 
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the Software), to deal in the Software without
 * restriction, including without limitation the rights to use,
 * copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following
 * conditions:
 * 
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED AS IS, WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR
 * INTENDED FOR USE IN THE DESIGN, CONSTRUCTION, OPERATION OR
 * MAINTENANCE OF ANY MILITARY FACILITY.
 */
function s(t,e,i,n){var r,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,i,o):r(e,i))||o);return s>3&&o&&Object.defineProperty(e,i,o),o}function o(t,e,i,n){function r(t){return t instanceof i?t:new i((function(e){e(t)}))}return new(i||(i=Promise))((function(i,s){function o(t){try{c(n.next(t))}catch(e){s(e)}}function a(t){try{c(n["throw"](t))}catch(e){s(e)}}function c(t){t.done?i(t.value):r(t.value).then(o,a)}c((n=n.apply(t,e||[])).next())}))}const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=new Uint8Array(256);for(let Nr=0;Nr<62;Nr++)c[a.charCodeAt(Nr)]=Nr;function l(t,e=!0){const i=t.byteLength,n=i%3,r=i-n,s=a+(e?"-_":"+/"),o=[];let c,l,h,u,d;for(let a=0;a<r;a+=3)d=t[a]<<16|t[a+1]<<8|t[a+2],c=(16515072&d)>>18,l=(258048&d)>>12,h=(4032&d)>>6,u=63&d,o.push(s[c]+s[l]+s[h]+s[u]);return 1===n?(d=t[r],c=(252&d)>>2,l=(3&d)<<4,o.push(s[c]+s[l])):2===n&&(d=t[r]<<8|t[r+1],c=(64512&d)>>10,l=(1008&d)>>4,h=(15&d)<<2,o.push(s[c]+s[l]+s[h])),o.join("")}function h(t){const e=.75*t.length,i=new Uint8Array(e);let n,r,s,o,a=0;for(let l=0;l<t.length;l+=4)n=c[t.charCodeAt(l)],r=c[t.charCodeAt(l+1)],s=c[t.charCodeAt(l+2)],o=c[t.charCodeAt(l+3)],i[a++]=n<<2|r>>4,i[a++]=(15&r)<<4|s>>2,i[a++]=(3&s)<<6|63&o;return i}c[43]=c[45]=62,c[47]=c[95]=63;var u,d=Object.freeze({__proto__:null,encode:l,decode:h});(function(t){t[t["UNKNOWN"]=0]="UNKNOWN",t[t["EOS"]=1]="EOS",t[t["TELOS"]=2]="TELOS",t[t["JUNGLE"]=3]="JUNGLE",t[t["KYLIN"]=4]="KYLIN",t[t["WORBLI"]=5]="WORBLI",t[t["BOS"]=6]="BOS",t[t["MEETONE"]=7]="MEETONE",t[t["INSIGHTS"]=8]="INSIGHTS",t[t["BEOS"]=9]="BEOS",t[t["WAX"]=10]="WAX",t[t["PROTON"]=11]="PROTON",t[t["FIO"]=12]="FIO",t[t["PROTON_TEST"]=13]="PROTON_TEST"})(u||(u={}));let p=class extends r.Nz{static from(t){if((0,r.V9)(t,this))return t;if("number"===typeof t&&(t=m.get(t),!t))throw new Error("Unknown chain id alias");return super.from(t)}get chainVariant(){return this.chainName,g.from(this)}get chainName(){const t=this.hexString;for(const[e,i]of m)if(i===t)return e;return u.UNKNOWN}};p=s([(0,r.MX)("chain_id")],p);let f=class extends r._A{};f=s([(0,r.MX)("chain_alias")],f);let g=class extends r.$e{get chainId(){return(0,r.V9)(this.value,p)?this.value:p.from(Number(this.value.value))}};g=s([r.$e.type("variant_id",[f,p])],g);const m=new Map([[u.EOS,"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"],[u.TELOS,"4667b205c6838ef70ff7988f6e8257e8be0e1284a2f59699054a018f743b1d11"],[u.JUNGLE,"e70aaab8997e1dfce58fbfac80cbbb8fecec7b99cf982a9444273cbc64c41473"],[u.KYLIN,"5fff1dae8dc8e2fc4d5b23b2c7665c97f9e9d8edf2b6485a86ba311c25639191"],[u.WORBLI,"73647cde120091e0a4b85bced2f3cfdb3041e266cbbe95cee59b73235a1b3b6f"],[u.BOS,"d5a3d18fbb3c084e3b1f3fa98c21014b5f3db536cc15d08f9f6479517c6a3d86"],[u.MEETONE,"cfe6486a83bad4962f232d48003b1824ab5665c36778141034d75e57b956e422"],[u.INSIGHTS,"b042025541e25a472bffde2d62edd457b7e70cee943412b1ea0f044f88591664"],[u.BEOS,"b912d19a6abd2b1b05611ae5be473355d64d95aeff0c09bedc8c166cd6468fe4"],[u.WAX,"1064487b3cd1a897ce03ae5b6a865651747e2e152090f99c1d19d44e01aea5a4"],[u.PROTON,"384da888112027f0321850a169f737c33e53b388aad48b5adace4bab97f437e0"],[u.FIO,"21dcae42c0182200e93f954a074011f9048a7624c6fe81d3c9541a614a88bd1c"],[u.PROTON_TEST,"71ee83bcf52142d61019d95f9cc5427ba6a0d7ff8accd9e2088ae2abeaf3d3dd"]]);var Q;let B=class extends r.VG{};B=s([(0,r.MX)("account_name")],B);let y=class extends r.VG{};y=s([(0,r.MX)("permission_name")],y);let E=class extends r.AU{};s([r.AU.field(r.V5,{optional:!0})],E.prototype,"permission",void 0),E=s([r.AU.type("identity")],E);let w=class extends r.AU{};s([r.AU.field(r.V5,{optional:!0})],w.prototype,"permission",void 0),w=s([r.AU.type("identity")],w);let U=class extends r.$e{};U=s([r.$e.type("variant_req",[r.aU,{type:r.aU,array:!0},r.YW,E])],U);let v=class extends r.$e{};v=s([r.$e.type("variant_req",[r.aU,{type:r.aU,array:!0},r.YW,w])],v);let b=Q=class extends r._A{get broadcast(){return 0!==(Number(this)&Q.broadcast)}set broadcast(t){this.setFlag(Q.broadcast,t)}get background(){return 0!==(Number(this)&Q.background)}set background(t){this.setFlag(Q.background,t)}setFlag(t,e){this.value=e?r._A.from(Number(this)|t).value:r._A.from(Number(this)&~t).value}};b.broadcast=1,b.background=2,b=Q=s([(0,r.MX)("request_flags")],b);let F=class extends r.AU{};s([r.AU.field("string")],F.prototype,"key",void 0),s([r.AU.field("bytes")],F.prototype,"value",void 0),F=s([r.AU.type("info_pair")],F);let x=class extends r.AU{};s([r.AU.field(g)],x.prototype,"chain_id",void 0),s([r.AU.field(U)],x.prototype,"req",void 0),s([r.AU.field(b)],x.prototype,"flags",void 0),s([r.AU.field("string")],x.prototype,"callback",void 0),s([r.AU.field(F,{array:!0})],x.prototype,"info",void 0),x=s([r.AU.type("signing_request")],x);let S=class extends r.AU{};s([r.AU.field(g)],S.prototype,"chain_id",void 0),s([r.AU.field(v)],S.prototype,"req",void 0),s([r.AU.field(b)],S.prototype,"flags",void 0),s([r.AU.field("string")],S.prototype,"callback",void 0),s([r.AU.field(F,{array:!0})],S.prototype,"info",void 0),S=s([r.AU.type("signing_request")],S);let L=class extends r.AU{};var k;s([r.AU.field("name")],L.prototype,"signer",void 0),s([r.AU.field("signature")],L.prototype,"signature",void 0),L=s([r.AU.type("request_signature")],L);let _=k=class extends r.AU{static from(t){return(0,r.V9)(t,k)?t:"string"===typeof t?k.fromString(t):super.from(t)}static fromString(t){const e=t.split(" ");if(2!==e.length||"EOSIO"!==e[0])throw new Error("Invalid IdentityProof string");const i=h(e[1]);return r.ei.decode({data:i,type:k})}static fromPayload(t,e={scheme:N}){const i=C.from(t.req,e);if(!(i.version>=3&&i.isIdentity()))throw new Error("Not an identity request");return this.from({chainId:t.cid||i.getChainId(),expiration:t.ex,signer:{actor:t.sa,permission:t.sp},signature:t.sig})}get transaction(){const t=r.aU.from({account:"",name:"identity",authorization:[this.signer],data:w.from({permission:this.signer})});return r.YW.from({ref_block_num:0,ref_block_prefix:0,expiration:this.expiration,actions:[t]})}recover(){return this.signature.recoverDigest(this.transaction.signingDigest(this.chainId))}verify(t,e){const i=r.AQ.from(e||new Date).toMilliseconds();return i<this.expiration.toMilliseconds()&&r.WU.from(t).hasPermission(this.recover())}toString(){const t=r.ei.encode({object:this});return`EOSIO ${l(t.array,!1)}`}};s([r.AU.field(p)],_.prototype,"chainId",void 0),s([r.AU.field(r.AQ)],_.prototype,"expiration",void 0),s([r.AU.field(r.V5)],_.prototype,"signer",void 0),s([r.AU.field(r.Pc)],_.prototype,"signature",void 0),_=k=s([r.AU.type("identity_proof")],_);const N="esr",D=r.VG.from("............1"),A=r.VG.from("............2"),M=r.V5.from({actor:D,permission:A});class C{constructor(t,e,i,n,r,s){if(this.scheme=N,e.flags.broadcast&&"identity"===e.req.variantName)throw new Error("Invalid request (identity request cannot be broadcast)");this.version=t,this.data=e,this.zlib=n,this.abiProvider=r,this.signature=s,this.scheme=i||this.scheme}static identityAbi(t){const e=r.ei.synthesize(this.identityType(t));return e.actions=[{name:"identity",type:"identity",ricardian_contract:""}],e}static identityType(t){return 2===t?E:w}static storageType(t){return 2===t?x:S}static create(t,e={scheme:N}){return o(this,void 0,void 0,(function*(){let i;i=t.action?[t.action]:t.actions?t.actions:t.transaction&&t.transaction.actions||[];const n=i.filter((t=>!r.Jj.isBytes(t.data)&&void 0===t.data.constructor.abiName)).map((t=>r.VG.from(t.account))),s={};if(n.length>0){const t=e.abiProvider;if(!t)throw new Error("Missing abi provider");const i=yield Promise.all(n.map((e=>t.getAbi(e))));for(const[e,r]of i.entries())s[n[e].toString()]=r}return this.createSync(t,e,s)}))}static createSync(t,e={scheme:N},i={}){let n=2;const s={},o=t=>R(t,i);if(void 0!==t.identity)s.req=["identity",this.identityType(n).from(t.identity)];else if(!t.action||t.actions||t.transaction)if(!t.actions||t.action||t.transaction){if(!t.transaction||t.action||t.actions)throw new TypeError("Invalid arguments: Must have exactly one of action, actions or transaction");{const e=t.transaction;void 0===e.expiration&&(e.expiration="1970-01-01T00:00:00.000"),void 0===e.ref_block_num&&(e.ref_block_num=0),void 0===e.ref_block_prefix&&(e.ref_block_prefix=0),void 0===e.context_free_actions&&(e.context_free_actions=[]),void 0===e.transaction_extensions&&(e.transaction_extensions=[]),void 0===e.delay_sec&&(e.delay_sec=0),void 0===e.max_cpu_usage_ms&&(e.max_cpu_usage_ms=0),void 0===e.max_net_usage_words&&(e.max_net_usage_words=0),void 0===e.actions&&(e.actions=[]),void 0===e.context_free_actions&&(e.context_free_actions=[]),e.actions=e.actions.map(o),s.req=["transaction",e]}}else 1===t.actions.length?s.req=["action",o(t.actions[0])]:s.req=["action[]",t.actions.map(o)];else s.req=["action",o(t.action)];null===t.chainId?s.chain_id=g.from(["chain_alias",0]):s.chain_id=p.from(t.chainId||u.EOS).chainVariant;const a=b.from(0);let c="";if(a.broadcast=void 0!==t.broadcast?t.broadcast:"identity"!==s.req[0],"string"===typeof t.callback?c=t.callback:"object"===typeof t.callback&&(c=t.callback.url,a.background=t.callback.background||!1),s.flags=a,s.callback=c,s.info=[],"object"===typeof t.info)for(const h in t.info){const e=Object.prototype.hasOwnProperty.call(t.info,h);if(e){let e=t.info[h];"string"===typeof e?e=r.Jj.from(e,"utf8"):e instanceof r.Jj||(e=r.ei.encode({object:e})),s.info.push({key:h,value:e})}}if(t.chainIds&&null===t.chainId){const e=t.chainIds.map((t=>p.from(t).chainVariant));s.info.push({key:"chain_ids",value:r.ei.encode({object:e,type:{type:g,array:!0}})})}const l=new C(n,this.storageType(n).from(s),e.scheme,e.zlib,e.abiProvider);return e.signatureProvider&&l.sign(e.signatureProvider),l}static identity(t,e={scheme:N}){let i={actor:t.account||D,permission:t.permission||A};return i.actor===D&&i.permission===A&&(i=void 0),this.createSync(Object.assign(Object.assign({},t),{identity:{permission:i},broadcast:!1}),e)}static fromTransaction(t,e,i={scheme:N}){const n=p.from(t);e=r.Jj.from(e);const s=new r.Ir;return s.writeByte(2),s.writeArray(r.ei.encode({object:n.chainVariant}).array),s.writeByte(2),s.writeArray(r.Jj.from(e).array),s.writeByte(b.broadcast),s.writeByte(0),s.writeByte(0),C.fromData(s.getData(),i)}static from(t,e={scheme:N}){if("string"!==typeof t)throw new Error("Invalid request uri");const[i,n]=t.split(":");if(i!==(e.scheme||N)&&i!==`web+${e.scheme||N}`)throw new Error("Invalid scheme");const r=h(n.startsWith("//")?n.slice(2):n);return C.fromData(r,e)}static fromData(t,e={scheme:N}){t=r.Jj.from(t);const i=t.array[0],n=-129&i;if(2!==n&&3!==n)throw new Error(`Unsupported protocol version ${n}`);let s=t.droppingFirst(1);if(0!==(128&i)){if(!e.zlib)throw new Error("Compressed URI needs zlib");s=r.Jj.from(e.zlib.inflateRaw(s.array))}const o=new r.ln(s.array),a=r.ei.decode({data:o,type:this.storageType(n)});let c;return o.canRead()&&(c=r.ei.decode({data:o,type:L})),new C(n,a,e.scheme,e.zlib,e.abiProvider,c)}sign(t){const e=this.getSignatureDigest();this.signature=L.from(t.sign(e))}getSignatureDigest(){const t=[this.version,114,101,113,117,101,115,116];return r.Nz.hash(r.Jj.from(t).appending(this.getData()))}setSignature(t,e){this.signature=L.from({signer:t,signature:e})}setCallback(t,e){this.data.callback=t,this.data.flags.background=e}setBroadcast(t){this.data.flags.broadcast=t}encode(t,e){const i=void 0!==t?t:void 0!==this.zlib;if(i&&void 0===this.zlib)throw new Error("Need zlib to compress");let n=this.version;const r=this.getData(),s=this.getSignatureData();let o=new Uint8Array(r.byteLength+s.byteLength);if(o.set(r,0),o.set(s,r.byteLength),i){const t=this.zlib.deflateRaw(o);o.byteLength>t.byteLength&&(n|=128,o=t)}const a=new Uint8Array(1+o.byteLength);a[0]=n,a.set(o,1);let c=`${this.scheme}:`;return!1!==e&&(c+="//"),c+l(a)}getData(){return r.ei.encode({object:this.data}).array}getSignatureData(){return this.signature?r.ei.encode({object:this.signature}).array:new Uint8Array(0)}getRequiredAbis(){return this.getRawActions().filter((t=>!I(t))).map((t=>t.account)).filter(((t,e,i)=>i.indexOf(t)===e))}requiresTapos(){const t=this.getRawTransaction();return!this.isIdentity()&&!T(t)}fetchAbis(t){return o(this,void 0,void 0,(function*(){const e=this.getRequiredAbis();if(e.length>0){const i=t||this.abiProvider;if(!i)throw new Error("Missing ABI provider");const n=new Map;return yield Promise.all(e.map((t=>o(this,void 0,void 0,(function*(){n.set(t.toString(),r.dL.from(yield i.getAbi(t)))}))))),n}return new Map}))}resolveActions(t,e){return this.getRawActions().map((i=>{let n;if(I(i))n=this.constructor.identityAbi(this.version);else{const e=t.get(i.account.toString());if(!e)throw new Error(`Missing ABI definition for ${i.account}`);n=r.dL.from(e)}const s=n.getActionType(i.name);if(!s)throw new Error(`Missing type for action ${i.account}:${i.name} in ABI`);let o=i.decodeData(n),a=i.authorization;if(e){const t=r.V5.from(e),i=e=>{if(e instanceof r.VG)return e.equals(D)?t.actor:e.equals(A)?t.permission:e;if(Array.isArray(e))return e.map(i);if("object"===typeof e&&null!==e){for(const t of Object.keys(e))e[t]=i(e[t]);return e}return e};o=i(o),a=a.map((e=>{let{actor:i,permission:n}=e;return i.equals(D)&&(i=t.actor),n.equals(A)&&(n=t.permission),n.equals(D)&&(n=t.permission),r.V5.from({actor:i,permission:n})}))}return Object.assign(Object.assign({},i),{authorization:a,data:o})}))}resolveTransaction(t,e,i={}){const n=this.getRawTransaction();if(this.isIdentity()||T(n))this.isIdentity()&&this.version>2&&(n.expiration=i.expiration?r.AQ.from(i.expiration):P(i.timestamp,i.expire_seconds));else if(void 0!==i.expiration&&void 0!==i.ref_block_num&&void 0!==i.ref_block_prefix)n.expiration=r.AQ.from(i.expiration),n.ref_block_num=r.j8.from(i.ref_block_num),n.ref_block_prefix=r.xH.from(i.ref_block_prefix);else{if(void 0===i.block_num||void 0===i.ref_block_prefix||void 0===i.timestamp)throw new Error("Invalid transaction context, need either a reference block or explicit TaPoS values");n.expiration=P(i.timestamp,i.expire_seconds),n.ref_block_num=r.j8.from(i.block_num),n.ref_block_prefix=r.xH.from(i.ref_block_prefix)}const s=this.resolveActions(t,e),o=n.context_free_actions;return Object.assign(Object.assign({},n),{context_free_actions:o,actions:s})}resolve(t,e,i={}){const n=this.resolveTransaction(t,e,i),s=n.actions.map((e=>{let i;if(i=I(e)?this.constructor.identityAbi(this.version):t.get(e.account.toString()),!i)throw new Error(`Missing ABI definition for ${e.account}`);const n=i.getActionType(e.name),s=r.ei.encode({object:e.data,type:n,abi:i});return r.aU.from(Object.assign(Object.assign({},e),{data:s}))})),o=r.YW.from(Object.assign(Object.assign({},n),{actions:s}));let a;if(this.isMultiChain()){if(!i.chainId)throw new Error("Missing chosen chain ID for multi-chain request");a=p.from(i.chainId);const t=this.getChainIds();if(t&&!t.some((t=>a.equals(t))))throw new Error("Trying to resolve for chain ID not defined in request")}else a=this.getChainId();return new z(this,r.V5.from(e),o,n,a)}getScheme(){return this.scheme}getChainId(){return this.data.chain_id.chainId}getChainIds(){if(!this.isMultiChain())return null;const t=this.getInfoKey("chain_ids",{type:g,array:!0});return t?t.map((t=>t.chainId)):null}setChainIds(t){const e=t.map((t=>p.from(t).chainVariant));this.setInfoKey("chain_ids",e,{type:g,array:!0})}isMultiChain(){return 0===this.data.chain_id.variantIdx&&this.data.chain_id.value.equals(u.UNKNOWN)}getRawActions(){const t=this.data.req;switch(t.variantName){case"action":return[t.value];case"action[]":return t.value;case"identity":if(2===this.version){const e=t.value;let i="0101000000000000000200000000000000",n=[M];return e.permission&&(i=r.ei.encode({object:e}),n=[e.permission]),[r.aU.from({account:"",name:"identity",authorization:n,data:i})]}{let{permission:e}=t.value;e||(e=M);const i=r.ei.encode({object:{permission:e},type:w});return[r.aU.from({account:"",name:"identity",authorization:[e],data:i})]}case"transaction":return t.value.actions;default:throw new Error("Invalid signing request data")}}getRawTransaction(){const t=this.data.req;switch(t.variantName){case"transaction":return r.YW.from(Object.assign({},t.value));case"action":case"action[]":case"identity":return r.YW.from({actions:this.getRawActions(),context_free_actions:[],transaction_extensions:[],expiration:"1970-01-01T00:00:00.000",ref_block_num:0,ref_block_prefix:0,max_cpu_usage_ms:0,max_net_usage_words:0,delay_sec:0});default:throw new Error("Invalid signing request data")}}isIdentity(){return"identity"===this.data.req.variantName}shouldBroadcast(){return!this.isIdentity()&&this.data.flags.broadcast}getIdentity(){if(!this.isIdentity())return null;const t=this.data.req.value;return t.permission&&!t.permission.actor.equals(D)?t.permission.actor:null}getIdentityPermission(){if(!this.isIdentity())return null;const t=this.data.req.value;return t.permission&&!t.permission.permission.equals(A)?t.permission.permission:null}getRawInfo(){const t={};for(const{key:e,value:i}of this.data.info)t[e]=i;return t}getRawInfoKey(t){const e=this.data.info.find((e=>e.key===t));if(e)return e.value}setRawInfoKey(t,e){let i=this.data.info.find((e=>e.key===t));i?i.value=r.Jj.from(e):(i=F.from({key:t,value:e}),this.data.info.push(i))}setInfoKey(t,e,i){let n;n="string"!==typeof e||i?r.ei.encode({object:e,type:i}):r.Jj.from(e,"utf8"),this.setRawInfoKey(t,n)}getInfoKey(t,e){const i=this.getRawInfoKey(t);if(i)return e?r.ei.decode({data:i,type:e}):i.utf8String}clone(){let t;this.signature&&(t=L.from(JSON.parse(JSON.stringify(this.signature))));const e=this.constructor.storageType(this.version),i=e.from(JSON.parse(JSON.stringify(this.data)));return new C(this.version,i,this.scheme,this.zlib,this.abiProvider,t)}toString(){return this.encode()}toJSON(){return this.encode()}}class z{constructor(t,e,i,n,r){this.request=t,this.signer=e,this.transaction=i,this.resolvedTransaction=n,this.chainId=r}static fromPayload(t,e={scheme:N}){return o(this,void 0,void 0,(function*(){const i=C.from(t.req,e),n=yield i.fetchAbis();return i.resolve(n,{actor:t.sa,permission:t.sp},{ref_block_num:t.rbn,ref_block_prefix:t.rid,expiration:t.ex,chainId:t.cid||i.getChainId()})}))}get serializedTransaction(){return r.ei.encode({object:this.transaction}).array}get signingDigest(){return this.transaction.signingDigest(this.chainId)}getCallback(t,e){const{callback:i,flags:n}=this.request.data;if(!i||0===i.length)return null;if(!t||0===t.length)throw new Error("Must have at least one signature to resolve callback");const s=t.map((t=>r.Pc.from(t))),o={sig:String(s[0]),tx:String(this.transaction.id),rbn:String(this.transaction.ref_block_num),rid:String(this.transaction.ref_block_prefix),ex:String(this.transaction.expiration),req:this.request.encode(),sa:String(this.signer.actor),sp:String(this.signer.permission),cid:String(this.chainId)};for(const[r,c]of s.slice(1).entries())o[`sig${r}`]=String(c);e&&(o.bn=String(r.xH.from(e)));const a=i.replace(/({{([a-z0-9]+)}})/g,((t,e,i)=>o[i]||""));return{background:n.background,payload:o,url:a}}getIdentityProof(t){if(!this.request.isIdentity())throw new Error("Not a identity request");return _.from({chainId:this.chainId,expiration:this.transaction.expiration,signer:this.signer,signature:t})}}function R(t,e){if(r.Jj.isBytes(t.data)||void 0!==t.data.constructor.abiName)return r.aU.from(t);const i=e[String(r.VG.from(t.account))];if(!i)throw new Error(`Missing ABI for ${t.account}`);return r.aU.from(t,i)}function I(t){const e=r.VG.from(t.account),i=r.VG.from(t.name);return e.rawValue.equals(0)&&i.equals("identity")}function T(t){return!(t.expiration.equals(0)&&t.ref_block_num.equals(0)&&t.ref_block_prefix.equals(0))}function P(t,e=60){const i=r.AQ.from(t||new Date),n=r.xH.from(e);return r.AQ.fromInteger(i.value.adding(n))}var O,J=i(33134),j=i.n(J),$=i(93664),V=i(44259),q=i(35276),Z=i.n(q),K=i(51365),W=i(40019);
/**
 * Proton Link v4.2.15
 * https://github.com/protonprotocol/proton-link
 *
 * @license
 * Copyright (c) 2020 Greymass Inc. All Rights Reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 *  1. Redistribution of source code must retain the above copyright notice, this
 *     list of conditions and the following disclaimer.
 * 
 *  2. Redistribution in binary form must reproduce the above copyright notice,
 *     this list of conditions and the following disclaimer in the documentation
 *     and/or other materials provided with the distribution.
 * 
 *  3. Neither the name of the copyright holder nor the names of its contributors
 *     may be used to endorse or promote products derived from this software without
 *     specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
 * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
 */
function H(t,e,i,n){var r,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,i,o):r(e,i))||o);return s>3&&o&&Object.defineProperty(e,i,o),o}function G(t,e,i,n){function r(t){return t instanceof i?t:new i((function(e){e(t)}))}return new(i||(i=Promise))((function(i,s){function o(t){try{c(n.next(t))}catch(e){s(e)}}function a(t){try{c(n["throw"](t))}catch(e){s(e)}}function c(t){t.done?i(t.value):r(t.value).then(o,a)}c((n=n.apply(t,e||[])).next())}))}class X extends Error{constructor(t){super("Request cancelled "+(t?"("+t+")":"")),this.code="E_CANCEL"}}class Y extends Error{constructor(t){super("Unable to verify identity "+(t?"("+t+")":"")),this.code="E_IDENTITY"}}class tt extends Error{constructor(t,e,i){super(t),this.code=e,this.session=i}}(function(t){t.defaults={service:"https://cb.anchor.link",verifyProofs:!1,encodeChainIds:!0}})(O||(O={}));let et=class extends r.AU{};H([r.AU.field("public_key")],et.prototype,"from",void 0),H([r.AU.field("uint64")],et.prototype,"nonce",void 0),H([r.AU.field("bytes")],et.prototype,"ciphertext",void 0),H([r.AU.field("uint32")],et.prototype,"checksum",void 0),et=H([r.AU.type("sealed_message")],et);let it=class extends r.AU{};H([r.AU.field("name")],it.prototype,"session_name",void 0),H([r.AU.field("public_key")],it.prototype,"request_key",void 0),H([r.AU.field("string",{extension:!0})],it.prototype,"user_agent",void 0),it=H([r.AU.type("link_create")],it);let nt=class extends r.AU{};H([r.AU.field("time_point_sec")],nt.prototype,"expiration",void 0),nt=H([r.AU.type("link_info")],nt);const rt=j()().fetch;function st(t,e,i,n){const s=e.sharedSecret(i);n||(n=r.zM.from(r.xH.random()));const o=r.W4.hash(r.ei.encode({object:n}).appending(s.array)),a=new $.zW(o.array.slice(0,32),o.array.slice(32,48)),c=r.Jj.from(a.encrypt(r.Jj.from(t,"utf8").array)),l=new DataView(r.Nz.hash(o.array).array.buffer),h=l.getUint32(0,!0);return et.from({from:e.toPublic(),nonce:n,ciphertext:c,checksum:h})}function ot(t,e){const i={sameDevice:void 0!==e.getRawInfo()["return_path"]};if(t.link_meta)try{const e=JSON.parse(t.link_meta);for(const t of Object.keys(e))i[ct(t)]=e[t]}catch(n){lt("Unable to parse link metadata",n,t.link_meta)}return i}function at(t){return t.split("_").map((t=>(t[0]?t[0].toUpperCase():"_")+t.slice(1))).join("")}function ct(t){const e=at(t);return e[0].toLowerCase()+e.slice(1)}function lt(...t){W.warn("[anchor-link]",...t)}class ht{constructor(){}remove(){return G(this,void 0,void 0,(function*(){this.link.storage&&(yield this.link.removeSession(this.identifier,this.auth,this.chainId))}))}get client(){return this.link.getChain(this.chainId).client}static restore(t,e){switch(e.type){case"channel":return new ut(t,e.data,e.metadata);case"fallback":return new dt(t,e.data,e.metadata);default:throw new Error("Unable to restore, session data invalid")}}}class ut extends ht{constructor(t,e,i){super(),this.type="channel",this.timeout=12e4,this.link=t,this.chainId=p.from(e.chainId),this.auth=r.V5.from(e.auth),this.publicKey=r.nh.from(e.publicKey),this.identifier=r.VG.from(e.identifier);const n=r._q.from(e.requestKey);this.channelKey=r.nh.from(e.channel.key),this.channelUrl=e.channel.url,this.channelName=e.channel.name,this.encrypt=t=>st(t.encode(!0,!1),n,this.channelKey),this.metadata=Object.assign(Object.assign({},i||{}),{timeout:this.timeout,name:this.channelName,request_key:n.toPublic()}),this.serialize=()=>({type:"channel",data:Object.assign(Object.assign({},e),{channel:{url:this.channelUrl,key:this.channelKey,name:this.channelName}}),metadata:this.metadata})}onSuccess(t,e){this.link.transport.onSuccess&&this.link.transport.onSuccess(t,e)}onFailure(t,e){this.link.transport.onFailure&&this.link.transport.onFailure(t,e)}onRequest(t,e){const i=nt.from({expiration:new Date(Date.now()+this.timeout)});this.link.transport.onSessionRequest&&this.link.transport.onSessionRequest(this,t,e);const n=setTimeout((()=>{e(new tt("Wallet did not respond in time","E_TIMEOUT",this))}),this.timeout);t.setInfoKey("link",i);const s=r.ei.encode({object:this.encrypt(t)});rt(this.channelUrl,{method:"POST",headers:{"X-Buoy-Wait":(this.timeout/1e3).toFixed(0)},body:s.array}).then((t=>{2!==Math.floor(t.status/100)&&(clearTimeout(n),202===t.status&&W.warn("Missing delivery ack from session channel"),e(new tt("Unable to push message","E_DELIVERY",this)))})).catch((t=>{clearTimeout(n),e(new tt(`Unable to reach link service (${t.message||String(t)})`,"E_DELIVERY",this))}))}addLinkInfo(t){const e=it.from({session_name:this.identifier,request_key:this.metadata.request_key,user_agent:this.link.getUserAgent()});t.setInfoKey("link",e)}prepare(t){return this.link.transport.prepare?this.link.transport.prepare(t,this):Promise.resolve(t)}showLoading(){if(this.link.transport.showLoading)return this.link.transport.showLoading()}recoverError(t,e){return!!this.link.transport.recoverError&&this.link.transport.recoverError(t,e)}makeSignatureProvider(){return this.link.makeSignatureProvider([this.publicKey.toString()],this.chainId,this)}transact(t,e){return G(this,void 0,void 0,(function*(){const i=yield this.link.transact(t,Object.assign(Object.assign({},e),{chain:this.chainId}),this);if(i.payload.link_ch&&i.payload.link_key&&i.payload.link_name)try{const t=Object.assign(Object.assign({},this.metadata),ot(i.payload,i.resolved.request));this.channelUrl=i.payload.link_ch,this.channelKey=r.nh.from(i.payload.link_key),this.channelName=i.payload.link_name,t.name=i.payload.link_name,this.metadata=t}catch(n){lt("Unable to recover link session",n)}return i}))}}class dt extends ht{constructor(t,e,i){super(),this.type="fallback",this.link=t,this.auth=r.V5.from(e.auth),this.publicKey=r.nh.from(e.publicKey),this.chainId=p.from(e.chainId),this.metadata=i||{},this.identifier=r.VG.from(e.identifier),this.serialize=()=>({type:this.type,data:e,metadata:this.metadata})}onSuccess(t,e){this.link.transport.onSuccess&&this.link.transport.onSuccess(t,e)}onFailure(t,e){this.link.transport.onFailure&&this.link.transport.onFailure(t,e)}onRequest(t,e){this.link.transport.onSessionRequest?this.link.transport.onSessionRequest(this,t,e):this.link.transport.onRequest(t,e)}prepare(t){return this.link.transport.prepare?this.link.transport.prepare(t,this):Promise.resolve(t)}showLoading(){if(this.link.transport.showLoading)return this.link.transport.showLoading()}makeSignatureProvider(){return this.link.makeSignatureProvider([this.publicKey.toString()],this.chainId,this)}transact(t,e){return this.link.transact(t,Object.assign(Object.assign({},e),{chain:this.chainId}),this)}}class pt{constructor(t){this.address=t.trim().replace(/\/$/,"")}create(){const t=`${this.address}/${(0,V.Z)()}`;return new ft(t)}}class ft{constructor(t){this.url=t,this.ctx={}}wait(){return this.url.includes("hyperbuoy")?mt(this.url,this.ctx):gt(this.url,this.ctx)}cancel(){this.ctx.cancel&&this.ctx.cancel()}}function gt(t,e){return new Promise(((i,n)=>{let r=!0,s=0;const o=t.replace(/^http/,"ws"),a=t=>{try{i(JSON.parse(t))}catch(e){e.message="Unable to parse callback JSON: "+e.message,n(e)}},c=()=>{const t=new(Z())(o);"undefined"!=typeof navigator&&"ReactNative"==navigator.product&&(t.binaryType="blob"),e.cancel=()=>{r=!1,t.readyState!==Z().OPEN&&t.readyState!==Z().CONNECTING||t.close()},t.onmessage=e=>{if(r=!1,t.readyState===Z().OPEN&&t.close(),"undefined"!==typeof Blob&&e.data instanceof Blob){const t=new FileReader;t.onload=()=>{a(t.result)},t.onerror=t=>{n(t)},t.readAsText(e.data)}else"string"===typeof e.data?a(e.data):a(e.data.toString())},t.onopen=()=>{s=0},t.onclose=()=>{r&&setTimeout(c,Qt(s++))}};c()}))}function mt(t,e){return G(this,void 0,void 0,(function*(){let i=!0;e.cancel=()=>{i=!1};while(i){try{const e=yield rt(t);if(408===e.status)continue;if(200===e.status)return yield e.json();throw new Error(`HTTP ${e.status}: ${e.statusText}`)}catch(n){lt("Unexpected hyperbuoy error",n)}yield Bt(1e3)}return null}))}function Qt(t){return Math.min(Math.pow(10*t,2),1e4)}function Bt(t){return new Promise((e=>{setTimeout(e,t)}))}class yt{constructor(t,e){this.abiCache=new Map,this.pendingAbis=new Map,this.chainId=p.from(t),this.client="string"===typeof e?new K.JsonRpc(e):e}getAbi(t){return G(this,void 0,void 0,(function*(){const e=String(t);let i=this.abiCache.get(e);if(!i){let n=this.pendingAbis.get(e);n||(n=this.client.get_abi(t.toString()),this.pendingAbis.set(e,n)),i=(yield n).abi,this.pendingAbis.delete(e),i&&this.abiCache.set(e,i)}return i}))}}class Et{constructor(t){if("object"!==typeof t)throw new TypeError("Missing options object");if(!t.transport)throw new TypeError("options.transport is required");let e=t.chains||[];if(t.chainId&&t.client&&(e=[{chainId:t.chainId,nodeUrl:t.client}]),0===e.length)throw new TypeError("options.chains is required");this.chains=e.map((({chainId:t,nodeUrl:e})=>{if(!t)throw new Error("options.chains[].chainId is required");if(!e)throw new Error("options.chains[].nodeUrl is required");return new yt(t,e)})),void 0===t.service||"string"===typeof t.service?this.callbackService=new pt(t.service||O.defaults.service):this.callbackService=t.service,this.transport=t.transport,null!==t.storage&&(this.storage=t.storage||this.transport.storage),this.verifyProofs=void 0!==t.verifyProofs?t.verifyProofs:O.defaults.verifyProofs,this.encodeChainIds=void 0!==t.encodeChainIds?t.encodeChainIds:O.defaults.encodeChainIds,this.scheme=t.scheme,t.walletType&&t.walletType.length>0&&(this.walletType=t.walletType||"")}get client(){return this.chains[0].client}getChain(t){if(t instanceof yt)return t;if("number"===typeof t){const e=this.chains[t];if(!e)throw new Error(`Invalid chain index: ${t}`);return e}const e=p.from(t),i=this.chains.find((t=>t.chainId.equals(e)));if(!i)throw new Error(`Unsupported chain: ${e}`);return i}createRequest(t,e,i){return G(this,void 0,void 0,(function*(){const r=i||this.transport;let s;if(e||1===this.chains.length){const i=e||this.chains[0];s=yield C.create(Object.assign(Object.assign({},t),{chainId:i.chainId,broadcast:!1}),{abiProvider:i,zlib:n.ZP,scheme:this.scheme})}else s=yield C.create(Object.assign(Object.assign({},t),{chainId:null,chainIds:this.encodeChainIds?this.chains.map((t=>t.chainId)):void 0,broadcast:!1}),{abiProvider:this.chains[0],zlib:n.ZP,scheme:this.scheme});r.prepare&&(s=yield r.prepare(s));const o=this.callbackService.create();return s.setCallback(o.url,!0),{request:s,callback:o}}))}sendRequest(t,e,i,s,o=!1){return G(this,void 0,void 0,(function*(){const a=s||this.transport;try{const s=t.data.callback;if(s!==e.url)throw new Error("Invalid request callback");if(!0===t.data.flags.broadcast||!1===t.data.flags.background)throw new Error("Invalid request flags");let c=!1;const l=new Promise(((i,n)=>{a.onRequest(t,(i=>{if(c)return;const r="string"===typeof i?new X(i):i;a.recoverError&&!0===a.recoverError(r,t)||(e.cancel(),n(r))}))})),h=yield Promise.race([e.wait(),l]);if(c=!0,"string"===typeof h.rejected)throw new X(h.rejected);const u=h,d=r.V5.from({actor:u.sa,permission:u.sp}),p=Object.keys(u).filter((t=>t.startsWith("sig")&&"sig0"!==t)).map((t=>r.Pc.from(u[t])));let f;if(!i&&this.chains.length>1){if(!u.cid)throw new Error("Multi chain response payload must specify resolved chain id (cid)");f=this.getChain(u.cid)}else if(f=i||this.getChain(0),u.cid&&!f.chainId.equals(u.cid))throw new Error("Got response for wrong chain id");const g=yield z.fromPayload(u,{zlib:n.ZP,abiProvider:f,scheme:this.scheme}),m=g.request.getInfoKey("cosig",{type:r.Pc,array:!0});m&&p.unshift(...m);const Q={resolved:g,chain:f,transaction:g.transaction,resolvedTransaction:g.resolvedTransaction,signatures:p,payload:u,signer:d};if(o){const t=r.uQ.from(Object.assign(Object.assign({},g.transaction),{signatures:p})).toJSON(),e=r.ei.objectify(t),i=r.f1.fromSigned(t),n=yield f.client.push_transaction({serializedTransaction:i.packed_trx.array,serializedContextFreeData:i.packed_context_free_data.array,signatures:e.signatures,transactionHeader:e});Q.processed=n.processed}return a.onSuccess&&a.onSuccess(t,Q),Q}catch(c){throw a.onFailure&&a.onFailure(t,c),c}}))}transact(t,e,i){return G(this,void 0,void 0,(function*(){const n=e||{},r=i||this.transport,s=void 0!==n.chain?this.getChain(n.chain):void 0,o=!1!==n.broadcast,a=void 0!==n.noModify?n.noModify:!o;r&&r.showLoading&&r.showLoading();const c=t;t.actions&&(c.expiration||c.ref_block_num||c.ref_block_prefix||c.max_net_usage_words||c.max_cpu_usage_ms||c.delay_sec)&&(t={transaction:Object.assign({expiration:"1970-01-01T00:00:00",ref_block_num:0,ref_block_prefix:0,max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0},c)});const{request:l,callback:h}=yield this.createRequest(t,s,r);a&&l.setInfoKey("no_modify",!0,"bool");const u=yield this.sendRequest(l,h,s,r,o);return u}))}identify(t){return G(this,void 0,void 0,(function*(){const{request:e,callback:i}=yield this.createRequest({identity:{permission:t.requestPermission},info:t.info}),n=yield this.sendRequest(e,i);if(!n.resolved.request.isIdentity())throw new Y("Unexpected response");let s;const o=n.resolved.getIdentityProof(n.signatures[0]);if(this.verifyProofs){if(s=yield n.chain.client.get_account(n.signer.actor.toString()),!s)throw new Y(`Signature from unknown account: ${o.signer.actor}`);const t=s.permissions.find((({perm_name:t})=>o.signer.permission.equals(t)));if(!t)throw new Y(`${o.signer.actor} signed for unknown permission: ${o.signer.permission}`);const e=o.verify(t.required_auth,s.head_block_time);if(!e)throw new Y(`Invalid identify proof for: ${o.signer}`)}if(t.requestPermission){const e=r.V5.from(t.requestPermission);if(!e.actor.equals(D)&&!e.actor.equals(o.signer.actor)||!e.permission.equals(A)&&!e.permission.equals(o.signer.permission))throw new Y(`Identity proof singed by ${o.signer}, expected: ${wt(e)} `)}return Object.assign(Object.assign({},n),{account:s,proof:o})}))}login(t){return G(this,void 0,void 0,(function*(){const e=r._q.generate("K1"),i=e.toPublic(),n=it.from({session_name:t,request_key:i,user_agent:this.getUserAgent()}),s=yield this.identify({info:{link:n}}),o=ot(s.payload,s.resolved.request),a=s.proof.recover();let c;return c=s.payload.link_ch&&s.payload.link_key&&s.payload.link_name?new ut(this,{identifier:t,chainId:s.chain.chainId,auth:s.signer,publicKey:a,channel:{url:s.payload.link_ch,key:s.payload.link_key,name:s.payload.link_name},requestKey:e},o):new dt(this,{identifier:t,chainId:s.chain.chainId,auth:s.signer,publicKey:a},o),yield this.storeSession(c),Object.assign(Object.assign({},s),{session:c})}))}restoreSession(t,e,i){return G(this,void 0,void 0,(function*(){if(!this.storage)throw new Error("Unable to restore session: No storage adapter configured");let n;if(e&&i)n=this.sessionKey(t,wt(r.V5.from(e)),String(p.from(i)));else{let r=yield this.listSessions(t);if(e&&(r=r.filter((t=>t.auth.equals(e)))),i){const t=p.from(i);r=r.filter((e=>e.chainId.equals(t)))}const s=r[0];if(!s)return null;n=this.sessionKey(t,wt(s.auth),String(s.chainId))}const s=yield this.storage.read(n);if(!s)return null;let o;try{o=JSON.parse(s)}catch(c){throw new Error(`Unable to restore session: Stored JSON invalid (${c.message||String(c)})`)}const a=ht.restore(this,o);return(e||i)&&(yield this.touchSession(t,a.auth,a.chainId)),a}))}listSessions(t){return G(this,void 0,void 0,(function*(){if(!this.storage)throw new Error("Unable to list sessions: No storage adapter configured");const e=this.sessionKey(t,"list");let i;try{i=JSON.parse((yield this.storage.read(e))||"[]")}catch(n){throw new Error(`Unable to list sessions: ${n.message||String(n)}`)}return i.map((({auth:t,chainId:e})=>({auth:r.V5.from(t),chainId:p.from(e)})))}))}removeSession(t,e,i){return G(this,void 0,void 0,(function*(){if(!this.storage)throw new Error("Unable to remove session: No storage adapter configured");const n=this.sessionKey(t,wt(e),String(i));yield this.storage.remove(n),yield this.touchSession(t,e,i,!0),(yield this.storage.read("wallet-type"))&&this.storage.remove("wallet-type"),(yield this.storage.read("user-auth"))&&this.storage.remove("user-auth")}))}clearSessions(t){return G(this,void 0,void 0,(function*(){if(!this.storage)throw new Error("Unable to clear sessions: No storage adapter configured");for(const{auth:e,chainId:i}of yield this.listSessions(t))yield this.removeSession(t,e,i)}))}makeSignatureProvider(t,e,i){return{getAvailableKeys:()=>G(this,void 0,void 0,(function*(){return t})),sign:t=>G(this,void 0,void 0,(function*(){const s=i||this.transport,o=e?this.getChain(e):this.chains[0];let a=C.fromTransaction(t.chainId,t.serializedTransaction,{abiProvider:o,zlib:n.ZP,scheme:this.scheme});const c=this.callbackService.create();a.setCallback(c.url,!0),a.setBroadcast(!1),s.prepare&&(a=yield s.prepare(a));const{transaction:l,signatures:h}=yield this.sendRequest(a,c,o,s),u=r.ei.encode({object:l});return Object.assign(Object.assign({},t),{serializedTransaction:u,signatures:h})}))}}touchSession(t,e,i,n=!1){return G(this,void 0,void 0,(function*(){const r=yield this.listSessions(t),s=r.findIndex((t=>t.auth.equals(e)&&t.chainId.equals(i)));s>=0&&r.splice(s,1),!1===n&&r.unshift({auth:e,chainId:i});const o=this.sessionKey(t,"list");yield this.storage.write(o,JSON.stringify(r))}))}storeSession(t){return G(this,void 0,void 0,(function*(){if(this.storage){const e=this.sessionKey(t.identifier,wt(t.auth),String(t.chainId)),i=JSON.stringify(t.serialize());yield this.storage.write(e,i),yield this.touchSession(t.identifier,t.auth,t.chainId),this.walletType&&this.storage.write("wallet-type",this.walletType)}}))}sessionKey(t,...e){return[String(r.VG.from(t)),...e].join("-")}getUserAgent(){let t=`AnchorLink/${Et.version}`;return this.transport.userAgent&&(t+=" "+this.transport.userAgent()),t}}function wt(t){const e=r.V5.from(t),i=e.actor.equals(D)?"<any>":String(e.actor);let n;return n=e.permission.equals(D)||e.permission.equals(A)?"<any>":String(e.permission),`${i}@${n}`}Et.version="4.2.15";var Ut=i(40019);
/**
 * Proton Browser Transport v4.2.15
 * https://github.com/protonprotocol/proton-browser-transport
 *
 * @license
 * Copyright (c) 2020 Greymass Inc. All Rights Reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 *  1. Redistribution of source code must retain the above copyright notice, this
 *     list of conditions and the following disclaimer.
 * 
 *  2. Redistribution in binary form must reproduce the above copyright notice,
 *     this list of conditions and the following disclaimer in the documentation
 *     and/or other materials provided with the distribution.
 * 
 *  3. Neither the name of the copyright holder nor the names of its contributors
 *     may be used to endorse or promote products derived from this software without
 *     specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
 * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
 */function vt(t,e,i,n){function r(t){return t instanceof i?t:new i((function(e){e(t)}))}return new(i||(i=Promise))((function(i,s){function o(t){try{c(n.next(t))}catch(e){s(e)}}function a(t){try{c(n["throw"](t))}catch(e){s(e)}}function c(t){t.done?i(t.value):r(t.value).then(o,a)}c((n=n.apply(t,e||[])).next())}))}function bt(){}function Ft(t,e){for(const i in e)t[i]=e[i];return t}function xt(t,e,i,n,r){t.__svelte_meta={loc:{file:e,line:i,column:n,char:r}}}function St(t){return t()}function Lt(){return Object.create(null)}function kt(t){t.forEach(St)}function _t(t){return"function"===typeof t}function Nt(t,e){return t!=t?e==e:t!==e||t&&"object"===typeof t||"function"===typeof t}let Dt,At;function Mt(t,e){return Dt||(Dt=document.createElement("a")),Dt.href=e,t===Dt.href}function Ct(t){return 0===Object.keys(t).length}function zt(t,e){t.appendChild(e)}function Rt(t,e,i){const n=It(t);if(!n.getElementById(e)){const t=Jt("style");t.id=e,t.textContent=i,Tt(n,t)}}function It(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Tt(t,e){zt(t.head||t,e)}function Pt(t,e,i){t.insertBefore(e,i||null)}function Ot(t){t.parentNode.removeChild(t)}function Jt(t){return document.createElement(t)}function jt(t){return document.createTextNode(t)}function $t(){return jt(" ")}function Vt(t,e,i,n){return t.addEventListener(e,i,n),()=>t.removeEventListener(e,i,n)}function qt(t){return function(e){return e.preventDefault(),t.call(this,e)}}function Zt(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function Kt(t){return function(e){e.target===this&&t.call(this,e)}}function Wt(t,e,i){null==i?t.removeAttribute(e):t.getAttribute(e)!==i&&t.setAttribute(e,i)}function Ht(t){return Array.from(t.childNodes)}function Gt(t,e,i){t.classList[i?"add":"remove"](e)}function Xt(t,e,{bubbles:i=!1,cancelable:n=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,i,n,e),r}function Yt(t){At=t}function te(){if(!At)throw new Error("Function called outside component initialization");return At}function ee(){const t=te();return(e,i,{cancelable:n=!1}={})=>{const r=t.$$.callbacks[e];if(r){const s=Xt(e,i,{cancelable:n});return r.slice().forEach((e=>{e.call(t,s)})),!s.defaultPrevented}return!0}}const ie=[],ne=[],re=[],se=[],oe=Promise.resolve();let ae=!1;function ce(){ae||(ae=!0,oe.then(de))}function le(t){re.push(t)}const he=new Set;let ue=0;function de(){const t=At;do{while(ue<ie.length){const t=ie[ue];ue++,Yt(t),pe(t.$$)}Yt(null),ie.length=0,ue=0;while(ne.length)ne.pop()();for(let t=0;t<re.length;t+=1){const e=re[t];he.has(e)||(he.add(e),e())}re.length=0}while(ie.length);while(se.length)se.pop()();ae=!1,he.clear(),Yt(t)}function pe(t){if(null!==t.fragment){t.update(),kt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(le)}}const fe=new Set;let ge;function me(){ge={r:0,c:[],p:ge}}function Qe(){ge.r||kt(ge.c),ge=ge.p}function Be(t,e){t&&t.i&&(fe.delete(t),t.i(e))}function ye(t,e,i,n){if(t&&t.o){if(fe.has(t))return;fe.add(t),ge.c.push((()=>{fe.delete(t),n&&(i&&t.d(1),n())})),t.o(e)}else n&&n()}function Ee(t,e){const i={},n={},r={$$scope:1};let s=t.length;while(s--){const o=t[s],a=e[s];if(a){for(const t in o)t in a||(n[t]=1);for(const t in a)r[t]||(i[t]=a[t],r[t]=1);t[s]=a}else for(const t in o)r[t]=1}for(const o in n)o in i||(i[o]=void 0);return i}function we(t){return"object"===typeof t&&null!==t?t:{}}function Ue(t){t&&t.c()}function ve(t,e,i,n){const{fragment:r,on_mount:s,on_destroy:o,after_update:a}=t.$$;r&&r.m(e,i),n||le((()=>{const e=s.map(St).filter(_t);o?o.push(...e):kt(e),t.$$.on_mount=[]})),a.forEach(le)}function be(t,e){const i=t.$$;null!==i.fragment&&(kt(i.on_destroy),i.fragment&&i.fragment.d(e),i.on_destroy=i.fragment=null,i.ctx=[])}function Fe(t,e){-1===t.$$.dirty[0]&&(ie.push(t),ce(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function xe(t,e,i,n,r,s,o,a=[-1]){const c=At;Yt(t);const l=t.$$={fragment:null,ctx:null,props:s,update:bt,not_equal:r,bound:Lt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Lt(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};o&&o(l.root);let h=!1;if(l.ctx=i?i(t,e.props||{},((e,i,...n)=>{const s=n.length?n[0]:i;return l.ctx&&r(l.ctx[e],l.ctx[e]=s)&&(!l.skip_bound&&l.bound[e]&&l.bound[e](s),h&&Fe(t,e)),i})):[],l.update(),h=!0,kt(l.before_update),l.fragment=!!n&&n(l.ctx),e.target){if(e.hydrate){const t=Ht(e.target);l.fragment&&l.fragment.l(t),t.forEach(Ot)}else l.fragment&&l.fragment.c();e.intro&&Be(t.$$.fragment),ve(t,e.target,e.anchor,e.customElement),de()}Yt(c)}class Se{$destroy(){be(this,1),this.$destroy=bt}$on(t,e){const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(e),()=>{const t=i.indexOf(e);-1!==t&&i.splice(t,1)}}$set(t){this.$$set&&!Ct(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Le(t,e){document.dispatchEvent(Xt(t,Object.assign({version:"3.49.0"},e),{bubbles:!0}))}function ke(t,e){Le("SvelteDOMInsert",{target:t,node:e}),zt(t,e)}function _e(t,e,i){Le("SvelteDOMInsert",{target:t,node:e,anchor:i}),Pt(t,e,i)}function Ne(t){Le("SvelteDOMRemove",{node:t}),Ot(t)}function De(t,e,i,n,r,s){const o=!0===n?["capture"]:n?Array.from(Object.keys(n)):[];r&&o.push("preventDefault"),s&&o.push("stopPropagation"),Le("SvelteDOMAddEventListener",{node:t,event:e,handler:i,modifiers:o});const a=Vt(t,e,i,n);return()=>{Le("SvelteDOMRemoveEventListener",{node:t,event:e,handler:i,modifiers:o}),a()}}function Ae(t,e,i){Wt(t,e,i),null==i?Le("SvelteDOMRemoveAttribute",{node:t,attribute:e}):Le("SvelteDOMSetAttribute",{node:t,attribute:e,value:i})}function Me(t,e){e=""+e,t.wholeText!==e&&(Le("SvelteDOMSetData",{node:t,data:e}),t.data=e)}function Ce(t,e,i){for(const n of Object.keys(e))~i.indexOf(n)||Ut.warn(`<${t}> received an unexpected slot "${n}".`)}class ze extends Se{constructor(t){if(!t||!t.target&&!t.$$inline)throw new Error("'target' is a required option");super()}$destroy(){super.$destroy(),this.$destroy=()=>{Ut.warn("Component was already destroyed")}}$capture_state(){}$inject_state(){}}function Re(){return/iP(ad|od|hone)/i.test(navigator.userAgent)||navigator.userAgent.toLowerCase().indexOf("macintosh")>-1&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2}function Ie(){return/CriOS/.test(navigator.userAgent)}function Te(){return/Chrome\/[.0-9]* Mobile/i.test(navigator.userAgent)}function Pe(){return/Firefox/i.test(navigator.userAgent)}function Oe(){return/FxiOS/.test(navigator.userAgent)}function Je(){return/OPR/.test(navigator.userAgent)||/Opera/.test(navigator.userAgent)}function je(){return/Edg/.test(navigator.userAgent)}function $e(){return navigator["brave"]&&"function"===typeof navigator["brave"].isBrave}function Ve(){return/Android/.test(navigator.userAgent)}function qe(){return/wv/.test(navigator.userAgent)||/Android.*AppleWebKit/.test(navigator.userAgent)}function Ze(){return"undefined"!==typeof window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")}function Ke(){if(Ie())return"googlechrome://";if(Oe())return"firefox:://";if(Re()&&$e())return"brave://";if(Re()){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let e=window.location.href.split("#")[0]+"#";for(let i=0;i<8;i++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}return Ve()&&Pe()?"android-intent://org.mozilla.firefox":Ve()&&je()?"android-intent://com.microsoft.emmx":Ve()&&Je()?"android-intent://com.opera.browser":Ve()&&$e()?"android-intent://com.brave.browser":Ve()&&qe()?"android-intent://webview":Ve()&&Te()?"android-intent://com.android.chrome":window.location.href}function We(t){let e;if(t.json&&t.json.error&&(t=t.json.error),t.error&&(t=t.error),t.details){const{code:i,details:n,name:r,what:s}=t;e="eosio_assert_message_exception"===r?n[0].message.replace("assertion failure with message: ",""):n.length>0?n.map((t=>t.message)).join("\n"):s||String(t)}else e=t.message||String(t);return e}const He={proton:"https://protonchain.com/wallet",anchor:"https://greymass.com/en/anchor/"};function Ge(t){return He[t]||""}const Xe="src/views/CountDown.svelte";function Ye(t){Rt(t,"svelte-8ofljp",".proton-link-countdown{width:104px;height:104px;display:flex;align-items:center;justify-content:center;margin:40px auto 5px;border-radius:100%;background-color:white;font-size:28px;line-height:40px}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ291bnREb3duLnN2ZWx0ZSIsIm1hcHBpbmdzIjoiQUFDSSxzQkFBQSxBQUFBLENBQUEsQUFDSSxLQUFBLENBQUEsS0FBQSxDQUNBLE1BQUEsQ0FBQSxLQUFBLENBQ0EsT0FBQSxDQUFBLElBQUEsQ0FDQSxXQUFBLENBQUEsTUFBQSxDQUNBLGVBQUEsQ0FBQSxNQUFBLENBQ0EsTUFBQSxDQUFBLElBQUEsQ0FBQSxJQUFBLENBQUEsR0FBQSxDQUNBLGFBQUEsQ0FBQSxJQUFBLENBQ0EsZ0JBQUEsQ0FBQSxLQUFBLENBQ0EsU0FBQSxDQUFBLElBQUEsQ0FDQSxXQUFBLENBQUEsSUFBQSxBQ01SLENBRUEiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiZmlsZTovLy9Vc2Vycy9qYWZyaS9Xb3JrL3Byb3Rvbi9wcm90b24td2ViLXNkay9wYWNrYWdlcy9wcm90b24tYnJvd3Nlci10cmFuc3BvcnQvc3JjL3ZpZXdzL0NvdW50RG93bi5zdmVsdGUiLCJDb3VudERvd24uc3ZlbHRlIl19 */")}function ti(t){let e,i;const n={c:function(){e=Jt("div"),i=jt(t[0]),Ae(e,"class","proton-link-countdown"),xt(e,Xe,3,0,61)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,n){_e(t,e,n),ke(e,i)},p:function(t,[e]){1&e&&Me(i,t[0])},i:bt,o:bt,d:function(t){t&&Ne(e)}};return Le("SvelteRegisterBlock",{block:n,id:ti.name,type:"component",source:"",ctx:t}),n}function ei(t,e,i){let{$$slots:n={},$$scope:r}=e;Ce("CountDown",n,[]);let{countDown:s="00:00"}=e;const o=["countDown"];return Object.keys(e).forEach((t=>{~o.indexOf(t)||"$$"===t.slice(0,2)||"slot"===t||Ut.warn(`<CountDown> was created with unknown prop '${t}'`)})),t.$$set=t=>{"countDown"in t&&i(0,s=t.countDown)},t.$capture_state=()=>({countDown:s}),t.$inject_state=t=>{"countDown"in t&&i(0,s=t.countDown)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[s]}class ii extends ze{constructor(t){super(t),xe(this,t,ei,ti,Nt,{countDown:0},Ye),Le("SvelteRegisterComponent",{component:this,tagName:"CountDown",options:t,id:ti.name})}get countDown(){throw new Error("<CountDown>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set countDown(t){throw new Error("<CountDown>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const ni="src/views/QRCode.svelte";function ri(t){Rt(t,"svelte-1xxtybb",'.proton-link-actions{display:flex;flex-direction:column;align-items:center;position:relative}.proton-link-background{width:250px;height:250px;border-radius:10px;box-shadow:0 4px 8px -2px rgba(141, 141, 148, 0.28), 0 0 2px 0 rgba(141, 141, 148, 0.16);background-color:#ffffff;position:relative;z-index:10}.proton-link-qr{width:100%;height:100%;padding:10px}.proton-link-separator{margin-top:20px;width:100%;font-size:12px;display:flex;align-items:center;text-align:center;color:white}.proton-link-separator::before,.proton-link-separator::after{content:"";flex:1;opacity:0.2;border-bottom:1px solid #d8d8d8}.proton-link-separator::before{margin-right:0.5em}.proton-link-separator::after{margin-left:0.5em}.proton-link-uri{width:100%;padding:20px 0px 0px 0px}.proton-link-uri a{width:100%;background-color:rgba(255, 255, 255, 0.3);font-family:"Circular Std Book", sans-serif;font-size:16px;font-weight:500;text-align:center;color:#ffffff;text-decoration:none;flex-grow:1;flex:1;padding:18px 0px 16px 0px;display:block;border-radius:10px}.proton-link-uri a:hover{background-color:rgba(255, 255, 255, 0.25);transition:0.2s ease}.proton-link-wskeepalive{display:none}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,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 */')}function si(t){let e,i,n,r,s,o,a,c,l,h,u,d,p,f,g;const m={c:function(){e=Jt("div"),i=Jt("div"),n=Jt("img"),s=$t(),o=Jt("div"),o.textContent="OR",a=$t(),c=Jt("div"),l=Jt("a"),h=jt("Open Wallet"),u=$t(),d=Jt("iframe"),Ae(n,"class","proton-link-qr"),Mt(n.src,r=t[0])||Ae(n,"src",r),Ae(n,"alt","auth link"),xt(n,ni,18,8,433),Ae(i,"class","proton-link-background"),xt(i,ni,17,4,388),Ae(o,"class","proton-link-separator"),xt(o,ni,20,4,506),Ae(l,"class","proton-link-button"),Ae(l,"href",t[1]),xt(l,ni,22,8,592),Ae(c,"class","proton-link-uri"),xt(c,ni,21,4,554),Ae(d,"class","proton-link-wskeepalive"),Mt(d.src,p=t[2])||Ae(d,"src",p),Ae(d,"title","keepalive"),xt(d,ni,26,4,729),Ae(e,"class","proton-link-actions"),xt(e,ni,16,0,350)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(r,p){_e(r,e,p),ke(e,i),ke(i,n),ke(e,s),ke(e,o),ke(e,a),ke(e,c),ke(c,l),ke(l,h),ke(e,u),ke(e,d),f||(g=De(l,"click",qt(t[3]),!1,!0,!1),f=!0)},p:function(t,[e]){1&e&&!Mt(n.src,r=t[0])&&Ae(n,"src",r),2&e&&Ae(l,"href",t[1]),4&e&&!Mt(d.src,p=t[2])&&Ae(d,"src",p)},i:bt,o:bt,d:function(t){t&&Ne(e),f=!1,g()}};return Le("SvelteRegisterBlock",{block:m,id:si.name,type:"component",source:"",ctx:t}),m}function oi(t,e,i){let{$$slots:n={},$$scope:r}=e;Ce("QRCode",n,[]);let{code:s=""}=e,{link:o=""}=e,a="about:blank";function c(){o&&(Pe()||$e()?i(2,a=o):window.location.href=o)}const l=["code","link"];return Object.keys(e).forEach((t=>{~l.indexOf(t)||"$$"===t.slice(0,2)||"slot"===t||Ut.warn(`<QRCode> was created with unknown prop '${t}'`)})),t.$$set=t=>{"code"in t&&i(0,s=t.code),"link"in t&&i(1,o=t.link)},t.$capture_state=()=>({isBrave:$e,isFirefox:Pe,code:s,link:o,iframeUrl:a,protonLinkClick:c}),t.$inject_state=t=>{"code"in t&&i(0,s=t.code),"link"in t&&i(1,o=t.link),"iframeUrl"in t&&i(2,a=t.iframeUrl)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[s,o,a,c]}class ai extends ze{constructor(t){super(t),xe(this,t,oi,si,Nt,{code:0,link:1},ri),Le("SvelteRegisterComponent",{component:this,tagName:"QRCode",options:t,id:si.name})}get code(){throw new Error("<QRCode>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set code(t){throw new Error("<QRCode>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get link(){throw new Error("<QRCode>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set link(t){throw new Error("<QRCode>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const ci="src/views/Dialog.svelte";function li(t){Rt(t,"svelte-1qqw1l8",".proton-link{font-family:\"Circular Std Book\", -apple-system, system-ui, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif;font-size:13px;background:rgba(0, 0, 0, 0.65);position:fixed;top:0px;left:0px;width:100%;height:100%;z-index:2147483647;display:none;align-items:center;justify-content:center}.proton-link *{box-sizing:border-box;line-height:1}.proton-link-button{color:white;cursor:pointer;text-align:center;background-color:transparent;background-image:none;outline:none}.proton-link-subtitle{font-size:16px;line-height:24px;display:block;margin-top:10px;text-align:center;word-break:break-word}.proton-link--anchor .proton-link-inner{background:#3650a2;color:white}.proton-link--anchor .proton-link-logo{background-image:url(\"data:image/png;base64,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\")}.proton-link--anchor .proton-link-countdown{color:#3650a2}.proton-link--proton .proton-link-inner{background:#752eeb;color:white}.proton-link--proton .proton-link-logo{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='49' viewBox='0 0 160 49'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23FFF'%3E%3Cg%3E%3Cpath fill-rule='nonzero' d='M58.895 32.064V27.53h3.547c1.361 0 2.547-.224 3.557-.673 1.01-.449 1.785-1.096 2.323-1.942.539-.845.808-1.836.808-2.974 0-1.152-.269-2.147-.808-2.985-.538-.838-1.313-1.481-2.323-1.93-1.01-.449-2.196-.673-3.557-.673h-6.464v15.711h2.917zm3.412-7.003h-3.412v-6.24h3.412c1.272 0 2.237.27 2.895.809.659.538.988 1.309.988 2.311 0 1.003-.33 1.774-.988 2.312-.658.539-1.623.808-2.895.808zm13.942 7.003v-4.579h3.633c.226-.001.4-.009.519-.022l3.21 4.601h3.142l-3.614-5.162c1.077-.42 1.904-1.055 2.48-1.908.576-.853.864-1.87.864-3.053 0-1.152-.269-2.147-.808-2.985-.538-.838-1.313-1.481-2.323-1.93-1.01-.449-2.195-.673-3.557-.673H73.33v15.711h2.918zm3.411-6.98H76.25v-6.262h3.411c1.272 0 2.237.269 2.896.808.658.538.987 1.309.987 2.311 0 1.003-.329 1.777-.987 2.324-.659.546-1.624.819-2.896.819zm18.7 7.205c1.601 0 3.045-.348 4.332-1.044 1.287-.696 2.297-1.657 3.03-2.884.733-1.227 1.1-2.611 1.1-4.153 0-1.54-.367-2.925-1.1-4.152-.733-1.227-1.743-2.188-3.03-2.884-1.287-.696-2.73-1.044-4.332-1.044-1.601 0-3.045.348-4.332 1.044-1.287.696-2.297 1.66-3.03 2.895-.733 1.235-1.1 2.615-1.1 4.141 0 1.527.367 2.907 1.1 4.141.733 1.235 1.743 2.2 3.03 2.896 1.287.696 2.73 1.044 4.332 1.044zm0-2.56c-1.047 0-1.99-.235-2.828-.706-.838-.471-1.496-1.13-1.975-1.975-.479-.846-.718-1.792-.718-2.84 0-1.047.239-1.993.718-2.839.479-.845 1.137-1.504 1.975-1.975.838-.471 1.78-.707 2.828-.707 1.047 0 1.99.236 2.828.707.838.471 1.496 1.13 1.975 1.975.479.846.718 1.792.718 2.84 0 1.047-.239 1.993-.718 2.839-.479.845-1.137 1.504-1.975 1.975-.838.471-1.78.707-2.828.707zm18.722 2.335V18.822h5.207v-2.47h-13.332v2.47h5.207v13.242h2.918zm15.805.225c1.6 0 3.045-.348 4.332-1.044 1.286-.696 2.296-1.657 3.03-2.884.733-1.227 1.1-2.611 1.1-4.153 0-1.54-.367-2.925-1.1-4.152-.734-1.227-1.744-2.188-3.03-2.884-1.287-.696-2.731-1.044-4.332-1.044s-3.045.348-4.332 1.044c-1.287.696-2.297 1.66-3.03 2.895-.733 1.235-1.1 2.615-1.1 4.141 0 1.527.367 2.907 1.1 4.141.733 1.235 1.743 2.2 3.03 2.896 1.287.696 2.73 1.044 4.332 1.044zm0-2.56c-1.048 0-1.99-.235-2.828-.706-.838-.471-1.497-1.13-1.976-1.975-.478-.846-.718-1.792-.718-2.84 0-1.047.24-1.993.718-2.839.48-.845 1.138-1.504 1.976-1.975.838-.471 1.78-.707 2.828-.707 1.047 0 1.99.236 2.828.707.838.471 1.496 1.13 1.975 1.975.479.846.718 1.792.718 2.84 0 1.047-.24 1.993-.718 2.839-.479.845-1.137 1.504-1.975 1.975-.838.471-1.78.707-2.828.707zm15.737 2.335V21.425l8.663 10.64h2.402V16.352h-2.895v10.639l-8.664-10.64h-2.402v15.712h2.896z' transform='translate(-432 -207) translate(432 207)'/%3E%3Cg%3E%3Cpath d='M21.582 0c3.104 0 5.782 3.222 7.545 8.459-.712.198-1.44.42-2.174.666-1.465-4.331-3.476-6.88-5.37-6.88-2.136 0-4.415 3.232-5.899 8.606.58.187 1.165.386 1.762.606 1.346.495 2.735 1.078 4.15 1.74.081-.038.162-.078.243-.115.907-.417 1.808-.801 2.7-1.154l.32-.125c2.671-1.033 5.252-1.773 7.616-2.165 5.088-.846 8.666.03 10.07 2.466 1.409 2.437.38 5.974-2.898 9.956-.189.228-.38.459-.583.686-.488-.542-1.007-1.083-1.561-1.625 2.891-3.354 4.03-6.285 3.1-7.895-.879-1.523-3.777-2.036-7.76-1.375-.85.142-1.735.333-2.643.57.13.596.25 1.205.357 1.835.246 1.41.436 2.903.57 4.458.7.492 1.384.991 2.04 1.5 2.572 1.99 4.78 4.078 6.48 6.143 3.277 3.982 4.307 7.519 2.899 9.956-1.055 1.83-3.338 2.78-6.567 2.78-1.067 0-2.238-.103-3.504-.315-.328-.054-.661-.115-.997-.182.201-.696.388-1.424.557-2.178.273.055.542.103.808.148 3.98.66 6.881.147 7.76-1.376 1.068-1.85-.6-5.449-4.522-9.428-.391.357-.794.713-1.21 1.066-.062.051-.126.106-.187.154-1.11.93-2.302 1.842-3.561 2.728-.06.704-.13 1.4-.213 2.075-1.225 9.863-4.829 16.632-9.328 16.632-3.097 0-5.771-3.213-7.535-8.436.709-.193 1.434-.417 2.175-.667 1.465 4.319 3.469 6.858 5.36 6.858 2.136 0 4.42-3.243 5.907-8.631-.583-.186-1.17-.383-1.764-.603-1.355-.494-2.738-1.07-4.13-1.716l-.09.042c-.785.366-1.558.706-2.321 1.02-.119.048-.234.096-.35.138-4.392 1.77-8.404 2.687-11.594 2.687-3.177 0-5.534-.911-6.624-2.796-1.559-2.7-.084-6.654 3.607-10.822l1.568 1.654c-2.985 3.419-4.172 6.413-3.23 8.045 1.067 1.849 5.006 2.206 10.402.805-.127-.595-.248-1.202-.355-1.83-.244-1.41-.433-2.898-.569-4.45-.703-.491-1.387-.988-2.035-1.486C3.752 23.42 0 18.312 0 14.51c0-.879.202-1.687.616-2.405C2.168 9.42 6.288 8.712 11.697 9.796c-.205.705-.394 1.442-.564 2.206-4.448-.879-7.632-.408-8.571 1.224-1.067 1.848.594 5.44 4.504 9.413.502-.455 1.022-.907 1.569-1.355 1.053-.871 2.194-1.736 3.407-2.586.061-.706.13-1.403.216-2.08C13.483 6.767 17.087 0 21.582 0zm7.103 31.336c-.54.342-1.087.68-1.645 1.01-.19.113-.379.222-.568.33-.664.382-1.327.75-1.985 1.097-.097.052-.194.1-.29.152.681.288 1.358.558 2.028.807.605.225 1.202.431 1.794.625.132-.615.254-1.248.364-1.904.115-.681.212-1.393.302-2.117zm-14.212-.003c.094.76.203 1.5.325 2.212.105.624.224 1.224.35 1.81.363-.118.73-.24 1.102-.373.112-.039.228-.08.34-.122.766-.276 1.552-.58 2.353-.923l.023-.01c-.759-.397-1.518-.814-2.273-1.25-.039-.023-.08-.045-.12-.071-.72-.418-1.418-.844-2.1-1.273zm7.11-15.65c-.767.373-1.537.765-2.306 1.183-.487.263-.975.535-1.462.817-1.277.738-2.48 1.495-3.615 2.261-.046.654-.086 1.316-.111 1.997-.029.741-.042 1.498-.042 2.267 0 1.476.054 2.897.151 4.263.655.443 1.329.882 2.033 1.313.516.321 1.042.638 1.584.95 1.254.724 2.515 1.39 3.77 2 .08-.04.16-.075.241-.115.834-.41 1.677-.853 2.533-1.328.33-.18.66-.365.99-.558 1.278-.736 2.481-1.493 3.615-2.26.047-.654.087-1.317.112-1.998.029-.74.041-1.497.041-2.267 0-1.475-.054-2.895-.15-4.262-.653-.44-1.326-.88-2.03-1.314-.516-.32-1.045-.634-1.587-.949-1.277-.737-2.535-1.4-3.767-2zm0 5.64c1.593 0 2.885 1.292 2.885 2.885 0 1.594-1.292 2.886-2.886 2.886-1.593 0-2.885-1.292-2.885-2.886 0-1.593 1.292-2.885 2.885-2.885zm9.729.3c.033.847.05 1.71.05 2.585 0 .212 0 .424-.003.635-.007.663-.027 1.315-.052 1.96.578-.436 1.132-.874 1.661-1.312.068-.055.132-.106.196-.16.449-.376.878-.75 1.29-1.123-.378-.34-.77-.683-1.178-1.026-.619-.522-1.278-1.042-1.964-1.56zm-19.454-.006c-.52.392-1.021.785-1.501 1.177-.579.47-1.127.943-1.649 1.416.379.341.771.684 1.18 1.028.62.52 1.279 1.039 1.966 1.557-.034-.847-.051-1.71-.051-2.587 0-.211 0-.423.006-.631.005-.662.024-1.314.049-1.96zm16.158-8.556c-.3.097-.6.198-.903.303-.891.308-1.795.658-2.712 1.042l-.195.084c.75.396 1.507.812 2.266 1.25.039.023.08.045.119.07.717.414 1.414.842 2.1 1.277-.093-.762-.202-1.502-.324-2.216-.107-.623-.226-1.224-.351-1.81zm-12.87 0c-.13.613-.251 1.246-.361 1.9-.117.682-.215 1.391-.305 2.115.684-.432 1.387-.859 2.11-1.278l.103-.058c.757-.437 1.517-.853 2.276-1.25-.688-.29-1.364-.56-2.026-.805-.613-.23-1.21-.435-1.796-.624z' transform='translate(-432 -207) translate(432 207)'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E%0A\")}.proton-link--proton .proton-link-countdown{color:#752eeb}.proton-link--webauth .proton-link-inner{background:#752eeb;color:white}.proton-link--webauth .proton-link-logo{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='49' viewBox='0 0 160 49'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23FFF'%3E%3Cg%3E%3Cpath fill-rule='nonzero' d='M58.895 32.064V27.53h3.547c1.361 0 2.547-.224 3.557-.673 1.01-.449 1.785-1.096 2.323-1.942.539-.845.808-1.836.808-2.974 0-1.152-.269-2.147-.808-2.985-.538-.838-1.313-1.481-2.323-1.93-1.01-.449-2.196-.673-3.557-.673h-6.464v15.711h2.917zm3.412-7.003h-3.412v-6.24h3.412c1.272 0 2.237.27 2.895.809.659.538.988 1.309.988 2.311 0 1.003-.33 1.774-.988 2.312-.658.539-1.623.808-2.895.808zm13.942 7.003v-4.579h3.633c.226-.001.4-.009.519-.022l3.21 4.601h3.142l-3.614-5.162c1.077-.42 1.904-1.055 2.48-1.908.576-.853.864-1.87.864-3.053 0-1.152-.269-2.147-.808-2.985-.538-.838-1.313-1.481-2.323-1.93-1.01-.449-2.195-.673-3.557-.673H73.33v15.711h2.918zm3.411-6.98H76.25v-6.262h3.411c1.272 0 2.237.269 2.896.808.658.538.987 1.309.987 2.311 0 1.003-.329 1.777-.987 2.324-.659.546-1.624.819-2.896.819zm18.7 7.205c1.601 0 3.045-.348 4.332-1.044 1.287-.696 2.297-1.657 3.03-2.884.733-1.227 1.1-2.611 1.1-4.153 0-1.54-.367-2.925-1.1-4.152-.733-1.227-1.743-2.188-3.03-2.884-1.287-.696-2.73-1.044-4.332-1.044-1.601 0-3.045.348-4.332 1.044-1.287.696-2.297 1.66-3.03 2.895-.733 1.235-1.1 2.615-1.1 4.141 0 1.527.367 2.907 1.1 4.141.733 1.235 1.743 2.2 3.03 2.896 1.287.696 2.73 1.044 4.332 1.044zm0-2.56c-1.047 0-1.99-.235-2.828-.706-.838-.471-1.496-1.13-1.975-1.975-.479-.846-.718-1.792-.718-2.84 0-1.047.239-1.993.718-2.839.479-.845 1.137-1.504 1.975-1.975.838-.471 1.78-.707 2.828-.707 1.047 0 1.99.236 2.828.707.838.471 1.496 1.13 1.975 1.975.479.846.718 1.792.718 2.84 0 1.047-.239 1.993-.718 2.839-.479.845-1.137 1.504-1.975 1.975-.838.471-1.78.707-2.828.707zm18.722 2.335V18.822h5.207v-2.47h-13.332v2.47h5.207v13.242h2.918zm15.805.225c1.6 0 3.045-.348 4.332-1.044 1.286-.696 2.296-1.657 3.03-2.884.733-1.227 1.1-2.611 1.1-4.153 0-1.54-.367-2.925-1.1-4.152-.734-1.227-1.744-2.188-3.03-2.884-1.287-.696-2.731-1.044-4.332-1.044s-3.045.348-4.332 1.044c-1.287.696-2.297 1.66-3.03 2.895-.733 1.235-1.1 2.615-1.1 4.141 0 1.527.367 2.907 1.1 4.141.733 1.235 1.743 2.2 3.03 2.896 1.287.696 2.73 1.044 4.332 1.044zm0-2.56c-1.048 0-1.99-.235-2.828-.706-.838-.471-1.497-1.13-1.976-1.975-.478-.846-.718-1.792-.718-2.84 0-1.047.24-1.993.718-2.839.48-.845 1.138-1.504 1.976-1.975.838-.471 1.78-.707 2.828-.707 1.047 0 1.99.236 2.828.707.838.471 1.496 1.13 1.975 1.975.479.846.718 1.792.718 2.84 0 1.047-.24 1.993-.718 2.839-.479.845-1.137 1.504-1.975 1.975-.838.471-1.78.707-2.828.707zm15.737 2.335V21.425l8.663 10.64h2.402V16.352h-2.895v10.639l-8.664-10.64h-2.402v15.712h2.896z' transform='translate(-432 -207) translate(432 207)'/%3E%3Cg%3E%3Cpath d='M21.582 0c3.104 0 5.782 3.222 7.545 8.459-.712.198-1.44.42-2.174.666-1.465-4.331-3.476-6.88-5.37-6.88-2.136 0-4.415 3.232-5.899 8.606.58.187 1.165.386 1.762.606 1.346.495 2.735 1.078 4.15 1.74.081-.038.162-.078.243-.115.907-.417 1.808-.801 2.7-1.154l.32-.125c2.671-1.033 5.252-1.773 7.616-2.165 5.088-.846 8.666.03 10.07 2.466 1.409 2.437.38 5.974-2.898 9.956-.189.228-.38.459-.583.686-.488-.542-1.007-1.083-1.561-1.625 2.891-3.354 4.03-6.285 3.1-7.895-.879-1.523-3.777-2.036-7.76-1.375-.85.142-1.735.333-2.643.57.13.596.25 1.205.357 1.835.246 1.41.436 2.903.57 4.458.7.492 1.384.991 2.04 1.5 2.572 1.99 4.78 4.078 6.48 6.143 3.277 3.982 4.307 7.519 2.899 9.956-1.055 1.83-3.338 2.78-6.567 2.78-1.067 0-2.238-.103-3.504-.315-.328-.054-.661-.115-.997-.182.201-.696.388-1.424.557-2.178.273.055.542.103.808.148 3.98.66 6.881.147 7.76-1.376 1.068-1.85-.6-5.449-4.522-9.428-.391.357-.794.713-1.21 1.066-.062.051-.126.106-.187.154-1.11.93-2.302 1.842-3.561 2.728-.06.704-.13 1.4-.213 2.075-1.225 9.863-4.829 16.632-9.328 16.632-3.097 0-5.771-3.213-7.535-8.436.709-.193 1.434-.417 2.175-.667 1.465 4.319 3.469 6.858 5.36 6.858 2.136 0 4.42-3.243 5.907-8.631-.583-.186-1.17-.383-1.764-.603-1.355-.494-2.738-1.07-4.13-1.716l-.09.042c-.785.366-1.558.706-2.321 1.02-.119.048-.234.096-.35.138-4.392 1.77-8.404 2.687-11.594 2.687-3.177 0-5.534-.911-6.624-2.796-1.559-2.7-.084-6.654 3.607-10.822l1.568 1.654c-2.985 3.419-4.172 6.413-3.23 8.045 1.067 1.849 5.006 2.206 10.402.805-.127-.595-.248-1.202-.355-1.83-.244-1.41-.433-2.898-.569-4.45-.703-.491-1.387-.988-2.035-1.486C3.752 23.42 0 18.312 0 14.51c0-.879.202-1.687.616-2.405C2.168 9.42 6.288 8.712 11.697 9.796c-.205.705-.394 1.442-.564 2.206-4.448-.879-7.632-.408-8.571 1.224-1.067 1.848.594 5.44 4.504 9.413.502-.455 1.022-.907 1.569-1.355 1.053-.871 2.194-1.736 3.407-2.586.061-.706.13-1.403.216-2.08C13.483 6.767 17.087 0 21.582 0zm7.103 31.336c-.54.342-1.087.68-1.645 1.01-.19.113-.379.222-.568.33-.664.382-1.327.75-1.985 1.097-.097.052-.194.1-.29.152.681.288 1.358.558 2.028.807.605.225 1.202.431 1.794.625.132-.615.254-1.248.364-1.904.115-.681.212-1.393.302-2.117zm-14.212-.003c.094.76.203 1.5.325 2.212.105.624.224 1.224.35 1.81.363-.118.73-.24 1.102-.373.112-.039.228-.08.34-.122.766-.276 1.552-.58 2.353-.923l.023-.01c-.759-.397-1.518-.814-2.273-1.25-.039-.023-.08-.045-.12-.071-.72-.418-1.418-.844-2.1-1.273zm7.11-15.65c-.767.373-1.537.765-2.306 1.183-.487.263-.975.535-1.462.817-1.277.738-2.48 1.495-3.615 2.261-.046.654-.086 1.316-.111 1.997-.029.741-.042 1.498-.042 2.267 0 1.476.054 2.897.151 4.263.655.443 1.329.882 2.033 1.313.516.321 1.042.638 1.584.95 1.254.724 2.515 1.39 3.77 2 .08-.04.16-.075.241-.115.834-.41 1.677-.853 2.533-1.328.33-.18.66-.365.99-.558 1.278-.736 2.481-1.493 3.615-2.26.047-.654.087-1.317.112-1.998.029-.74.041-1.497.041-2.267 0-1.475-.054-2.895-.15-4.262-.653-.44-1.326-.88-2.03-1.314-.516-.32-1.045-.634-1.587-.949-1.277-.737-2.535-1.4-3.767-2zm0 5.64c1.593 0 2.885 1.292 2.885 2.885 0 1.594-1.292 2.886-2.886 2.886-1.593 0-2.885-1.292-2.885-2.886 0-1.593 1.292-2.885 2.885-2.885zm9.729.3c.033.847.05 1.71.05 2.585 0 .212 0 .424-.003.635-.007.663-.027 1.315-.052 1.96.578-.436 1.132-.874 1.661-1.312.068-.055.132-.106.196-.16.449-.376.878-.75 1.29-1.123-.378-.34-.77-.683-1.178-1.026-.619-.522-1.278-1.042-1.964-1.56zm-19.454-.006c-.52.392-1.021.785-1.501 1.177-.579.47-1.127.943-1.649 1.416.379.341.771.684 1.18 1.028.62.52 1.279 1.039 1.966 1.557-.034-.847-.051-1.71-.051-2.587 0-.211 0-.423.006-.631.005-.662.024-1.314.049-1.96zm16.158-8.556c-.3.097-.6.198-.903.303-.891.308-1.795.658-2.712 1.042l-.195.084c.75.396 1.507.812 2.266 1.25.039.023.08.045.119.07.717.414 1.414.842 2.1 1.277-.093-.762-.202-1.502-.324-2.216-.107-.623-.226-1.224-.351-1.81zm-12.87 0c-.13.613-.251 1.246-.361 1.9-.117.682-.215 1.391-.305 2.115.684-.432 1.387-.859 2.11-1.278l.103-.058c.757-.437 1.517-.853 2.276-1.25-.688-.29-1.364-.56-2.026-.805-.613-.23-1.21-.435-1.796-.624z' transform='translate(-432 -207) translate(432 207)'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E%0A\")}.proton-link--webauth .proton-link-countdown{color:#752eeb}.proton-link.is-active{display:flex}.proton-link-inner{background-color:white;color:black;margin:20px;position:relative;border-radius:20px;position:relative;box-shadow:0px 4px 100px rgba(0, 0, 0, 0.5);width:360px;transition-property:all;transition-duration:0.5s;transition-timing-function:ease-in-out}.proton-link-nav{height:55px;display:flex;position:relative;border-radius:20px 20px 0px 0px;justify-content:center;align-items:center;padding:0px 16px;background-color:rgba(0, 0, 0, 0.2)}.proton-link-back{width:16px;height:16px;position:absolute;left:16px;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg%3E%3Cg%3E%3Cg%3E%3Cpath d='M0 0L24 0 24 24 0 24z' transform='translate(-348 -152) translate(332 136) translate(16 16)'/%3E%3Cpath fill='rgba(255,255,255, 0.8)' fill-rule='nonzero' d='M16.41 5.791L14.619 4 7 11.619 14.619 19.239 16.41 17.448 10.594 11.619z' transform='translate(-348 -152) translate(332 136) translate(16 16)'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E%0A\");background-size:20px;background-repeat:no-repeat;background-position:50%;border-radius:100%;cursor:pointer}.proton-link-back:hover{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg%3E%3Cg%3E%3Cg%3E%3Cpath d='M0 0L24 0 24 24 0 24z' transform='translate(-348 -152) translate(332 136) translate(16 16)'/%3E%3Cpath fill='rgba(255,255,255, 1)' fill-rule='nonzero' d='M16.41 5.791L14.619 4 7 11.619 14.619 19.239 16.41 17.448 10.594 11.619z' transform='translate(-348 -152) translate(332 136) translate(16 16)'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E%0A\")}.proton-link-header{font-family:\"Circular Std Book\", sans-serif;font-size:16px;line-height:24px}.proton-link-close{width:16px;height:16px;position:absolute;right:16px;background-image:url(\"data:image/svg+xml,%3Csvg width='12' height='12' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M9.66 10.987L6 7.327l-3.66 3.66A1.035 1.035 0 11.876 9.523l3.66-3.66-3.66-3.66A1.035 1.035 0 012.34.737L6 4.398 9.66.739a1.035 1.035 0 111.464 1.464l-3.66 3.66 3.66 3.661a1.035 1.035 0 11-1.464 1.464z' fill='rgba(255,255,255, 0.8)' fill-rule='nonzero'/%3E%3C/svg%3E\");background-size:14px;background-repeat:no-repeat;background-position:50%;border-radius:100%;cursor:pointer}.proton-link-close:hover{background-image:url(\"data:image/svg+xml,%3Csvg width='12' height='12' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M9.66 10.987L6 7.327l-3.66 3.66A1.035 1.035 0 11.876 9.523l3.66-3.66-3.66-3.66A1.035 1.035 0 012.34.737L6 4.398 9.66.739a1.035 1.035 0 111.464 1.464l-3.66 3.66 3.66 3.661a1.035 1.035 0 11-1.464 1.464z' fill='rgba(255,255,255,1)' fill-rule='nonzero'/%3E%3C/svg%3E\")}.proton-link-logo{width:100%;height:50px;background-size:165px;background-repeat:no-repeat;background-position:50%;margin-bottom:20px}.proton-link-logo.loading{border-radius:100%;background-image:url(\"data:image/svg+xml,%3Csvg viewBox='0.5 0.5 45 45' xmlns='http://www.w3.org/2000/svg' stroke='%23fff'%3E%3Cg fill='none' fill-rule='evenodd' transform='translate(1 1)' stroke-width='2'%3E%3Ccircle cx='22' cy='22' r='6' stroke-opacity='0'%3E%3Canimate attributeName='r' begin='1.5s' dur='3s' values='6;22' calcMode='linear' repeatCount='indefinite' /%3E%3Canimate attributeName='stroke-opacity' begin='1.5s' dur='3s' values='1;0' calcMode='linear' repeatCount='indefinite' /%3E%3Canimate attributeName='stroke-width' begin='1.5s' dur='3s' values='2;0' calcMode='linear' repeatCount='indefinite' /%3E%3C/circle%3E%3Ccircle cx='22' cy='22' r='6' stroke-opacity='0'%3E%3Canimate attributeName='r' begin='3s' dur='3s' values='6;22' calcMode='linear' repeatCount='indefinite' /%3E%3Canimate attributeName='stroke-opacity' begin='3s' dur='3s' values='1;0' calcMode='linear' repeatCount='indefinite' /%3E%3Canimate attributeName='stroke-width' begin='3s' dur='3s' values='2;0' calcMode='linear' repeatCount='indefinite' /%3E%3C/circle%3E%3Ccircle cx='22' cy='22' r='8'%3E%3Canimate attributeName='r' begin='0s' dur='1.5s' values='6;1;2;3;4;5;6' calcMode='linear' repeatCount='indefinite' /%3E%3C/circle%3E%3C/g%3E%3C/svg%3E\");width:104px;height:104px;margin:35px auto 35px;background-size:initial}.proton-link-logo.error{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='38' viewBox='0 0 12 38'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23F94E6C' fill-rule='nonzero'%3E%3Cg%3E%3Cpath d='M11.227 35.73c0 .385-.131.708-.392.97-.26.261-.57.391-.929.391H1.981c-.358 0-.667-.13-.929-.392-.261-.261-.392-.584-.392-.97v-7.842c0-.385.131-.708.392-.97.262-.261.57-.391.929-.391h7.925c.358 0 .668.13.929.392.26.26.392.584.392.969v7.843zM11.145 20.293c-.028.275-.173.501-.434.68-.261.18-.585.268-.97.268H2.104c-.385 0-.715-.09-.99-.268-.276-.18-.413-.405-.413-.681L0 1.428C0 1.043.137.754.412.562.77.259 1.1.108 1.403.108h9.081c.303 0 .633.15.991.454.275.192.412.454.412.784l-.742 18.947z' transform='translate(-506 -305) translate(506 305)'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E%0A\");width:104px;height:104px;margin:60px auto 35px;border-radius:100%;background-color:white;background-size:initial}.proton-link-logo.success{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='35' height='26' viewBox='0 0 35 26'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%2312C9A0' fill-rule='nonzero'%3E%3Cpath d='M528.59 316.077c0 .548-.22 1.095-.614 1.489l-18.821 18.821c-.394.394-.941.613-1.488.613s-1.095-.219-1.489-.613l-10.899-10.899c-.393-.394-.612-.94-.612-1.488 0-.547.219-1.094.612-1.488l2.977-2.977c.394-.394.941-.612 1.488-.612s1.094.218 1.488.612l6.435 6.457 14.357-14.38c.394-.393.94-.612 1.488-.612.547 0 1.094.219 1.488.613l2.976 2.976c.394.394.613.941.613 1.488z' transform='translate(-494 -311)'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E%0A\");width:104px;height:104px;margin:60px auto 35px;border-radius:100%;background-color:white;background-size:initial}.proton-link-info{text-align:center}.proton-link-title{font-size:28px;line-height:40px;display:block}.proton-link-request{display:flex;flex-direction:column;padding:20px 55px 40px 55px;border-radius:20px;border-top-left-radius:0;border-top-right-radius:0}.proton-link-hr{margin-top:30px;margin-bottom:10px}.proton-link-footnote{font-family:\"Circular Std Book\", sans-serif;font-size:16px;text-align:center;width:100%;position:absolute;bottom:-30px;left:0;color:white}.proton-link-footnote a{color:white;text-decoration:underline}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,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 */")}function hi(t){let e,i,n;const r={c:function(){e=Jt("div"),Ae(e,"class","proton-link-back"),xt(e,ci,40,16,1131)},m:function(r,s){_e(r,e,s),i||(n=De(e,"click",t[9],!1,!1,!1),i=!0)},p:bt,d:function(t){t&&Ne(e),i=!1,n()}};return Le("SvelteRegisterBlock",{block:r,id:hi.name,type:"if",source:"(40:12) {#if showBackButton}",ctx:t}),r}function ui(t){let e,i;const n={c:function(){e=Jt("span"),i=jt(t[3]),Ae(e,"class","proton-link-subtitle"),xt(e,ci,47,16,1421)},m:function(t,n){_e(t,e,n),ke(e,i)},p:function(t,e){8&e&&Me(i,t[3])},d:function(t){t&&Ne(e)}};return Le("SvelteRegisterBlock",{block:n,id:ui.name,type:"if",source:"(47:12) {#if subtitle}",ctx:t}),n}function di(t){let e,i;const n=[t[5]];let r={};for(let o=0;o<n.length;o+=1)r=Ft(r,n[o]);e=new ai({props:r,$$inline:!0});const s={c:function(){Ue(e.$$.fragment)},m:function(t,n){ve(e,t,n),i=!0},p:function(t,i){const r=32&i?Ee(n,[we(t[5])]):{};e.$set(r)},i:function(t){i||(Be(e.$$.fragment,t),i=!0)},o:function(t){ye(e.$$.fragment,t),i=!1},d:function(t){be(e,t)}};return Le("SvelteRegisterBlock",{block:s,id:di.name,type:"if",source:"(51:12) {#if qrData}",ctx:t}),s}function pi(t){let e,i,n;i=new ii({props:{countDown:t[4]},$$inline:!0});const r={c:function(){e=Jt("div"),Ue(i.$$.fragment),Ae(e,"class","proton-link-info"),xt(e,ci,55,16,1620)},m:function(t,r){_e(t,e,r),ve(i,e,null),n=!0},p:function(t,e){const n={};16&e&&(n.countDown=t[4]),i.$set(n)},i:function(t){n||(Be(i.$$.fragment,t),n=!0)},o:function(t){ye(i.$$.fragment,t),n=!1},d:function(t){t&&Ne(e),be(i)}};return Le("SvelteRegisterBlock",{block:r,id:pi.name,type:"if",source:"(55:12) {#if countDown}",ctx:t}),r}function fi(t){let e,i,n,r,s,o,a=t[6].text+"";const c={c:function(){e=Jt("hr"),i=$t(),n=Jt("button"),r=jt(a),Ae(e,"class","proton-link-hr"),xt(e,ci,61,16,1780),Ae(n,"class","proton-link-button"),xt(n,ci,62,16,1826)},m:function(a,c){_e(a,e,c),_e(a,i,c),_e(a,n,c),ke(n,r),s||(o=De(n,"click",t[11],!1,!1,!1),s=!0)},p:function(t,e){64&e&&a!==(a=t[6].text+"")&&Me(r,a)},d:function(t){t&&Ne(e),t&&Ne(i),t&&Ne(n),s=!1,o()}};return Le("SvelteRegisterBlock",{block:c,id:fi.name,type:"if",source:"(61:12) {#if action}",ctx:t}),c}function gi(t){let e,i,n,r;const s={c:function(){e=Jt("div"),i=jt("Don't have a wallet? "),n=Jt("a"),r=jt("Download it here"),Ae(n,"href",t[7]),Ae(n,"target","_blank"),Ae(n,"rel","noreferrer"),xt(n,ci,67,41,2046),Ae(e,"class","proton-link-footnote"),xt(e,ci,66,16,1970)},m:function(t,s){_e(t,e,s),ke(e,i),ke(e,n),ke(n,r)},p:function(t,e){128&e&&Ae(n,"href",t[7])},d:function(t){t&&Ne(e)}};return Le("SvelteRegisterBlock",{block:s,id:gi.name,type:"if",source:"(66:12) {#if footnoteLink}",ctx:t}),s}function mi(t){let e,i,n,r,s,o,a,c,l,h,u,d,p,f,g,m,Q,B,y=t[1]&&hi(t),E=t[3]&&ui(t),w=t[5]&&di(t),U=t[4]&&pi(t),v=t[6]&&fi(t),b=t[7]&&gi(t);const F={c:function(){e=Jt("div"),i=Jt("div"),n=Jt("div"),y&&y.c(),r=$t(),s=Jt("span"),o=jt(t[2]),a=$t(),c=Jt("div"),l=$t(),h=Jt("div"),E&&E.c(),u=$t(),w&&w.c(),d=$t(),U&&U.c(),p=$t(),v&&v.c(),f=$t(),b&&b.c(),Ae(s,"class","proton-link-header"),xt(s,ci,42,12,1210),Ae(c,"class","proton-link-close"),xt(c,ci,43,12,1270),Ae(n,"class","proton-link-nav"),xt(n,ci,38,8,1052),Ae(h,"class","proton-link-request"),xt(h,ci,45,8,1344),Ae(i,"class","proton-link-inner"),xt(i,ci,37,4,1012),Ae(e,"class",g="proton-link"+t[8]),Gt(e,"is-active",t[0]),xt(e,ci,32,0,891)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(g,F){_e(g,e,F),ke(e,i),ke(i,n),y&&y.m(n,null),ke(n,r),ke(n,s),ke(s,o),ke(n,a),ke(n,c),ke(i,l),ke(i,h),E&&E.m(h,null),ke(h,u),w&&w.m(h,null),ke(h,d),U&&U.m(h,null),ke(h,p),v&&v.m(h,null),ke(h,f),b&&b.m(h,null),m=!0,Q||(B=[De(c,"click",t[10],!1,!1,!1),De(e,"click",Kt(Zt(t[10])),!1,!1,!0)],Q=!0)},p:function(t,[i]){t[1]?y?y.p(t,i):(y=hi(t),y.c(),y.m(n,r)):y&&(y.d(1),y=null),(!m||4&i)&&Me(o,t[2]),t[3]?E?E.p(t,i):(E=ui(t),E.c(),E.m(h,u)):E&&(E.d(1),E=null),t[5]?w?(w.p(t,i),32&i&&Be(w,1)):(w=di(t),w.c(),Be(w,1),w.m(h,d)):w&&(me(),ye(w,1,1,(()=>{w=null})),Qe()),t[4]?U?(U.p(t,i),16&i&&Be(U,1)):(U=pi(t),U.c(),Be(U,1),U.m(h,p)):U&&(me(),ye(U,1,1,(()=>{U=null})),Qe()),t[6]?v?v.p(t,i):(v=fi(t),v.c(),v.m(h,f)):v&&(v.d(1),v=null),t[7]?b?b.p(t,i):(b=gi(t),b.c(),b.m(h,null)):b&&(b.d(1),b=null),(!m||256&i&&g!==(g="proton-link"+t[8]))&&Ae(e,"class",g),257&i&&Gt(e,"is-active",t[0])},i:function(t){m||(Be(w),Be(U),m=!0)},o:function(t){ye(w),ye(U),m=!1},d:function(t){t&&Ne(e),y&&y.d(),E&&E.d(),w&&w.d(),U&&U.d(),v&&v.d(),b&&b.d(),Q=!1,kt(B)}};return Le("SvelteRegisterBlock",{block:F,id:mi.name,type:"component",source:"",ctx:t}),F}function Qi(t,e,i){let n,r,{$$slots:s={},$$scope:o}=e;Ce("Dialog",s,[]);const a=ee();let{show:c=!1}=e,{showBackButton:l=!1}=e,{walletType:h="proton"}=e,{title:u=""}=e,{subtitle:d=null}=e,{showFootnote:p=!1}=e,{countDown:f=null}=e,{qrData:g=null}=e,{action:m=null}=e;function Q(){a("back"),B()}function B(){i(0,c=!1),a("close")}function y(){m&&m.callback&&m.callback()}const E=["show","showBackButton","walletType","title","subtitle","showFootnote","countDown","qrData","action"];return Object.keys(e).forEach((t=>{~E.indexOf(t)||"$$"===t.slice(0,2)||"slot"===t||Ut.warn(`<Dialog> was created with unknown prop '${t}'`)})),t.$$set=t=>{"show"in t&&i(0,c=t.show),"showBackButton"in t&&i(1,l=t.showBackButton),"walletType"in t&&i(12,h=t.walletType),"title"in t&&i(2,u=t.title),"subtitle"in t&&i(3,d=t.subtitle),"showFootnote"in t&&i(13,p=t.showFootnote),"countDown"in t&&i(4,f=t.countDown),"qrData"in t&&i(5,g=t.qrData),"action"in t&&i(6,m=t.action)},t.$capture_state=()=>({createEventDispatcher:ee,getFootnoteLink:Ge,CountDown:ii,QrCode:ai,dispatch:a,show:c,showBackButton:l,walletType:h,title:u,subtitle:d,showFootnote:p,countDown:f,qrData:g,action:m,back:Q,close:B,doAction:y,footnoteLink:r,walletTypeClass:n}),t.$inject_state=t=>{"show"in t&&i(0,c=t.show),"showBackButton"in t&&i(1,l=t.showBackButton),"walletType"in t&&i(12,h=t.walletType),"title"in t&&i(2,u=t.title),"subtitle"in t&&i(3,d=t.subtitle),"showFootnote"in t&&i(13,p=t.showFootnote),"countDown"in t&&i(4,f=t.countDown),"qrData"in t&&i(5,g=t.qrData),"action"in t&&i(6,m=t.action),"footnoteLink"in t&&i(7,r=t.footnoteLink),"walletTypeClass"in t&&i(8,n=t.walletTypeClass)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{4096&t.$$.dirty&&i(8,n=` proton-link--${h}`),12288&t.$$.dirty&&i(7,r=p?Ge(h):"")},[c,l,u,d,f,g,m,r,n,Q,B,y,h,p]}class Bi extends ze{constructor(t){super(t),xe(this,t,Qi,mi,Nt,{show:0,showBackButton:1,walletType:12,title:2,subtitle:3,showFootnote:13,countDown:4,qrData:5,action:6},li),Le("SvelteRegisterComponent",{component:this,tagName:"Dialog",options:t,id:mi.name})}get show(){throw new Error("<Dialog>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set show(t){throw new Error("<Dialog>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get showBackButton(){throw new Error("<Dialog>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set showBackButton(t){throw new Error("<Dialog>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get walletType(){throw new Error("<Dialog>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set walletType(t){throw new Error("<Dialog>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get title(){throw new Error("<Dialog>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set title(t){throw new Error("<Dialog>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get subtitle(){throw new Error("<Dialog>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set subtitle(t){throw new Error("<Dialog>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get showFootnote(){throw new Error("<Dialog>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set showFootnote(t){throw new Error("<Dialog>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get countDown(){throw new Error("<Dialog>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set countDown(t){throw new Error("<Dialog>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get qrData(){throw new Error("<Dialog>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set qrData(t){throw new Error("<Dialog>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get action(){throw new Error("<Dialog>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set action(t){throw new Error("<Dialog>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}class yi{constructor(t){this.keyPrefix=t}write(t,e){return vt(this,void 0,void 0,(function*(){localStorage.setItem(this.storageKey(t),e)}))}read(t){return vt(this,void 0,void 0,(function*(){return localStorage.getItem(this.storageKey(t))}))}remove(t){return vt(this,void 0,void 0,(function*(){localStorage.removeItem(this.storageKey(t))}))}storageKey(t){return`${this.keyPrefix}-${t}`}}const Ei=Symbol();var wi={L:1,M:0,Q:3,H:2},Ui={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8};class vi{constructor(t){this.mode=Ui.MODE_8BIT_BYTE,this.data=t}getLength(){return this.data.length}write(t){for(let e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}}class bi{constructor(){this.buffer=[],this.length=0}get(t){const e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)}put(t,e){for(let i=0;i<e;i++)this.putBit(1==(t>>>e-i-1&1))}getLengthInBits(){return this.length}putBit(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}}const Fi={glog:function(t){if(t<1)throw new Error("glog("+t+")");return Fi.LOG_TABLE[t]},gexp:function(t){while(t<0)t+=255;while(t>=256)t-=255;return Fi.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(let Nr=0;Nr<8;Nr++)Fi.EXP_TABLE[Nr]=1<<Nr;for(let Nr=8;Nr<256;Nr++)Fi.EXP_TABLE[Nr]=Fi.EXP_TABLE[Nr-4]^Fi.EXP_TABLE[Nr-5]^Fi.EXP_TABLE[Nr-6]^Fi.EXP_TABLE[Nr-8];for(let Nr=0;Nr<255;Nr++)Fi.LOG_TABLE[Fi.EXP_TABLE[Nr]]=Nr;class xi{constructor(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);let i=0;while(i<t.length&&0==t[i])i++;this.num=new Array(t.length-i+e);for(let n=0;n<t.length-i;n++)this.num[n]=t[n+i]}get(t){return this.num[t]}getLength(){return this.num.length}multiply(t){const e=new Array(this.getLength()+t.getLength()-1);for(let i=0;i<this.getLength();i++)for(let n=0;n<t.getLength();n++)e[i+n]^=Fi.gexp(Fi.glog(this.get(i))+Fi.glog(t.get(n)));return new xi(e,0)}mod(t){if(this.getLength()-t.getLength()<0)return this;const e=Fi.glog(this.get(0))-Fi.glog(t.get(0)),i=new Array(this.getLength());for(let n=0;n<this.getLength();n++)i[n]=this.get(n);for(let n=0;n<t.getLength();n++)i[n]^=Fi.gexp(Fi.glog(t.get(n))+e);return new xi(i,0).mod(t)}}class Si{constructor(t,e){this.totalCount=t,this.dataCount=e}static getRSBlocks(t,e){const i=Si.getRsBlockTable(t,e);if(void 0==i)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);const n=i.length/3,r=[];for(let s=0;s<n;s++){const t=i[3*s+0],e=i[3*s+1],n=i[3*s+2];for(let i=0;i<t;i++)r.push(new Si(e,n))}return r}static getRsBlockTable(t,e){switch(e){case wi.L:return Si.RS_BLOCK_TABLE[4*(t-1)+0];case wi.M:return Si.RS_BLOCK_TABLE[4*(t-1)+1];case wi.Q:return Si.RS_BLOCK_TABLE[4*(t-1)+2];case wi.H:return Si.RS_BLOCK_TABLE[4*(t-1)+3];default:return}}}Si.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];const Li={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},ki={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){let e=t<<10;while(ki.getBCHDigit(e)-ki.getBCHDigit(ki.G15)>=0)e^=ki.G15<<ki.getBCHDigit(e)-ki.getBCHDigit(ki.G15);return(t<<10|e)^ki.G15_MASK},getBCHTypeNumber:function(t){let e=t<<12;while(ki.getBCHDigit(e)-ki.getBCHDigit(ki.G18)>=0)e^=ki.G18<<ki.getBCHDigit(e)-ki.getBCHDigit(ki.G18);return t<<12|e},getBCHDigit:function(t){let e=0;while(0!=t)e++,t>>>=1;return e},getPatternPosition:function(t){return ki.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,i){switch(t){case Li.PATTERN000:return(e+i)%2==0;case Li.PATTERN001:return e%2==0;case Li.PATTERN010:return i%3==0;case Li.PATTERN011:return(e+i)%3==0;case Li.PATTERN100:return(Math.floor(e/2)+Math.floor(i/3))%2==0;case Li.PATTERN101:return e*i%2+e*i%3==0;case Li.PATTERN110:return(e*i%2+e*i%3)%2==0;case Li.PATTERN111:return(e*i%3+(e+i)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){let e=new xi([1],0);for(let i=0;i<t;i++)e=e.multiply(new xi([1,Fi.gexp(i)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case Ui.MODE_NUMBER:return 10;case Ui.MODE_ALPHA_NUM:return 9;case Ui.MODE_8BIT_BYTE:return 8;case Ui.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case Ui.MODE_NUMBER:return 12;case Ui.MODE_ALPHA_NUM:return 11;case Ui.MODE_8BIT_BYTE:return 16;case Ui.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case Ui.MODE_NUMBER:return 14;case Ui.MODE_ALPHA_NUM:return 13;case Ui.MODE_8BIT_BYTE:return 16;case Ui.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){const e=t.getModuleCount();let i=0;for(let s=0;s<e;s++)for(let n=0;n<e;n++){let r=0;const o=t.isDark(s,n);for(let i=-1;i<=1;i++)if(!(s+i<0||e<=s+i))for(let a=-1;a<=1;a++)n+a<0||e<=n+a||0==i&&0==a||o==t.isDark(s+i,n+a)&&r++;r>5&&(i+=3+r-5)}for(let s=0;s<e-1;s++)for(let n=0;n<e-1;n++){let e=0;t.isDark(s,n)&&e++,t.isDark(s+1,n)&&e++,t.isDark(s,n+1)&&e++,t.isDark(s+1,n+1)&&e++,0!=e&&4!=e||(i+=3)}for(let s=0;s<e;s++)for(let n=0;n<e-6;n++)t.isDark(s,n)&&!t.isDark(s,n+1)&&t.isDark(s,n+2)&&t.isDark(s,n+3)&&t.isDark(s,n+4)&&!t.isDark(s,n+5)&&t.isDark(s,n+6)&&(i+=40);for(let s=0;s<e;s++)for(let n=0;n<e-6;n++)t.isDark(n,s)&&!t.isDark(n+1,s)&&t.isDark(n+2,s)&&t.isDark(n+3,s)&&t.isDark(n+4,s)&&!t.isDark(n+5,s)&&t.isDark(n+6,s)&&(i+=40);let n=0;for(let s=0;s<e;s++)for(let i=0;i<e;i++)t.isDark(i,s)&&n++;const r=Math.abs(100*n/e/e-50)/5;return i+=10*r,i}};class _i{constructor(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}addData(t){const e=new vi(t);this.dataList.push(e),this.dataCache=null}isDark(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]}getModuleCount(){return this.moduleCount}make(){if(this.typeNumber<1){let t=1;for(t=1;t<40;t++){const e=Si.getRSBlocks(t,this.errorCorrectLevel),i=new bi;let n=0;for(let t=0;t<e.length;t++)n+=e[t].dataCount;for(let r=0;r<this.dataList.length;r++){const e=this.dataList[r];i.put(e.mode,4),i.put(e.getLength(),ki.getLengthInBits(e.mode,t)),e.write(i)}if(i.getLengthInBits()<=8*n)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())}makeImpl(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(let i=0;i<this.moduleCount;i++){this.modules[i]=new Array(this.moduleCount);for(let t=0;t<this.moduleCount;t++)this.modules[i][t]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=_i.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)}setupPositionProbePattern(t,e){for(let i=-1;i<=7;i++)if(!(t+i<=-1||this.moduleCount<=t+i))for(let n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(this.modules[t+i][e+n]=0<=i&&i<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==i||6==i)||2<=i&&i<=4&&2<=n&&n<=4)}getBestMaskPattern(){let t=0,e=0;for(let i=0;i<8;i++){this.makeImpl(!0,i);const n=ki.getLostPoint(this);(0==i||t>n)&&(t=n,e=i)}return e}setupTimingPattern(){for(let t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(let t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)}setupPositionAdjustPattern(){const t=ki.getPatternPosition(this.typeNumber);for(let e=0;e<t.length;e++)for(let i=0;i<t.length;i++){const n=t[e],r=t[i];if(null==this.modules[n][r])for(let t=-2;t<=2;t++)for(let e=-2;e<=2;e++)this.modules[n+t][r+e]=-2==t||2==t||-2==e||2==e||0==t&&0==e}}setupTypeNumber(t){const e=ki.getBCHTypeNumber(this.typeNumber);for(let i=0;i<18;i++){const n=!t&&1==(e>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=n}for(let i=0;i<18;i++){const n=!t&&1==(e>>i&1);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=n}}setupTypeInfo(t,e){const i=this.errorCorrectLevel<<3|e,n=ki.getBCHTypeInfo(i);for(let r=0;r<15;r++){const e=!t&&1==(n>>r&1);r<6?this.modules[r][8]=e:r<8?this.modules[r+1][8]=e:this.modules[this.moduleCount-15+r][8]=e}for(let r=0;r<15;r++){const e=!t&&1==(n>>r&1);r<8?this.modules[8][this.moduleCount-r-1]=e:r<9?this.modules[8][15-r-1+1]=e:this.modules[8][15-r-1]=e}this.modules[this.moduleCount-8][8]=!t}mapData(t,e){let i=-1,n=this.moduleCount-1,r=7,s=0;for(let o=this.moduleCount-1;o>0;o-=2)for(6==o&&o--;;){for(let i=0;i<2;i++)if(null==this.modules[n][o-i]){let a=!1;s<t.length&&(a=1==(t[s]>>>r&1));const c=ki.getMask(e,n,o-i);c&&(a=!a),this.modules[n][o-i]=a,r--,-1==r&&(s++,r=7)}if(n+=i,n<0||this.moduleCount<=n){n-=i,i=-i;break}}}static createData(t,e,i){const n=Si.getRSBlocks(t,e),r=new bi;for(let o=0;o<i.length;o++){const e=i[o];r.put(e.mode,4),r.put(e.getLength(),ki.getLengthInBits(e.mode,t)),e.write(r)}let s=0;for(let o=0;o<n.length;o++)s+=n[o].dataCount;if(r.getLengthInBits()>8*s)throw new Error("code length overflow. ("+r.getLengthInBits()+">"+8*s+")");r.getLengthInBits()+4<=8*s&&r.put(0,4);while(r.getLengthInBits()%8!=0)r.putBit(!1);for(;;){if(r.getLengthInBits()>=8*s)break;if(r.put(_i.PAD0,8),r.getLengthInBits()>=8*s)break;r.put(_i.PAD1,8)}return _i.createBytes(r,n)}static createBytes(t,e){let i=0,n=0,r=0;const s=new Array(e.length),o=new Array(e.length);for(let h=0;h<e.length;h++){const a=e[h].dataCount,c=e[h].totalCount-a;n=Math.max(n,a),r=Math.max(r,c),s[h]=new Array(a);for(let e=0;e<s[h].length;e++)s[h][e]=255&t.buffer[e+i];i+=a;const l=ki.getErrorCorrectPolynomial(c),u=new xi(s[h],l.getLength()-1),d=u.mod(l);o[h]=new Array(l.getLength()-1);for(let t=0;t<o[h].length;t++){const e=t+d.getLength()-o[h].length;o[h][t]=e>=0?d.get(e):0}}let a=0;for(let h=0;h<e.length;h++)a+=e[h].totalCount;const c=new Array(a);let l=0;for(let h=0;h<n;h++)for(let t=0;t<e.length;t++)h<s[t].length&&(c[l++]=s[t][h]);for(let h=0;h<r;h++)for(let t=0;t<e.length;t++)h<o[t].length&&(c[l++]=o[t][h]);return c}}function Ni(t,e="L",i=-1){const n=new _i(i,wi[e]),r=[];n.addData(t),n.make();const s=n.modules,o=s.length;for(const[c,l]of s.entries()){let t;for(const[e,i]of l.entries())i?(t||(t={x:e,y:c,width:0,height:1}),t.width++):(t&&t.width>0&&r.push(t),t=void 0);t&&t.width>0&&r.push(t)}const a=[`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${o} ${o}">`];for(const{x:c,y:l,width:h,height:u}of r)a.push(`<rect x="${c}" y="${l}" width="${h}" height="${u}" />`);return a.push("</svg>"),"data:image/svg+xml;base64,"+btoa(a.join(""))}_i.PAD0=236,_i.PAD1=17;class Di{constructor(t={}){this.options=t,this.requestStatus=!(!1===t.requestStatus),this.requestAccount=t.requestAccount||"",this.walletType=t.walletType||"proton",this.storage=new yi(t.storagePrefix||"proton-link"),this.showingManual=!1}closeModal(){this.hide(),this.activeCancel&&(this.activeRequest=void 0,this.activeCancel(""),this.activeCancel=void 0)}setupWidget(){if(this.showingManual=!1,!this.Widget){const t=document.createElement("div");document.body.appendChild(t),this.Widget=new Bi({target:t}),this.Widget.$on("back",(()=>document.dispatchEvent(new CustomEvent("backToSelector")))),this.Widget.$on("close",(()=>this.closeModal()))}}hide(){this.Widget&&this.Widget.$set({show:!1,title:"",subtitle:null,showFootnote:!1,countDown:null,qrData:null,action:null}),this.clearTimers()}show(){this.Widget&&this.Widget.$set({show:!0})}showDialog(t){this.setupWidget();const e={showBackButton:!t.hideBackButton,walletType:this.walletType,title:t.title||"",subtitle:t.subtitle||"",action:t.action||null,showFootnote:t.showFootnote,countDown:t.content&&t.content.countDown||null,qrData:t.content&&t.content.qrData||null};this.Widget&&this.Widget.$set(Object.assign({},e)),this.show()}displayRequest(t,e,i="",n=!1){const r=t.clone(),s=Ke();r.setInfoKey("same_device",!0),r.setInfoKey("return_path",s),this.requestAccount.length>0&&(t.setInfoKey("req_account",this.requestAccount),r.setInfoKey("req_account",this.requestAccount));const o=r.encode(!0,!1),a=t.encode(!0,!1),c=Ni(a),l={code:c,link:o};this.showDialog({title:e,showFootnote:t.isIdentity(),subtitle:i,hideBackButton:n,content:{qrData:l}})}showLoading(){return vt(this,void 0,void 0,(function*(){this.showDialog({title:"Pending...",subtitle:"Preparing request...",hideBackButton:!0,type:"loading"})}))}onRequest(t,e){this.clearTimers(),this.activeRequest=t,this.activeCancel=e;try{this.displayRequest(t,"Scan the QR-Code")}catch(i){e(i)}}onSessionRequest(t,e,i){if(t.metadata.sameDevice&&e.setInfoKey("return_path",Ke()),"fallback"===t.type)return this.onRequest(e,i),void(t.metadata.sameDevice&&(window.location.href=e.encode()));this.activeRequest=e,this.activeCancel=i;const n=t.metadata.name;this.clearTimers();const r=t.metadata.timeout||12e4,s=Date.now(),o=t=>{const e=Math.floor((r+t-Date.now())/1e3),i=String(e%60).padStart(2,"0"),n=String(Math.floor(e/60)).padStart(2,"0");return e>0?`${n}:${i}`:"00:00"},a=t=>this.Widget&&this.Widget.$set({countDown:o(t)});this.countdownTimer=setInterval((()=>a(s)),1e3),a(s),this.showDialog({title:"Signing Request",subtitle:`Please open ${n||"linked wallet"} to review the transaction`,content:{countDown:o(s)},hideBackButton:!0,action:{text:"Optional: Sign manually using QR code",callback:()=>{this.clearTimers();const e=new tt("Manual","E_TIMEOUT",t);e[Ei]=!0,i(e)}}}),t.metadata.sameDevice&&Ze()&&(window.location.href=`${e.getScheme()}://link`)}sendSessionPayload(t,e){return!(!e.metadata.triggerUrl||!e.metadata.sameDevice)&&(!(t.array.length>700)&&(window.location.href=e.metadata.triggerUrl.replace("%s",d.encode(t.array)),!0))}clearTimers(){this.closeTimer&&(clearTimeout(this.closeTimer),this.closeTimer=void 0),this.clearCountdown()}clearCountdown(){this.countdownTimer&&(this.Widget&&this.Widget.$set({countDown:void 0}),clearInterval(this.countdownTimer),this.countdownTimer=void 0)}showRecovery(t,e){if(t.data.info=t.data.info.filter((t=>"return_path"!==t.key)),"channel"===e.type){const i=e;i.addLinkInfo&&i.addLinkInfo(t)}this.displayRequest(t,"Sign manually","",!0),this.showingManual=!0}prepare(t,e){return vt(this,void 0,void 0,(function*(){return t}))}recoverError(t,e){if(e!==this.activeRequest||"E_DELIVERY"!==t["code"]&&"E_TIMEOUT"!==t["code"]||!t["session"])return!1;if(this.showingManual)return!0;const i=t["session"];return t[Ei]?(this.showRecovery(e,i),!0):(this.clearCountdown(),this.showDialog({title:"Unable to reach device",subtitle:t.message||`Unable to deliver the request to ${i.metadata.name||"the linked wallet"}.`,type:"warning",action:{text:"Optional: Sign manually using QR code",callback:()=>this.showRecovery(e,i)}}),!0)}onSuccess(t){t===this.activeRequest&&(this.clearTimers(),this.hide())}onFailure(t,e){t===this.activeRequest&&"E_CANCEL"!==e["code"]?(this.clearTimers(),this.requestStatus?this.showDialog({title:"Transaction Error",subtitle:We(e),hideBackButton:!0,type:"error"}):this.hide()):this.hide()}userAgent(){return`BrowserTransport/${Di.version} ${navigator.userAgent}`}}Di.version="4.2.15";var Ai=i(40019);
/**
 * Proton Web SDK v4.2.15
 * undefined
 *
 * @license
 * MIT License
 * 
 * Copyright (c) 2020-2023 Metallicus
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */function Mi(t,e,i,n){function r(t){return t instanceof i?t:new i((function(e){e(t)}))}return new(i||(i=Promise))((function(i,s){function o(t){try{c(n.next(t))}catch(e){s(e)}}function a(t){try{c(n["throw"](t))}catch(e){s(e)}}function c(t){t.done?i(t.value):r(t.value).then(o,a)}c((n=n.apply(t,e||[])).next())}))}const Ci=new Map([["modalBackgroundColor","proton-wallet-modal-bgcolor"],["logoBackgroundColor","proton-wallet-color-bglogo"],["optionBackgroundColor","proton-wallet-option-bg"],["optionFontColor","proton-wallet-option-font"],["primaryFontColor","proton-wallet-color-font-primary"],["secondaryFontColor","proton-wallet-color-font-secondary"],["linkColor","proton-wallet-color-link"]]);function zi(){}function Ri(t,e,i,n,r){t.__svelte_meta={loc:{file:e,line:i,column:n,char:r}}}function Ii(t){return t()}function Ti(){return Object.create(null)}function Pi(t){t.forEach(Ii)}function Oi(t){return"function"===typeof t}function Ji(t,e){return t!=t?e==e:t!==e||t&&"object"===typeof t||"function"===typeof t}let ji,$i;function Vi(t,e){return ji||(ji=document.createElement("a")),ji.href=e,t===ji.href}function qi(t){return 0===Object.keys(t).length}function Zi(t,e){t.appendChild(e)}function Ki(t,e,i){const n=Wi(t);if(!n.getElementById(e)){const t=tn("style");t.id=e,t.textContent=i,Hi(n,t)}}function Wi(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Hi(t,e){return Zi(t.head||t,e),e.sheet}function Gi(t,e,i){t.insertBefore(e,i||null)}function Xi(t){t.parentNode&&t.parentNode.removeChild(t)}function Yi(t,e){for(let i=0;i<t.length;i+=1)t[i]&&t[i].d(e)}function tn(t){return document.createElement(t)}function en(t){return document.createTextNode(t)}function nn(){return en(" ")}function rn(t,e,i,n){return t.addEventListener(e,i,n),()=>t.removeEventListener(e,i,n)}function sn(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function on(t){return function(e){e.target===this&&t.call(this,e)}}function an(t,e,i){null==i?t.removeAttribute(e):t.getAttribute(e)!==i&&t.setAttribute(e,i)}function cn(t){return Array.from(t.childNodes)}function ln(t,e,i){t.classList[i?"add":"remove"](e)}function hn(t,e,{bubbles:i=!1,cancelable:n=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,i,n,e),r}function un(t){$i=t}function dn(){if(!$i)throw new Error("Function called outside component initialization");return $i}function pn(){const t=dn();return(e,i,{cancelable:n=!1}={})=>{const r=t.$$.callbacks[e];if(r){const s=hn(e,i,{cancelable:n});return r.slice().forEach((e=>{e.call(t,s)})),!s.defaultPrevented}return!0}}function fn(t,e){const i=t.$$.callbacks[e.type];i&&i.slice().forEach((t=>t.call(this,e)))}const gn=[],mn=[],Qn=[],Bn=[],yn=Promise.resolve();let En=!1;function wn(){En||(En=!0,yn.then(Fn))}function Un(t){Qn.push(t)}const vn=new Set;let bn=0;function Fn(){if(0!==bn)return;const t=$i;do{try{while(bn<gn.length){const t=gn[bn];bn++,un(t),xn(t.$$)}}catch(e){throw gn.length=0,bn=0,e}un(null),gn.length=0,bn=0;while(mn.length)mn.pop()();for(let t=0;t<Qn.length;t+=1){const e=Qn[t];vn.has(e)||(vn.add(e),e())}Qn.length=0}while(gn.length);while(Bn.length)Bn.pop()();En=!1,vn.clear(),un(t)}function xn(t){if(null!==t.fragment){t.update(),Pi(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Un)}}const Sn=new Set;let Ln;function kn(){Ln={r:0,c:[],p:Ln}}function _n(){Ln.r||Pi(Ln.c),Ln=Ln.p}function Nn(t,e){t&&t.i&&(Sn.delete(t),t.i(e))}function Dn(t,e,i,n){if(t&&t.o){if(Sn.has(t))return;Sn.add(t),Ln.c.push((()=>{Sn.delete(t),n&&(i&&t.d(1),n())})),t.o(e)}else n&&n()}function An(t){t&&t.c()}function Mn(t,e,i,n){const{fragment:r,after_update:s}=t.$$;r&&r.m(e,i),n||Un((()=>{const e=t.$$.on_mount.map(Ii).filter(Oi);t.$$.on_destroy?t.$$.on_destroy.push(...e):Pi(e),t.$$.on_mount=[]})),s.forEach(Un)}function Cn(t,e){const i=t.$$;null!==i.fragment&&(Pi(i.on_destroy),i.fragment&&i.fragment.d(e),i.on_destroy=i.fragment=null,i.ctx=[])}function zn(t,e){-1===t.$$.dirty[0]&&(gn.push(t),wn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Rn(t,e,i,n,r,s,o,a=[-1]){const c=$i;un(t);const l=t.$$={fragment:null,ctx:[],props:s,update:zi,not_equal:r,bound:Ti(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Ti(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};o&&o(l.root);let h=!1;if(l.ctx=i?i(t,e.props||{},((e,i,...n)=>{const s=n.length?n[0]:i;return l.ctx&&r(l.ctx[e],l.ctx[e]=s)&&(!l.skip_bound&&l.bound[e]&&l.bound[e](s),h&&zn(t,e)),i})):[],l.update(),h=!0,Pi(l.before_update),l.fragment=!!n&&n(l.ctx),e.target){if(e.hydrate){const t=cn(e.target);l.fragment&&l.fragment.l(t),t.forEach(Xi)}else l.fragment&&l.fragment.c();e.intro&&Nn(t.$$.fragment),Mn(t,e.target,e.anchor,e.customElement),Fn()}un(c)}class In{$destroy(){Cn(this,1),this.$destroy=zi}$on(t,e){if(!Oi(e))return zi;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(e),()=>{const t=i.indexOf(e);-1!==t&&i.splice(t,1)}}$set(t){this.$$set&&!qi(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Tn(t,e){document.dispatchEvent(hn(t,Object.assign({version:"3.55.1"},e),{bubbles:!0}))}function Pn(t,e){Tn("SvelteDOMInsert",{target:t,node:e}),Zi(t,e)}function On(t,e,i){Tn("SvelteDOMInsert",{target:t,node:e,anchor:i}),Gi(t,e,i)}function Jn(t){Tn("SvelteDOMRemove",{node:t}),Xi(t)}function jn(t,e,i,n,r,s){const o=!0===n?["capture"]:n?Array.from(Object.keys(n)):[];r&&o.push("preventDefault"),s&&o.push("stopPropagation"),Tn("SvelteDOMAddEventListener",{node:t,event:e,handler:i,modifiers:o});const a=rn(t,e,i,n);return()=>{Tn("SvelteDOMRemoveEventListener",{node:t,event:e,handler:i,modifiers:o}),a()}}function $n(t,e,i){an(t,e,i),null==i?Tn("SvelteDOMRemoveAttribute",{node:t,attribute:e}):Tn("SvelteDOMSetAttribute",{node:t,attribute:e,value:i})}function Vn(t,e){e=""+e,t.wholeText!==e&&(Tn("SvelteDOMSetData",{node:t,data:e}),t.data=e)}function qn(t){if("string"!==typeof t&&(!t||"object"!==typeof t||!("length"in t))){let e="{#each} only iterates over array-like objects.";throw"function"===typeof Symbol&&t&&Symbol.iterator in t&&(e+=" You can use a spread to convert this iterable into an array."),new Error(e)}}function Zn(t,e,i){for(const n of Object.keys(e))~i.indexOf(n)||Ai.warn(`<${t}> received an unexpected slot "${n}".`)}class Kn extends In{constructor(t){if(!t||!t.target&&!t.$$inline)throw new Error("'target' is a required option");super()}$destroy(){super.$destroy(),this.$destroy=()=>{Ai.warn("Component was already destroyed")}}$capture_state(){}$inject_state(){}}const Wn="src/views/Header.svelte";function Hn(t){Ki(t,"svelte-m77c1p",'.wallet-selector-connect-header{display:flex;flex-direction:column;align-items:center}.wallet-selector-logo{width:100px;height:100px;background:var(--proton-wallet-color-bglogo, var(--color-logo-bgdefault))}.wallet-selector-logo.is-rounded{width:120px;height:120px;padding:10px;margin-bottom:10px;border:1px solid rgba(161, 165, 176, 0.23);border-radius:50%}.wallet-selector-title{font-size:16px;font-family:"Circular Std Book", sans-serif;line-height:24px;color:var(--proton-wallet-color-font-primary, var(--color-font-primary));text-align:center}.wallet-selector-subtitle{font-size:16px;font-family:"Circular Std Book", sans-serif;line-height:24px;color:var(--proton-wallet-color-font-secondary, var(--color-font-secondary));text-align:center}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSGVhZGVyLnN2ZWx0ZSIsIm1hcHBpbmdzIjoiQUFFSSwrQkFBQSxBQUFBLENBQUEsQUFDRSxPQUFBLENBQUEsSUFBQSxDQUNBLGNBQUEsQ0FBQSxNQUFBLENBQ0EsV0FBQSxDQUFBLE1BQUEsQUNrQk4sQ0FBQSxBRGZJLHFCQUFBLEFBQUEsQ0FBQSxBQUNFLEtBQUEsQ0FBQSxLQUFBLENBQ0EsTUFBQSxDQUFBLEtBQUEsQ0FDQSxVQUFBLENBQUEsSUFBQSw0QkFBQSxDQUFBLDRCQUFBLENBQUEsQUNpQk4sQ0FBQSxBRFpNLGdDQUFBLEFBQUEsQ0FBQSxBQUNFLEtBQUEsQ0FBQSxLQUFBLENBQ0EsTUFBQSxDQUFBLEtBQUEsQ0FDQSxPQUFBLENBQUEsSUFBQSxDQUNBLGFBQUEsQ0FBQSxJQUFBLENBQ0EsTUFBQSxDQUFBLEdBQUEsQ0FBQSxLQUFBLENBQUEsS0FBQSxHQUFBLENBQUEsQ0FBQSxHQUFBLENBQUEsQ0FBQSxHQUFBLENBQUEsQ0FBQSxJQUFBLENBQUEsQ0FDQSxhQUFBLENBQUEsR0FBQSxBQ2NSLENBQUEsQURWSSxzQkFBQSxBQUFBLENBQUEsQUFDRSxTQUFBLENBQUEsSUFBQSxDQUNBLFdBQUEsQ0FBQSxtQkFBQSxDQUFBLENBQUEsVUFBQSxDQUNBLFdBQUEsQ0FBQSxJQUFBLENBQ0EsS0FBQSxDQUFBLElBQUEsa0NBQUEsQ0FBQSwwQkFBQSxDQUFBLENBQ0EsVUFBQSxDQUFBLE1BQUEsQUNZTixDQUFBLEFEVEkseUJBQUEsQUFBQSxDQUFBLEFBQ0UsU0FBQSxDQUFBLElBQUEsQ0FDQSxXQUFBLENBQUEsbUJBQUEsQ0FBQSxDQUFBLFVBQUEsQ0FDQSxXQUFBLENBQUEsSUFBQSxDQUNBLEtBQUEsQ0FBQSxJQUFBLG9DQUFBLENBQUEsNEJBQUEsQ0FBQSxDQUlBLFVBQUEsQ0FBQSxNQUFBLEFDUU4sQ0FjQSIsIm5hbWVzIjpbXSwic291cmNlcyI6WyJmaWxlOi8vL1VzZXJzL2phZnJpL1dvcmsvcHJvdG9uL3Byb3Rvbi13ZWItc2RrL3BhY2thZ2VzL3Byb3Rvbi13ZWItc2RrL3NyYy92aWV3cy9IZWFkZXIuc3ZlbHRlIiwiSGVhZGVyLnN2ZWx0ZSJdfQ== */')}function Gn(t){let e,i;const n={c:function(){e=tn("img"),$n(e,"class","wallet-selector-logo"),Vi(e.src,i=t[1])||$n(e,"src",i),$n(e,"alt","app-logo"),ln(e,"is-rounded",t[0]),Ri(e,Wn,8,4,194)},m:function(t,i){On(t,e,i)},p:function(t,n){2&n&&!Vi(e.src,i=t[1])&&$n(e,"src",i),1&n&&ln(e,"is-rounded",t[0])},d:function(t){t&&Jn(e)}};return Tn("SvelteRegisterBlock",{block:n,id:Gn.name,type:"if",source:"(8:2) {#if logo}",ctx:t}),n}function Xn(t){let e,i;const n={c:function(){e=tn("span"),i=en(t[2]),$n(e,"class","wallet-selector-title"),Ri(e,Wn,14,13,334)},m:function(t,n){On(t,e,n),Pn(e,i)},p:function(t,e){4&e&&Vn(i,t[2])},d:function(t){t&&Jn(e)}};return Tn("SvelteRegisterBlock",{block:n,id:Xn.name,type:"if",source:"(15:2) {#if title}",ctx:t}),n}function Yn(t){let e,i;const n={c:function(){e=tn("span"),i=en(t[3]),$n(e,"class","wallet-selector-subtitle"),Ri(e,Wn,15,16,406)},m:function(t,n){On(t,e,n),Pn(e,i)},p:function(t,e){8&e&&Vn(i,t[3])},d:function(t){t&&Jn(e)}};return Tn("SvelteRegisterBlock",{block:n,id:Yn.name,type:"if",source:"(16:2) {#if subtitle}",ctx:t}),n}function tr(t){let e,i,n,r=t[1]&&Gn(t),s=t[2]&&Xn(t),o=t[3]&&Yn(t);const a={c:function(){e=tn("div"),r&&r.c(),i=nn(),s&&s.c(),n=nn(),o&&o.c(),$n(e,"class","wallet-selector-connect-header"),Ri(e,Wn,6,0,132)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,a){On(t,e,a),r&&r.m(e,null),Pn(e,i),s&&s.m(e,null),Pn(e,n),o&&o.m(e,null)},p:function(t,[a]){t[1]?r?r.p(t,a):(r=Gn(t),r.c(),r.m(e,i)):r&&(r.d(1),r=null),t[2]?s?s.p(t,a):(s=Xn(t),s.c(),s.m(e,n)):s&&(s.d(1),s=null),t[3]?o?o.p(t,a):(o=Yn(t),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i:zi,o:zi,d:function(t){t&&Jn(e),r&&r.d(),s&&s.d(),o&&o.d()}};return Tn("SvelteRegisterBlock",{block:a,id:tr.name,type:"component",source:"",ctx:t}),a}function er(t,e,i){let{$$slots:n={},$$scope:r}=e;Zn("Header",n,[]);let{isLogoRound:s=!1}=e,{logo:o=""}=e,{title:a=""}=e,{subtitle:c=""}=e;const l=["isLogoRound","logo","title","subtitle"];return Object.keys(e).forEach((t=>{~l.indexOf(t)||"$$"===t.slice(0,2)||"slot"===t||Ai.warn(`<Header> was created with unknown prop '${t}'`)})),t.$$set=t=>{"isLogoRound"in t&&i(0,s=t.isLogoRound),"logo"in t&&i(1,o=t.logo),"title"in t&&i(2,a=t.title),"subtitle"in t&&i(3,c=t.subtitle)},t.$capture_state=()=>({isLogoRound:s,logo:o,title:a,subtitle:c}),t.$inject_state=t=>{"isLogoRound"in t&&i(0,s=t.isLogoRound),"logo"in t&&i(1,o=t.logo),"title"in t&&i(2,a=t.title),"subtitle"in t&&i(3,c=t.subtitle)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[s,o,a,c]}class ir extends Kn{constructor(t){super(t),Rn(this,t,er,tr,Ji,{isLogoRound:0,logo:1,title:2,subtitle:3},Hn),Tn("SvelteRegisterComponent",{component:this,tagName:"Header",options:t,id:tr.name})}get isLogoRound(){throw new Error("<Header>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set isLogoRound(t){throw new Error("<Header>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get logo(){throw new Error("<Header>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set logo(t){throw new Error("<Header>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get title(){throw new Error("<Header>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set title(t){throw new Error("<Header>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get subtitle(){throw new Error("<Header>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set subtitle(t){throw new Error("<Header>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const nr="src/views/Footer.svelte";function rr(t){Ki(t,"svelte-6pib6l",'.wallet-selector-footnote{margin-top:5px;display:flex;justify-content:space-between;position:relative;font-family:"Circular Std Book", sans-serif;font-size:16px;text-align:center;color:white !important;height:50px;width:360px}.wallet-selector-footnote a{color:#ffffff !important;width:170px}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRm9vdGVyLnN2ZWx0ZSIsIm1hcHBpbmdzIjoiQUFDRSx5QkFBQSxBQUFBLENBQUEsQUFDRSxVQUFBLENBQUEsR0FBQSxDQUNBLE9BQUEsQ0FBQSxJQUFBLENBQ0EsZUFBQSxDQUFBLGFBQUEsQ0FDQSxRQUFBLENBQUEsUUFBQSxDQUNBLFdBQUEsQ0FBQSxtQkFBQSxDQUFBLENBQUEsVUFBQSxDQUNBLFNBQUEsQ0FBQSxJQUFBLENBQ0EsVUFBQSxDQUFBLE1BQUEsQ0FDQSxLQUFBLENBQUEsS0FBQSxDQUFBLFVBQUEsQ0FFQSxNQUFBLENBQUEsSUFBQSxDQUNBLEtBQUEsQ0FBQSxLQUFBLEFDd0JKLENBQUEsQUR0QkkseUJBQUEsQUFBQSxDQUFBLEFBQUEsQ0FBQSxBQUFBLENBQUEsQUFDRSxLQUFBLENBQUEsT0FBQSxDQUFBLFVBQUEsQ0FDQSxLQUFBLENBQUEsS0FBQSxBQ3dCTixDQUlBIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbImZpbGU6Ly8vVXNlcnMvamFmcmkvV29yay9wcm90b24vcHJvdG9uLXdlYi1zZGsvcGFja2FnZXMvcHJvdG9uLXdlYi1zZGsvc3JjL3ZpZXdzL0Zvb3Rlci5zdmVsdGUiLCJGb290ZXIuc3ZlbHRlIl19 */')}function sr(t){let e,i,n,r,s,o,a,c;const l={c:function(){e=tn("div"),i=tn("a"),n=tn("img"),s=nn(),o=tn("a"),a=tn("img"),$n(n,"alt","Download on the App Store"),Vi(n.src,r="https://proton.org/static/719169dd7ea5089ae32be4dcae845078/DownloadApple.svg")||$n(n,"src",r),Ri(n,nr,7,4,172),$n(i,"href","https://apps.apple.com/us/app/webauth-com/id1594500069"),$n(i,"id","iOS"),$n(i,"target","_blank"),$n(i,"rel","noreferrer"),Ri(i,nr,1,2,41),$n(a,"alt","Get it on Google Play"),Vi(a.src,c="https://proton.org/static/b36e63520d1db11b0ce4989b73866ae0/DownloadGoogleEN.svg")||$n(a,"src",c),Ri(a,nr,18,4,469),$n(o,"href","https://play.google.com/store/apps/details?id=com.metallicus.webauth"),$n(o,"id","Android"),$n(o,"target","_blank"),$n(o,"rel","noreferrer"),Ri(o,nr,12,2,320),$n(e,"class","wallet-selector-footnote"),Ri(e,nr,0,0,0)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,r){On(t,e,r),Pn(e,i),Pn(i,n),Pn(e,s),Pn(e,o),Pn(o,a)},p:zi,i:zi,o:zi,d:function(t){t&&Jn(e)}};return Tn("SvelteRegisterBlock",{block:l,id:sr.name,type:"component",source:"",ctx:t}),l}function or(t,e){let{$$slots:i={},$$scope:n}=e;Zn("Footer",i,[]);const r=[];return Object.keys(e).forEach((t=>{~r.indexOf(t)||"$$"===t.slice(0,2)||"slot"===t||Ai.warn(`<Footer> was created with unknown prop '${t}'`)})),[]}class ar extends Kn{constructor(t){super(t),Rn(this,t,or,sr,Ji,{},rr),Tn("SvelteRegisterComponent",{component:this,tagName:"Footer",options:t,id:sr.name})}}const cr="src/views/Wallet.svelte";function lr(t){Ki(t,"svelte-1fb7dp3",".wallet-selector-wallet{background:var(--proton-wallet-option-bg, var(--color-option-bg));display:flex;align-items:center;padding:20px 20px 20px 16px;border:1px solid rgba(161, 165, 176, 0.23)}.wallet-selector-wallet:hover{cursor:pointer}.wallet-selector-wallet:hover .wallet-selector-right-arrow{background-image:url(\"data:image/svg+xml,%3Csvg aria-hidden='true' focusable='false' data-prefix='fas' data-icon='chevron-right' class='svg-inline--fa fa-chevron-right fa-w-10' role='img' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 320 512'%3E%3Cpath fill='rgba(161, 165, 176, 1)' d='M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z'%3E%3C/path%3E%3C/svg%3E\")}.wallet-selector-wallet+.wallet-selector-wallet{margin-top:8px}.wallet-selector-logo{width:40px;height:40px;background-repeat:no-repeat;background-position:50%;background-size:30px}.wallet-selector-logo--proton{background-image:url(\"data:image/svg+xml,%3Csvg aria-hidden='true' focusable='false' data-prefix='fas' data-icon='mobile-android-alt' style='color: %23752EEB;' role='img' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 320 512'%3E%3Cpath fill='currentColor' d='M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zm-64 452c0 6.6-5.4 12-12 12h-72c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v8zm64-80c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v312z'%3E%3C/path%3E%3C/svg%3E\");background-size:20px}.wallet-selector-logo--webauth{background-image:url(\"data:image/svg+xml,%3Csvg aria-hidden='true' focusable='false' data-prefix='far' data-icon='browser' style='color: %23752EEB;' role='img' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='currentColor' d='M464 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM48 92c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v24c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V92zm416 334c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V168h416v258zm0-310c0 6.6-5.4 12-12 12H172c-6.6 0-12-5.4-12-12V92c0-6.6 5.4-12 12-12h280c6.6 0 12 5.4 12 12v24z'%3E%3C/path%3E%3C/svg%3E\")}.wallet-selector-logo--anchor{background-image:url(\"data:image/svg+xml,%3Csvg aria-hidden='true' focusable='false' data-prefix='fas' data-icon='desktop' style='color: %23752EEB;' role='img' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 576 512'%3E%3Cpath fill='currentColor' d='M528 0H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h192l-16 48h-72c-13.3 0-24 10.7-24 24s10.7 24 24 24h272c13.3 0 24-10.7 24-24s-10.7-24-24-24h-72l-16-48h192c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zm-16 352H64V64h448v288z'%3E%3C/path%3E%3C/svg%3E\")}.wallet-selector-wallet-name{font-family:\"Circular Std Book\", sans-serif;font-size:16px;line-height:24px;color:var(--proton-wallet-option-font, var(--color-option-font));margin-left:20px}.wallet-selector-right-arrow{background-image:url(\"data:image/svg+xml,%3Csvg aria-hidden='true' focusable='false' data-prefix='fas' data-icon='chevron-right' class='svg-inline--fa fa-chevron-right fa-w-10' role='img' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 320 512'%3E%3Cpath fill='rgba(161, 165, 176, 0.7)' d='M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z'%3E%3C/path%3E%3C/svg%3E\");width:10px;height:20px;background-size:10px;background-repeat:no-repeat;background-position:50%;margin-left:auto}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiV2FsbGV0LnN2ZWx0ZSIsIm1hcHBpbmdzIjoiQUFFSSx1QkFBQSxBQUFBLENBQUEsQUFDRSxVQUFBLENBQUEsSUFBQSx5QkFBQSxDQUFBLHVCQUFBLENBQUEsQ0FDQSxPQUFBLENBQUEsSUFBQSxDQUNBLFdBQUEsQ0FBQSxNQUFBLENBQ0EsT0FBQSxDQUFBLElBQUEsQ0FBQSxJQUFBLENBQUEsSUFBQSxDQUFBLElBQUEsQ0FDQSxNQUFBLENBQUEsR0FBQSxDQUFBLEtBQUEsQ0FBQSxLQUFBLEdBQUEsQ0FBQSxDQUFBLEdBQUEsQ0FBQSxDQUFBLEdBQUEsQ0FBQSxDQUFBLElBQUEsQ0FBQSxBQ3VCTixDQUFBLEFEckJNLDZCQUFBLEFBQUEsQ0FBQSxBQUNFLE1BQUEsQ0FBQSxPQUFBLEFDdUJSLENBQUEsQURyQlEsNkJBQUEsQUFBQSxDQUFBLEFBQUEsNEJBQUEsQUFBQSxDQUFBLEFBQ0UsZ0JBQUEsQ0FBQSxta0JBQUEsQUN1QlYsQ0FBQSxBRG5CTSx1QkFBQSxBQUFBLENBQUEsdUJBQUEsQUFBQSxDQUFBLEFBQ0UsVUFBQSxDQUFBLEdBQUEsQUNxQlIsQ0FBQSxBRGpCSSxxQkFBQSxBQUFBLENBQUEsQUFDRSxLQUFBLENBQUEsSUFBQSxDQUNBLE1BQUEsQ0FBQSxJQUFBLENBQ0EsaUJBQUEsQ0FBQSxTQUFBLENBQ0EsbUJBQUEsQ0FBQSxHQUFBLENBQ0EsZUFBQSxDQUFBLElBQUEsQUNtQk4sQ0FBQSxBRGpCTSw2QkFBQSxBQUFBLENBQUEsQUFDRSxnQkFBQSxDQUFBLDBqQkFBQSxDQUNBLGVBQUEsQ0FBQSxJQUFBLEFDbUJSLENBQUEsQURoQk0sOEJBQUEsQUFBQSxDQUFBLEFBQ0UsZ0JBQUEsQ0FBQSx3bUJBQUEsQUNrQlIsQ0FBQSxBRGZNLDZCQUFBLEFBQUEsQ0FBQSxBQUNFLGdCQUFBLENBQUEsd2VBQUEsQUNpQlIsQ0FBQSxBRGJJLDRCQUFBLEFBQUEsQ0FBQSxBQUNFLFdBQUEsQ0FBQSxtQkFBQSxDQUFBLENBQUEsVUFBQSxDQUNBLFNBQUEsQ0FBQSxJQUFBLENBQ0EsV0FBQSxDQUFBLElBQUEsQ0FDQSxLQUFBLENBQUEsSUFBQSwyQkFBQSxDQUFBLHlCQUFBLENBQUEsQ0FDQSxXQUFBLENBQUEsSUFBQSxBQ2VOLENBQUEsQURaSSw0QkFBQSxBQUFBLENBQUEsQUFDRSxnQkFBQSxDQUFBLHFrQkFBQSxDQUNBLEtBQUEsQ0FBQSxJQUFBLENBQ0EsTUFBQSxDQUFBLElBQUEsQ0FDQSxlQUFBLENBQUEsSUFBQSxDQUNBLGlCQUFBLENBQUEsU0FBQSxDQUNBLG1CQUFBLENBQUEsR0FBQSxDQUNBLFdBQUEsQ0FBQSxJQUFBLEFDY04sQ0FhQSIsIm5hbWVzIjpbXSwic291cmNlcyI6WyJmaWxlOi8vL1VzZXJzL2phZnJpL1dvcmsvcHJvdG9uL3Byb3Rvbi13ZWItc2RrL3BhY2thZ2VzL3Byb3Rvbi13ZWItc2RrL3NyYy92aWV3cy9XYWxsZXQuc3ZlbHRlIiwiV2FsbGV0LnN2ZWx0ZSJdfQ== */")}function hr(t){let e,i,n,r,s,o,a,c,l,h,u=t[0].value+"";const d={c:function(){e=tn("li"),i=tn("div"),r=nn(),s=tn("span"),o=en(u),a=nn(),c=tn("div"),$n(i,"class",n="wallet-selector-logo"+t[1]),Ri(i,cr,13,2,448),$n(s,"class","wallet-selector-wallet-name"),Ri(s,cr,14,2,504),$n(c,"class","wallet-selector-right-arrow"),Ri(c,cr,15,2,570),$n(e,"class","wallet-selector-wallet"),Ri(e,cr,12,0,370)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(n,u){On(n,e,u),Pn(e,i),Pn(e,r),Pn(e,s),Pn(s,o),Pn(e,a),Pn(e,c),l||(h=jn(e,"click",sn(t[2]),!1,!1,!0),l=!0)},p:function(t,[e]){2&e&&n!==(n="wallet-selector-logo"+t[1])&&$n(i,"class",n),1&e&&u!==(u=t[0].value+"")&&Vn(o,u)},i:zi,o:zi,d:function(t){t&&Jn(e),l=!1,h()}};return Tn("SvelteRegisterBlock",{block:d,id:hr.name,type:"component",source:"",ctx:t}),d}function ur(t,e,i){let n,{$$slots:r={},$$scope:s}=e;Zn("Wallet",r,[]);const o=pn();let{wallet:a}=e;function c(){o("select-wallet",{walletName:a.key})}t.$$.on_mount.push((function(){void 0!==a||"wallet"in e||t.$$.bound[t.$$.props["wallet"]]||Ai.warn("<Wallet> was created without expected prop 'wallet'")}));const l=["wallet"];return Object.keys(e).forEach((t=>{~l.indexOf(t)||"$$"===t.slice(0,2)||"slot"===t||Ai.warn(`<Wallet> was created with unknown prop '${t}'`)})),t.$$set=t=>{"wallet"in t&&i(0,a=t.wallet)},t.$capture_state=()=>({createEventDispatcher:pn,dispatch:o,wallet:a,selectWallet:c,walletTypeClass:n}),t.$inject_state=t=>{"wallet"in t&&i(0,a=t.wallet),"walletTypeClass"in t&&i(1,n=t.walletTypeClass)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{1&t.$$.dirty&&i(1,n=` wallet-selector-logo--${a.key.toLowerCase()}`)},[a,n,c]}class dr extends Kn{constructor(t){super(t),Rn(this,t,ur,hr,Ji,{wallet:0},lr),Tn("SvelteRegisterComponent",{component:this,tagName:"Wallet",options:t,id:hr.name})}get wallet(){throw new Error("<Wallet>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set wallet(t){throw new Error("<Wallet>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const pr="src/views/Dialog.svelte";function fr(t){Ki(t,"svelte-18oz4ly",".wallet-selector{--color-font-primary:black;--color-font-secondary:#a1a5b0;--color-link:#00aaef;--color-bgdefault:#ffffff;--color-logo-bgdefault:transparent;--color-option-bg:transparent;--color-option-font:#000531;font-family:\"Circular Std Book\", -apple-system, system-ui, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif;font-size:13px;background:rgba(0, 0, 0, 0.65);position:fixed;top:0px;left:0px;width:100%;height:100%;z-index:2147483647;display:none;align-items:center;justify-content:center}.wallet-selector *{box-sizing:border-box;line-height:1}.wallet-selector-active{display:flex;flex-direction:column}.wallet-selector-inner{background:var(--proton-wallet-modal-bgcolor, var(--color-bgdefault));color:white;margin:20px 20px 13px 20px;padding-top:50px;border-radius:10px;box-shadow:0px -10px 50px rgba(0, 0, 0, 0.5) !important;width:360px;transition-property:all;transition-duration:0.5s;transition-timing-function:ease-in-out;position:relative}.wallet-selector-close{display:block;position:absolute;top:16px;right:16px;width:28px;height:28px;background-image:url(\"data:image/svg+xml,%3Csvg width='12' height='12' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M9.66 10.987L6 7.327l-3.66 3.66A1.035 1.035 0 11.876 9.523l3.66-3.66-3.66-3.66A1.035 1.035 0 012.34.737L6 4.398 9.66.739a1.035 1.035 0 111.464 1.464l-3.66 3.66 3.66 3.661a1.035 1.035 0 11-1.464 1.464z' fill='rgba(161, 165, 176, 0.7)' fill-rule='nonzero'/%3E%3C/svg%3E\");background-size:14px;background-repeat:no-repeat;background-position:50%;cursor:pointer;transition:background-image 0.2s ease}.wallet-selector-close:hover{background-image:url(\"data:image/svg+xml,%3Csvg width='12' height='12' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M9.66 10.987L6 7.327l-3.66 3.66A1.035 1.035 0 11.876 9.523l3.66-3.66-3.66-3.66A1.035 1.035 0 012.34.737L6 4.398 9.66.739a1.035 1.035 0 111.464 1.464l-3.66 3.66 3.66 3.661a1.035 1.035 0 11-1.464 1.464z' fill='rgba(161, 165, 176, 1)' fill-rule='nonzero'/%3E%3C/svg%3E\");transition:background-image 0.2s ease}.wallet-selector-connect{padding:0px 20px;border-radius:10px;border-top-left-radius:0;border-top-right-radius:0;background:var(--proton-wallet-modal-bgcolor, var(--color-bgdefault))}.wallet-selector-connect-body{margin-top:35px}.wallet-selector-wallet-list{margin:0px;padding:0px;list-style:none}.wallet-selector-tos-agreement{font-family:\"Circular Std Book\", sans-serif;font-size:12px;line-height:16px;text-align:center;margin-top:35px;margin-bottom:30px;color:var(--proton-wallet-color-font-secondary, var(--color-font-secondary))}.wallet-selector-tos-link{color:var(--proton-wallet-color-link, var(--color-link));text-decoration:none}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGlhbG9nLnN2ZWx0ZSIsIm1hcHBpbmdzIjoiQUFDRSxnQkFBQSxBQUFBLENBQUEsQUFDRSxvQkFBQSxDQUFBLEtBQUEsQ0FDQSxzQkFBQSxDQUFBLE9BQUEsQ0FDQSxZQUFBLENBQUEsT0FBQSxDQUNBLGlCQUFBLENBQUEsT0FBQSxDQUNBLHNCQUFBLENBQUEsV0FBQSxDQUNBLGlCQUFBLENBQUEsV0FBQSxDQUNBLG1CQUFBLENBQUEsT0FBQSxDQUVBLFdBQUEsQ0FBQSxtQkFBQSxDQUFBLENBQUEsYUFBQSxDQUFBLENBQUEsU0FBQSxDQUFBLENBQUEsa0JBQUEsQ0FBQSxDQUFBLFVBQUEsQ0FBQSxDQUFBLE1BQUEsQ0FBQSxDQUFBLGdCQUFBLENBQUEsQ0FBQSxLQUFBLENBQUEsQ0FBQSxVQUFBLENBR0EsU0FBQSxDQUFBLElBQUEsQ0FDQSxVQUFBLENBQUEsS0FBQSxDQUFBLENBQUEsQ0FBQSxDQUFBLENBQUEsQ0FBQSxDQUFBLENBQUEsQ0FBQSxJQUFBLENBQUEsQ0FDQSxRQUFBLENBQUEsS0FBQSxDQUNBLEdBQUEsQ0FBQSxHQUFBLENBQ0EsSUFBQSxDQUFBLEdBQUEsQ0FDQSxLQUFBLENBQUEsSUFBQSxDQUNBLE1BQUEsQ0FBQSxJQUFBLENBQ0EsT0FBQSxDQUFBLFVBQUEsQ0FDQSxPQUFBLENBQUEsSUFBQSxDQUNBLFdBQUEsQ0FBQSxNQUFBLENBQ0EsZUFBQSxDQUFBLE1BQUEsQUNzREosQ0FBQSxBRHBESSxnQkFBQSxBQUFBLENBQUEsQUFBQSxDQUFBLEFBQUEsQ0FBQSxBQUNFLFVBQUEsQ0FBQSxVQUFBLENBQ0EsV0FBQSxDQUFBLENBQUEsQ0FHRix1QkFBQSxBQUFBLENBQUEsQUFDRSxPQUFBLENBQUEsSUFBQSxDQUNBLGNBQUEsQ0FBQSxNQUFBLEFDcUROLENBQUEsQURsREksc0JBQUEsQUFBQSxDQUFBLEFBQ0UsVUFBQSxDQUFBLElBQUEsNkJBQUEsQ0FBQSx1QkFBQSxDQUFBLENBQ0EsS0FBQSxDQUFBLEtBQUEsQ0FDQSxNQUFBLENBQUEsSUFBQSxDQUFBLElBQUEsQ0FBQSxJQUFBLENBQUEsSUFBQSxDQUNBLFdBQUEsQ0FBQSxJQUFBLENBQ0EsYUFBQSxDQUFBLElBQUEsQ0FDQSxVQUFBLENBQUEsR0FBQSxDQUFBLEtBQUEsQ0FBQSxJQUFBLENBQUEsS0FBQSxDQUFBLENBQUEsQ0FBQSxDQUFBLENBQUEsQ0FBQSxDQUFBLENBQUEsQ0FBQSxHQUFBLENBQUEsQ0FBQSxVQUFBLENBQ0EsS0FBQSxDQUFBLEtBQUEsQ0FDQSxtQkFBQSxDQUFBLEdBQUEsQ0FDQSxtQkFBQSxDQUFBLElBQUEsQ0FDQSwwQkFBQSxDQUFBLFdBQUEsQ0FDQSxRQUFBLENBQUEsUUFBQSxBQ29ETixDQUFBLEFEakRJLHNCQUFBLEFBQUEsQ0FBQSxBQUNFLE9BQUEsQ0FBQSxLQUFBLENBQ0EsUUFBQSxDQUFBLFFBQUEsQ0FDQSxHQUFBLENBQUEsSUFBQSxDQUNBLEtBQUEsQ0FBQSxJQUFBLENBQ0EsS0FBQSxDQUFBLElBQUEsQ0FDQSxNQUFBLENBQUEsSUFBQSxDQUNBLGdCQUFBLENBQUEsbVhBQUEsQ0FDQSxlQUFBLENBQUEsSUFBQSxDQUNBLGlCQUFBLENBQUEsU0FBQSxDQUNBLG1CQUFBLENBQUEsR0FBQSxDQUNBLE1BQUEsQ0FBQSxPQUFBLENBQ0EsVUFBQSxDQUFBLGdCQUFBLENBQUEsSUFBQSxDQUFBLElBQUEsQUNtRE4sQ0FBQSxBRGpETSw0QkFBQSxBQUFBLENBQUEsQUFDRSxnQkFBQSxDQUFBLGlYQUFBLENBQ0EsVUFBQSxDQUFBLGdCQUFBLENBQUEsSUFBQSxDQUFBLElBQUEsQUNtRFIsQ0FBQSxBRC9DSSx3QkFBQSxBQUFBLENBQUEsQUFDRSxPQUFBLENBQUEsR0FBQSxDQUFBLElBQUEsQ0FDQSxhQUFBLENBQUEsSUFBQSxDQUNBLHNCQUFBLENBQUEsQ0FBQSxDQUNBLHVCQUFBLENBQUEsQ0FBQSxDQUNBLFVBQUEsQ0FBQSxJQUFBLDZCQUFBLENBQUEsdUJBQUEsQ0FBQSxBQ2lETixDQUFBLEFEL0NNLDZCQUFBLEFBQUEsQ0FBQSxBQUNFLFVBQUEsQ0FBQSxJQUFBLEFDaURSLENBQUEsQUQ3Q0ksNEJBQUEsQUFBQSxDQUFBLEFBQ0UsTUFBQSxDQUFBLEdBQUEsQ0FDQSxPQUFBLENBQUEsR0FBQSxDQUNBLFVBQUEsQ0FBQSxJQUFBLEFDK0NOLENBQUEsQUQ1Q0ksOEJBQUEsQUFBQSxDQUFBLEFBQ0UsV0FBQSxDQUFBLG1CQUFBLENBQUEsQ0FBQSxVQUFBLENBQ0EsU0FBQSxDQUFBLElBQUEsQ0FDQSxXQUFBLENBQUEsSUFBQSxDQUNBLFVBQUEsQ0FBQSxNQUFBLENBQ0EsVUFBQSxDQUFBLElBQUEsQ0FDQSxhQUFBLENBQUEsSUFBQSxDQUNBLEtBQUEsQ0FBQSxJQUFBLG9DQUFBLENBQUEsNEJBQUEsQ0FBQSxBQzhDTixDQUFBLEFEeENJLHlCQUFBLEFBQUEsQ0FBQSxBQUNFLEtBQUEsQ0FBQSxJQUFBLDBCQUFBLENBQUEsa0JBQUEsQ0FBQSxDQUNBLGVBQUEsQ0FBQSxJQUFBLEFDMENOLENBa0JBIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbImZpbGU6Ly8vVXNlcnMvamFmcmkvV29yay9wcm90b24vcHJvdG9uLXdlYi1zZGsvcGFja2FnZXMvcHJvdG9uLXdlYi1zZGsvc3JjL3ZpZXdzL0RpYWxvZy5zdmVsdGUiLCJEaWFsb2cuc3ZlbHRlIl19 */")}function gr(t,e,i){const n=t.slice();return n[9]=e[i],n}function mr(t){let e,i,n=t[5];qn(n);let r=[];for(let a=0;a<n.length;a+=1)r[a]=Qr(gr(t,n,a));const s=t=>Dn(r[t],1,1,(()=>{r[t]=null})),o={c:function(){e=tn("ul");for(let t=0;t<r.length;t+=1)r[t].c();$n(e,"class","wallet-selector-wallet-list"),Ri(e,pr,29,10,882)},m:function(t,n){On(t,e,n);for(let i=0;i<r.length;i+=1)r[i].m(e,null);i=!0},p:function(t,i){if(32&i){let o;for(n=t[5],qn(n),o=0;o<n.length;o+=1){const s=gr(t,n,o);r[o]?(r[o].p(s,i),Nn(r[o],1)):(r[o]=Qr(s),r[o].c(),Nn(r[o],1),r[o].m(e,null))}for(kn(),o=n.length;o<r.length;o+=1)s(o);_n()}},i:function(t){if(!i){for(let t=0;t<n.length;t+=1)Nn(r[t]);i=!0}},o:function(t){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)Dn(r[e]);i=!1},d:function(t){t&&Jn(e),Yi(r,t)}};return Tn("SvelteRegisterBlock",{block:o,id:mr.name,type:"if",source:"(29:8) {#if wallets && wallets.length}",ctx:t}),o}function Qr(t){let e,i;e=new dr({props:{wallet:t[9]},$$inline:!0}),e.$on("select-wallet",t[7]);const n={c:function(){An(e.$$.fragment)},m:function(t,n){Mn(e,t,n),i=!0},p:function(t,i){const n={};32&i&&(n.wallet=t[9]),e.$set(n)},i:function(t){i||(Nn(e.$$.fragment,t),i=!0)},o:function(t){Dn(e.$$.fragment,t),i=!1},d:function(t){Cn(e,t)}};return Tn("SvelteRegisterBlock",{block:n,id:Qr.name,type:"each",source:"(31:12) {#each wallets as wallet}",ctx:t}),n}function Br(t){let e,i,n,r,s,o,a,c,l,h,u,d,p,f,g,m,Q;r=new ir({props:{title:t[1],subtitle:t[2],logo:t[3],isLogoRound:t[4]},$$inline:!0});let B=t[5]&&t[5].length&&mr(t);f=new ar({$$inline:!0});const y={c:function(){e=tn("div"),i=tn("div"),n=tn("div"),An(r.$$.fragment),s=nn(),o=tn("div"),B&&B.c(),a=nn(),c=tn("p"),l=en("By connecting, I accept Proton's "),h=tn("a"),h.textContent="Terms of Service",u=nn(),d=tn("div"),p=nn(),An(f.$$.fragment),$n(h,"class","wallet-selector-tos-link"),$n(h,"href","https://protonchain.com/terms"),$n(h,"target","_blank"),$n(h,"rel","noreferrer"),Ri(h,pr,36,43,1155),$n(c,"class","wallet-selector-tos-agreement"),Ri(c,pr,35,8,1070),$n(o,"class","wallet-selector-connect-body"),Ri(o,pr,27,6,789),$n(n,"class","wallet-selector-connect"),Ri(n,pr,24,4,664),$n(d,"class","wallet-selector-close"),Ri(d,pr,46,4,1383),$n(i,"class","wallet-selector-inner"),Ri(i,pr,23,2,624),$n(e,"class","wallet-selector"),ln(e,"wallet-selector-active",t[0]),Ri(e,pr,18,0,511)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(y,E){On(y,e,E),Pn(e,i),Pn(i,n),Mn(r,n,null),Pn(n,s),Pn(n,o),B&&B.m(o,null),Pn(o,a),Pn(o,c),Pn(c,l),Pn(c,h),Pn(i,u),Pn(i,d),Pn(e,p),Mn(f,e,null),g=!0,m||(Q=[jn(d,"click",t[6],!1,!1,!1),jn(e,"click",on(sn(t[6])),!1,!1,!0)],m=!0)},p:function(t,[i]){const n={};2&i&&(n.title=t[1]),4&i&&(n.subtitle=t[2]),8&i&&(n.logo=t[3]),16&i&&(n.isLogoRound=t[4]),r.$set(n),t[5]&&t[5].length?B?(B.p(t,i),32&i&&Nn(B,1)):(B=mr(t),B.c(),Nn(B,1),B.m(o,a)):B&&(kn(),Dn(B,1,1,(()=>{B=null})),_n()),(!g||1&i)&&ln(e,"wallet-selector-active",t[0])},i:function(t){g||(Nn(r.$$.fragment,t),Nn(B),Nn(f.$$.fragment,t),g=!0)},o:function(t){Dn(r.$$.fragment,t),Dn(B),Dn(f.$$.fragment,t),g=!1},d:function(t){t&&Jn(e),Cn(r),B&&B.d(),Cn(f),m=!1,Pi(Q)}};return Tn("SvelteRegisterBlock",{block:y,id:Br.name,type:"component",source:"",ctx:t}),y}function yr(t,e,i){let{$$slots:n={},$$scope:r}=e;Zn("Dialog",n,[]);const s=pn();let{title:o=""}=e,{subtitle:a=""}=e,{show:c=!1}=e,{appLogo:l=""}=e,{hasRoundedLogo:h=!1}=e,{wallets:u=[]}=e;function d(){i(0,c=!1),s("close")}const p=["title","subtitle","show","appLogo","hasRoundedLogo","wallets"];function f(e){fn.call(this,t,e)}return Object.keys(e).forEach((t=>{~p.indexOf(t)||"$$"===t.slice(0,2)||"slot"===t||Ai.warn(`<Dialog> was created with unknown prop '${t}'`)})),t.$$set=t=>{"title"in t&&i(1,o=t.title),"subtitle"in t&&i(2,a=t.subtitle),"show"in t&&i(0,c=t.show),"appLogo"in t&&i(3,l=t.appLogo),"hasRoundedLogo"in t&&i(4,h=t.hasRoundedLogo),"wallets"in t&&i(5,u=t.wallets)},t.$capture_state=()=>({createEventDispatcher:pn,Header:ir,Footer:ar,Wallet:dr,dispatch:s,title:o,subtitle:a,show:c,appLogo:l,hasRoundedLogo:h,wallets:u,close:d}),t.$inject_state=t=>{"title"in t&&i(1,o=t.title),"subtitle"in t&&i(2,a=t.subtitle),"show"in t&&i(0,c=t.show),"appLogo"in t&&i(3,l=t.appLogo),"hasRoundedLogo"in t&&i(4,h=t.hasRoundedLogo),"wallets"in t&&i(5,u=t.wallets)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[c,o,a,l,h,u,d,f]}class Er extends Kn{constructor(t){super(t),Rn(this,t,yr,Br,Ji,{title:1,subtitle:2,show:0,appLogo:3,hasRoundedLogo:4,wallets:5},fr),Tn("SvelteRegisterComponent",{component:this,tagName:"Dialog",options:t,id:Br.name})}get title(){throw new Error("<Dialog>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set title(t){throw new Error("<Dialog>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get subtitle(){throw new Error("<Dialog>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set subtitle(t){throw new Error("<Dialog>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get show(){throw new Error("<Dialog>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set show(t){throw new Error("<Dialog>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get appLogo(){throw new Error("<Dialog>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set appLogo(t){throw new Error("<Dialog>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get hasRoundedLogo(){throw new Error("<Dialog>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set hasRoundedLogo(t){throw new Error("<Dialog>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get wallets(){throw new Error("<Dialog>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set wallets(t){throw new Error("<Dialog>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}class wr{constructor(t,e,i,n){this.hasRoundedLogo=!1,this.fontAdded=!1,this.appLogo=e,this.appName=t||"app",this.customStyleOptions=i,this.dialogRootNode=this.setDialogRootNode(n)}displayWalletSelector(t){return new Promise(((e,i)=>{this.setUpSelectorContainer(i);const n={title:"Connect Wallet",subtitle:`To start using ${this.appName}`,hasRoundedLogo:this.hasRoundedLogo,wallets:t,appLogo:this.appLogo||null};this.Widget&&(this.Widget.$on("select-wallet",(t=>{t.detail.walletName&&(this.hideSelector(),e(t.detail.walletName))})),this.Widget.$set(n)),this.showSelector()}))}destroy(){this.hideSelector(),this.Widget&&this.Widget.$destroy(),this.widgetHolder&&this.widgetHolder.remove()}hideSelector(){this.Widget&&this.Widget.$set({show:!1,appLogo:"",hasRoundedLogo:!1,title:"",subtitle:"",wallets:[]})}showSelector(){this.Widget&&this.Widget.$set({show:!0})}setUpSelectorContainer(t){if(this.addFont(),!this.Widget){if(this.widgetHolder=document.createElement("div"),this.dialogRootNode.appendChild(this.widgetHolder),this.Widget=new Er({target:this.widgetHolder}),this.customStyleOptions){const t=this.customStyleOptions;Object.keys(t).forEach((e=>{if("isLogoRound"===e)this.hasRoundedLogo=!!t.isLogoRound;else{const i=Ci.get(e);i&&t[e]&&this.widgetHolder&&this.widgetHolder.style.setProperty(`--${i}`,t[e])}}))}this.Widget.$on("close",(()=>{this.hideSelector(),t("no wallet selected")}))}}addFont(){const t="https://fonts.cdnfonts.com/css/circular-std-book";if(!this.fontAdded){const e=Array.from(document.styleSheets).some((e=>e.href===t));if(!e){const e=document.createElement("link");e.href=t,e.rel="stylesheet",document.head.appendChild(e)}this.fontAdded=!0}}setDialogRootNode(t){if(!t)return document.body;if("string"==typeof t){const e=document.body.querySelector(t);if(!e)throw new Error("dialogRootNode is not a valid selector");return e}return t}}const Ur="menubar=1,resizable=1,width=400,height=600";class vr{constructor(){this.promise=new Promise(((t,e)=>{this.reject=e,this.resolve=t}))}}let br=null;class Fr{get childWindow(){return br}set childWindow(t){br=t}constructor(t){this.scheme=t.scheme,this.client="string"===typeof t.client?new K.JsonRpc(t.client):t.client,this.storage=t.storage,this.testUrl=t.testUrl,this.transport=t.transport,this.chainId=t.chainId.toString(),setInterval((()=>this.closeChild()),500),window.addEventListener("message",(t=>this.onEvent(t)),!1)}childUrl(t){const e=this.testUrl?this.testUrl:"proton"===this.scheme?"https://webauth.com":"https://testnet.webauth.com";return`${e}${t}`}closeChild(t=!1){this.childWindow&&(t&&this.childWindow.close(),(t||this.childWindow.closed)&&(this.childWindow=null))}createSession(t){return{auth:t,chainId:this.chainId,transact:(t,e)=>Mi(this,void 0,void 0,(function*(){this.deferredLogin&&(this.closeChild(!0),this.deferredLogin.reject("Trying to login"),this.deferredLogin=void 0),this.deferredTransact={deferral:new vr,transaction:t.transaction||{actions:t.actions},params:e,waitingForOpen:!0},this.childWindow=window.open(this.childUrl("/auth"),"_blank",Ur);try{const t=yield this.deferredTransact.deferral.promise;return t}catch(i){throw this.transport.onFailure&&this.transport.onFailure(void 0,i),i}})),link:{walletType:"webauth",client:this.client}}}login(){return Mi(this,void 0,void 0,(function*(){this.deferredTransact&&(this.closeChild(!0),this.deferredTransact.deferral.reject("Trying to login"),this.deferredTransact=void 0),this.childWindow=window.open(this.childUrl("/login"),"_blank",Ur),this.deferredLogin=new vr;try{this.storage.write("wallet-type","webauth");const t=yield this.deferredLogin.promise;return{session:this.createSession(t)}}catch(t){throw Ai.error(t),t}}))}restoreSession(t,e){return Mi(this,void 0,void 0,(function*(){return this.createSession(e)}))}removeSession(t,e,i){return Mi(this,void 0,void 0,(function*(){if(!this.storage)throw new Error("Unable to remove session: No storage adapter configured");return(yield this.storage.read("wallet-type"))&&this.storage.remove("wallet-type"),(yield this.storage.read("user-auth"))&&this.storage.remove("user-auth"),{appIdentifier:t,auth:e,chainId:i}}))}onEvent(t){return Mi(this,void 0,void 0,(function*(){if(-1!==t.origin.indexOf("https://webauth.com")&&-1!==t.origin.indexOf("https://testnet.webauth.com"))return;let e;try{e=JSON.parse(t.data)}catch(t){return}try{const{type:t,data:i,error:n}=e;if(!t)return;"isReady"===t?this.deferredTransact&&this.deferredTransact.waitingForOpen&&(this.deferredTransact.waitingForOpen=!1,this.childWindow.postMessage(JSON.stringify({type:"transaction",data:{transaction:this.deferredTransact.transaction,params:this.deferredTransact.params}}),"*")):"close"===t?(this.closeChild(!0),this.deferredTransact?this.deferredTransact.deferral.reject("Closed"):this.deferredLogin&&this.deferredLogin.reject("Closed")):"transactionSuccess"===t?(this.closeChild(!0),this.deferredTransact&&(n?this.deferredTransact.deferral.reject(n&&n.json?n.json:n):this.deferredTransact.deferral.resolve(i),this.deferredTransact=void 0)):"loginSuccess"===t&&(this.closeChild(!0),this.deferredLogin&&(this.deferredLogin.resolve(i),this.deferredLogin=void 0))}catch(t){Ai.error(t)}}))}}class xr{constructor(t){this.keyPrefix=t}write(t,e){return Mi(this,void 0,void 0,(function*(){localStorage.setItem(this.storageKey(t),e)}))}read(t){return Mi(this,void 0,void 0,(function*(){return localStorage.getItem(this.storageKey(t))}))}remove(t){return Mi(this,void 0,void 0,(function*(){localStorage.removeItem(this.storageKey(t))}))}storageKey(t){return`${this.keyPrefix}-${t}`}}const Sr=[{key:"proton",value:"Mobile"},{key:"webauth",value:"Browser"},{key:"anchor",value:"Desktop"}];let Lr;const kr=({linkOptions:t,transportOptions:e={},selectorOptions:i={}})=>Mi(void 0,void 0,void 0,(function*(){const n=new K.JsonRpc(t.endpoints);if(t.client=n,!t.chainId){const e=yield n.get_info();t.chainId=e.chain_id}return t.storage||(t.storage=new xr(t.storagePrefix||"proton-storage")),_r({selectorOptions:i,linkOptions:t,transportOptions:e}).finally((()=>{Lr&&(Lr.destroy(),Lr=void 0)}))})),_r=t=>Mi(void 0,void 0,void 0,(function*(){var e;let i,n,r;Lr||(Lr=new wr(t.selectorOptions.appName,t.selectorOptions.appLogo,t.selectorOptions.customStyleOptions,t.selectorOptions.dialogRootNode));let s=t.selectorOptions?t.selectorOptions.walletType:void 0;if(!s)if(t.linkOptions.restoreSession)s=yield t.linkOptions.storage.read("wallet-type");else{const e=t.selectorOptions.enabledWalletTypes?Sr.filter((e=>t.selectorOptions.enabledWalletTypes&&t.selectorOptions.enabledWalletTypes.includes(e.key))):Sr;try{s=yield Lr.displayWalletSelector(e)}catch(l){return Ai.log("CANCEL",l),{error:l}}}if(!s)return{error:new Error("Wallet Type Unavailable: No wallet provided")};let o="proton";"71ee83bcf52142d61019d95f9cc5427ba6a0d7ff8accd9e2088ae2abeaf3d3dd"===t.linkOptions.chainId&&(o="proton-test");let a="proton";"anchor"===s?a="esr":"proton-test"===o&&(a="proton-dev");const c=Object.assign(Object.assign({},t.linkOptions),{scheme:a,transport:new Di(Object.assign(Object.assign({},t.transportOptions),{walletType:s})),walletType:s,chains:[]});if(n="webauth"===s?new Fr(c):new Et(c),t.linkOptions.restoreSession){const e=yield t.linkOptions.storage.read("user-auth"),r=e?JSON.parse(e):{},s=Object.keys(r).length>0?r:null;if(s&&(i=yield n.restoreSession(t.transportOptions.requestAccount||"",s),!i))return t.linkOptions.storage.remove("wallet-type"),t.linkOptions.storage.remove("user-auth"),{link:void 0,session:void 0,loginResult:void 0}}else{let s=!1;document.addEventListener("backToSelector",(()=>{s=!0}));try{r=yield n.login((null===(e=t.transportOptions)||void 0===e?void 0:e.requestAccount)||""),i=r.session;const s=JSON.stringify({actor:r.session.auth.actor.toString(),permission:r.session.auth.permission.toString()});t.linkOptions.storage.write("user-auth",s)}catch(l){return Ai.error("restoreSession Error:"),Ai.error(l),s?(document.removeEventListener("backToSelector",(()=>{s=!0})),_r(Object.assign(Object.assign({},t),{repeat:!0}))):{error:l}}}return i&&i.auth&&(i.auth={actor:i.auth.actor.toString(),permission:i.auth.permission.toString()},i.publicKey=i.publicKey?i.publicKey.toString():void 0),{session:i,link:n,loginResult:r}}))}}]);