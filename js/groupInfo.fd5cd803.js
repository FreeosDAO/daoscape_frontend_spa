"use strict";(self["webpackChunkthedaoscapefrontend"]=self["webpackChunkthedaoscapefrontend"]||[]).push([[1784],{52853:(e,t,o)=>{o.r(t),o.d(t,{default:()=>Ae});var a=o(34182);const n={class:"col-xs-12",key:"header_info"},i={class:"row justify-between"},c={class:"col-xs-12 col-md-4 q-col-gutter-md"},r={class:"col-xs-12 col-md-8 q-col-gutter-md column items-start"},l={class:"row justify-between full-width"},s=(0,a.createTextVNode)("Group Account"),d=(0,a.createTextVNode)("Created"),m={key:0,class:"q-mt-md full-width"},g=(0,a.createElementVNode)("div",null,"About",-1),u=(0,a.createTextVNode)("                  "),p={key:1,class:"text-weight-light row justify-between items-center full-width"},C={key:2,class:"column full-width q-mt-auto justify-end"},h={key:0,class:"row justify-end q-mt-sm text-weight-light"},_={class:"row justify-end full-width"},f={class:"col-xs-12 col-sm-6 col-lg-4",key:"guardians_info"},v=(0,a.createTextVNode)("Guardians"),N={class:"col-xs-12 col-sm-6 col-lg-4",key:"candidates_info"},x=(0,a.createTextVNode)("Candidates"),V={class:"col-xs-12 col-sm-6 col-lg-4",key:"members_info"},w=(0,a.createTextVNode)("Members"),k={class:"col-xs-12 col-sm-6 col-lg-4",key:"maintainer_account"},y=(0,a.createTextVNode)("Maintainer Account"),b={class:"col-xs-12 col-sm-6 col-lg-8",key:"new_election"};function E(e,t,o,E,A,S){const B=(0,a.resolveComponent)("update-logo"),G=(0,a.resolveComponent)("q-item-label"),q=(0,a.resolveComponent)("explorer-link"),T=(0,a.resolveComponent)("q-item-section"),I=(0,a.resolveComponent)("q-item"),Z=(0,a.resolveComponent)("date-string"),Q=(0,a.resolveComponent)("q-markdown"),L=(0,a.resolveComponent)("groupLinks"),D=(0,a.resolveComponent)("group-tags"),$=(0,a.resolveComponent)("q-checkbox"),O=(0,a.resolveComponent)("q-btn"),M=(0,a.resolveComponent)("q-card-section"),K=(0,a.resolveComponent)("q-card"),z=(0,a.resolveComponent)("q-icon"),R=(0,a.resolveComponent)("q-tooltip"),U=(0,a.resolveComponent)("new-election-timer"),j=(0,a.resolveComponent)("q-page");return(0,a.openBlock)(),(0,a.createBlock)(j,{padding:"",class:"constrain-page-width"},{default:(0,a.withCtx)((()=>[e.getActiveGroupConfig?((0,a.openBlock)(),(0,a.createBlock)(a.TransitionGroup,{key:0,appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut",mode:"out-in",class:"row q-col-gutter-md",tag:"div"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",n,[(0,a.createVNode)(K,{class:"relative-position"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(M,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",i,[(0,a.createElementVNode)("div",c,[(0,a.createVNode)(B,{show_edit:e.allowed_to_edit,class:"q-mb-md"},null,8,["show_edit"])]),(0,a.createElementVNode)("div",r,[(0,a.createElementVNode)("div",l,[(0,a.createVNode)(I,{class:"no-padding q-mr-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(T,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(G,null,{default:(0,a.withCtx)((()=>[s])),_:1}),(0,a.createVNode)(G,{class:"text-h4"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.getActiveGroupConfig.groupname),1)])),_:1}),(0,a.createVNode)(G,{caption:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(q,{accountname:e.getActiveGroupConfig.groupname,accountnameText:"View on explorer"},null,8,["accountname"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(T,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(G,{caption:"",class:"text-right"},{default:(0,a.withCtx)((()=>[d])),_:1}),(0,a.createVNode)(G,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Z,{date:e.getActiveGroupConfig.creation_date},null,8,["date"])])),_:1})])),_:1})])),_:1})]),e.getActiveGroupConfig.meta.about?((0,a.openBlock)(),(0,a.createElementBlock)("div",m,[g,(0,a.createVNode)(Q,{class:"text-caption text-weight-light",src:e.getActiveGroupConfig.meta.about,"no-abbreviation":!1},{default:(0,a.withCtx)((()=>[u])),_:1},8,["src"])])):(0,a.createCommentVNode)("",!0),e.getActiveGroupConfig.meta.links.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",p,[(0,a.createElementVNode)("div",null,[(0,a.createVNode)(L,{links:e.getActiveGroupConfig.meta.links},null,8,["links"])]),(0,a.createVNode)(I,{class:"no-padding"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(T,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(G,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(D,{tags:e.getActiveGroupConfig.tags,"content-class":"bg-primary text-white"},null,8,["tags"])])),_:1})])),_:1})])),_:1})])):(0,a.createCommentVNode)("",!0),e.getIsGuardian(e.getAccountName)?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",C,[e.getCoreConfig&&e.getCoreConfig.conf.userterms?((0,a.openBlock)(),(0,a.createElementBlock)("div",h,[(0,a.createVNode)($,{modelValue:e.agree_terms,"onUpdate:modelValue":t[0]||(t[0]=t=>e.agree_terms=t),"left-label":"",label:"I have read and I agree to the user terms."},null,8,["modelValue"])])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",_,[e.getIsMember?((0,a.openBlock)(),(0,a.createBlock)(O,{key:1,label:"unregister",color:"primary",outline:"",onClick:e.unregmember,loading:e.is_transacting},null,8,["onClick","loading"])):((0,a.openBlock)(),(0,a.createBlock)(O,{key:0,label:"Become A Member",color:"primary",icon:"add",onClick:e.regmember,loading:e.is_transacting},null,8,["onClick","loading"]))])]))])])])),_:1})])),_:1})]),(0,a.createElementVNode)("div",f,[(0,a.createVNode)(K,{class:"primary-hover-list"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{clickable:"",to:`/manage/${e.getActiveGroup}/guardians`},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(T,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(z,{name:"mdi-account-key",color:"primary",size:"xl"})])),_:1}),(0,a.createVNode)(T,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(G,{class:"text-weight-light text-h5 text-grey-7"},{default:(0,a.withCtx)((()=>[v])),_:1})])),_:1}),(0,a.createVNode)(T,{side:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(G,{class:"text-h5 text-grey-7"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.getNumberGuardians),1)])),_:1})])),_:1})])),_:1},8,["to"])])),_:1})]),e.getElectionsState?((0,a.openBlock)(),(0,a.createElementBlock)("div",N,[(0,a.createVNode)(K,{class:"primary-hover-list"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{clickable:"",to:`/members/${e.getActiveGroup}/elections`},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(T,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(z,{name:"mdi-account-card-details",color:"primary",size:"xl"}),(0,a.createVNode)(R,{class:"bg-secondary",delay:500,anchor:"center right",self:"center left",offset:[10,10]},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",null," Active Candidates: "+(0,a.toDisplayString)(e.getElectionsState.active_candidate_count),1),(0,a.createElementVNode)("div",null," Inactive Candidates: "+(0,a.toDisplayString)(e.getElectionsState.inactive_candidate_count),1)])),_:1})])),_:1}),(0,a.createVNode)(T,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(G,{class:"text-weight-light text-h5 text-grey-7"},{default:(0,a.withCtx)((()=>[x])),_:1})])),_:1}),(0,a.createVNode)(T,{side:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(G,{class:"text-h5 text-grey-7"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.getElectionsState.active_candidate_count),1)])),_:1})])),_:1})])),_:1},8,["to"])])),_:1})])):(0,a.createCommentVNode)("",!0),e.getCoreConfig&&e.getCoreConfig.conf.member_registration?((0,a.openBlock)(),(0,a.createElementBlock)("div",V,[(0,a.createVNode)(K,{class:"primary-hover-list"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{clickable:"",to:`/manage/${e.getActiveGroup}/members`},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(T,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(z,{name:"mdi-account-multiple-check",color:"primary",size:"xl"})])),_:1}),(0,a.createVNode)(T,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(G,{class:"text-weight-light text-h5 text-grey-7"},{default:(0,a.withCtx)((()=>[w])),_:1})])),_:1}),(0,a.createVNode)(T,{side:""},{default:(0,a.withCtx)((()=>[e.getCoreState?((0,a.openBlock)(),(0,a.createBlock)(G,{key:0,class:"text-h5 text-grey-7"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.getCoreState.state.member_count),1)])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1},8,["to"])])),_:1})])):(0,a.createCommentVNode)("",!0),e.getCoreConfig&&e.getCoreConfig.conf.maintainer_account.actor?((0,a.openBlock)(),(0,a.createElementBlock)("div",k,[(0,a.createVNode)(K,{class:"primary-hover-list"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,{clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(T,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(z,{name:"mdi-settings-transfer",color:"primary",size:"xl"})])),_:1}),(0,a.createVNode)(T,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(G,{class:"text-weight-light text-h5 text-grey-7"},{default:(0,a.withCtx)((()=>[y])),_:1}),(0,a.createVNode)(G,{caption:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.getCoreConfig.conf.maintainer_account.actor)+"@"+(0,a.toDisplayString)(e.getCoreConfig.conf.maintainer_account.permission),1)])),_:1})])),_:1})])),_:1})])),_:1})])):(0,a.createCommentVNode)("",!0),e.getElectionsContract?((0,a.openBlock)(),(0,a.createElementBlock)("div",b,[(0,a.createVNode)(K,{class:"primary-hover-list"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(U)])),_:1})])):(0,a.createCommentVNode)("",!0)])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1})}var A=o(55250),S=o(33437);const B={class:"row items-center"},G=(0,a.createElementVNode)("div",{class:"text-weight-light bg-transparent flex"},[(0,a.createElementVNode)("span",{class:"text-primary"},"error loading logo")],-1),q={key:1,class:"row text-primary text-h5"},T=(0,a.createTextVNode)(" No Logo "),I={key:0};function Z(e,t,o,n,i,c){const r=(0,a.resolveComponent)("q-img"),l=(0,a.resolveComponent)("q-btn");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createElementVNode)("div",B,[e.getActiveGroupConfig.ui.logo?((0,a.openBlock)(),(0,a.createBlock)(r,{key:0,src:e.getActiveGroupConfig.ui.logo,style:{width:"100%","max-width":"300px"}},{error:(0,a.withCtx)((()=>[G])),_:1},8,["src"])):((0,a.openBlock)(),(0,a.createElementBlock)("div",q,[T,e.show_edit?((0,a.openBlock)(),(0,a.createElementBlock)("div",I,[(0,a.createVNode)(l,{icon:e.edit?"mdi-close":"mdi-pencil",flat:"",size:"sm","text-color":"primary",round:"",to:e.get_edit_logo_url()},null,8,["icon","to"])])):(0,a.createCommentVNode)("",!0)]))])])}const Q=(0,a.defineComponent)({name:"updateLogo",props:{show_edit:{type:Boolean,default:!1}},computed:{...(0,A.Se)({getActiveGroup:"group/getActiveGroup",getActiveGroupConfig:"group/getActiveGroupConfig",getAppConfig:"app/getAppConfig"})},data(){return{edit:!1}},methods:{get_edit_logo_url(){return`/manage/${this.getActiveGroup}/new-proposal?action=updatelogo&contract=${this.getAppConfig.groups_contract}&groupname=${this.getActiveGroup}`}}});var L=o(74260),D=o(24152),$=o(2165),O=o(7518),M=o.n(O);const K=(0,L.Z)(Q,[["render",Z]]),z=K;M()(Q,"components",{QImg:D.Z,QBtn:$.Z});var R=o(39938),U=o(13654);const j=(0,a.createTextVNode)("Clap For Group"),P={class:"q-mt-md"},F={class:"row items-center"},W=(0,a.createTextVNode)(" EOS/TLOS ");function H(e,t,o,n,i,c){const r=(0,a.resolveComponent)("q-icon"),l=(0,a.resolveComponent)("q-btn"),s=(0,a.resolveComponent)("q-item-section"),d=(0,a.resolveComponent)("q-item-label"),m=(0,a.resolveComponent)("q-item"),g=(0,a.resolveComponent)("page-header"),u=(0,a.resolveComponent)("q-slider"),p=(0,a.resolveComponent)("q-input"),C=(0,a.resolveComponent)("q-card-section"),h=(0,a.resolveComponent)("q-card"),_=(0,a.resolveComponent)("q-dialog"),f=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{side:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(l,{color:"primary",round:"",onClick:e.openClapModal},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(r,{name:"mdi-thumb-up",class:"hover-rotate"})])),_:1},8,["onClick"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[j])),_:1}),(0,a.createVNode)(d,{caption:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.getActiveGroupConfig.claps),1)])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(_,{modelValue:e.clap_modal,"onUpdate:modelValue":t[1]||(t[1]=t=>e.clap_modal=t)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"overflow-hidden",style:{"min-width":"350px"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{title:"Clap for group"}),(0,a.withDirectives)((0,a.createVNode)(l,{icon:"close",flat:"",round:"",dense:"",class:"q-ma-md absolute-top-right"},null,512),[[f]]),(0,a.createElementVNode)("div",P,[(0,a.createElementVNode)("div",F,[(0,a.createVNode)(r,{name:"mdi-thumb-up",class:"q-mr-sm"}),(0,a.createTextVNode)(" +"+(0,a.toDisplayString)(e.clap_amount),1)]),(0,a.createVNode)(u,{modelValue:e.clap_amount,"onUpdate:modelValue":t[0]||(t[0]=t=>e.clap_amount=t),min:1,max:1e5,"label-always":!1,label:!1,"label-color":"primary","label-value":e.clap_amount/1e4+" EOS/TLOS/WAX",color:"primary"},null,8,["modelValue","label-value"]),(0,a.createVNode)(p,{value:e.clap_amount/1e4,outlined:"",dense:"",readonly:!0},{append:(0,a.withCtx)((()=>[W])),_:1},8,["value"]),(0,a.createVNode)(l,{label:"clap",class:"q-mt-md full-width",color:"primary",onClick:e.transferClaps,loading:e.getIsTransacting},null,8,["onClick","loading"])])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}var X=o(33314);const Y=(0,a.defineComponent)({components:{pageHeader:X.Z},data(){return{clap_modal:!1,clap_amount:5e3}},computed:{...(0,A.Se)({getAccountName:"proton/getAccountName",getActiveGroup:"group/getActiveGroup",getActiveGroupConfig:"group/getActiveGroupConfig",getIsDark:"user/getIsDark",getAppConfig:"app/getAppConfig",getIsTransacting:"proton/getIsTransacting"})},methods:{openClapModal(){this.getAccountName&&(this.clap_modal=!0)},async transferClaps(){this.getAppConfig.groups_contract,this.getAccountName,this.getAccountName,this.getAppConfig.system_token.contract,Number(0).toFixed(this.getAppConfig.system_token.precision),this.getAppConfig.system_token.symbol;let e={account:"eosio.token",name:"transfer",data:{from:this.getAccountName,to:this.getAppConfig.groups_contract,quantity:`${(this.clap_amount/1e4).toFixed(4)} EOS/TLOS`,memo:`clap for group: ${this.getActiveGroup}`}},t=(this.getAppConfig.groups_contract,this.getAccountName,this.getActiveGroup,this.clap_amount,await this.$store.dispatch("proton/transact",{actions:[e],disable_signing_overlay:!0}));if(!t||!t.trxid)return!1;this.$store.commit("group/setClaps",this.getActiveGroupConfig.claps+this.clap_amount),this.clap_modal=!1,this.clap_amount=5e3}}});var J=o(83414),ee=o(52035),te=o(24554),oe=o(2350),ae=o(46778),ne=o(10151),ie=o(25589),ce=o(62064),re=o(64689),le=o(60677);const se=(0,L.Z)(Y,[["render",H]]),de=se;M()(Y,"components",{QItem:J.Z,QItemSection:ee.Z,QBtn:$.Z,QIcon:te.Z,QItemLabel:oe.Z,QDialog:ae.Z,QCard:ne.Z,QCardSection:ie.Z,QSlider:ce.Z,QInput:re.Z}),M()(Y,"directives",{ClosePopup:le.Z});var me=o(64834),ge=o(85054),ue=o(3573);const pe={key:0},Ce=(0,a.createTextVNode)("New Election");function he(e,t,o,n,i,c){const r=(0,a.resolveComponent)("q-icon"),l=(0,a.resolveComponent)("q-tooltip"),s=(0,a.resolveComponent)("q-item-section"),d=(0,a.resolveComponent)("q-item-label"),m=(0,a.resolveComponent)("q-linear-progress"),g=(0,a.resolveComponent)("q-btn"),u=(0,a.resolveComponent)("q-item");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createVNode)(u,{clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(r,{name:"mdi-alarm-multiple",color:"primary",size:"xl"}),(0,a.createVNode)(l,{class:"bg-secondary",delay:500,anchor:"center right",self:"center left",offset:[10,10]},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",null,"Total Election Count: "+(0,a.toDisplayString)(e.getElectionsState.election_count),1),e.computedNewElectionStats?((0,a.openBlock)(),(0,a.createElementBlock)("div",pe," New Election "+(0,a.toDisplayString)(e.secondsToDhms(e.computedNewElectionStats.time_left/1e3)||"NOW"),1)):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"text-weight-light text-h5 text-grey-7"},{default:(0,a.withCtx)((()=>[Ce])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[e.computedNewElectionStats?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,value:e.computedNewElectionStats.perc/100,size:"10px",color:"primary"},null,8,["value"])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1}),(0,a.createVNode)(s,{side:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{label:"new",color:"primary",onClick:e.newElection,class:(0,a.normalizeClass)(e.enable_new_election_btn?"pulse":""),loading:e.is_transacting,disabled:!e.enable_new_election_btn},null,8,["onClick","class","loading","disabled"])])),_:1})])),_:1})])}var _e=o(16336);const fe=(0,a.defineComponent)({data(){return{is_transacting:!1,enable_new_election_btn:!1}},computed:{...(0,A.Se)({getAccountName:"proton/getAccountName",getElectionsContract:"elections/getElectionsContract",getElectionsState:"elections/getElectionsState",getElectionsConfig:"elections/getElectionsConfig",getActiveGroup:"group/getActiveGroup",getIsTransacting:"proton/getIsTransacting",getCLOCK:"app/getCLOCK"}),computedNewElectionStats(){let e=this.getCLOCK;if(this.getElectionsConfig&&this.getElectionsState){let t={last_election_date:this.getElectionsState.last_election,last_election_ms:new Date(this.getElectionsState.last_election+".000+00:00").getTime(),election_period_ms:1e3*this.getElectionsConfig.election_period_sec},o=t.last_election_ms+t.election_period_ms,a=o-e;return t.time_left=a,t.perc=a/t.election_period_ms*100,t.perc=t.perc>=0?t.perc:0,0==t.perc?this.enable_new_election_btn=!0:this.enable_new_election_btn=!1,t}return!1}},methods:{secondsToDhms:_e.YE,async newElection(){this.is_transacting=!0;let e={account:this.getElectionsContract,name:"newelection",data:{actor:this.getAccountName}},t=await this.$store.dispatch("proton/transact",{actions:[e],disable_signing_overlay:!0});t&&t.trxid&&setTimeout((()=>{this.$store.dispatch("group/loadGroupRoutine",{groupname:this.getActiveGroup,vm:this}),this.$store.dispatch("elections/loadElectionsRoutine",{vm:this})}),1e3),this.is_transacting=!1}},mounted(){this.getElectionsState?this.loading_config_state=!0:setTimeout((async()=>{this.$store.dispatch("elections/loadElectionsRoutine",{vm:this}),this.loading_config_state=!1}),1e3),this.CLOCK_TIMER&&this.getCLOCK||(this.$store.commit("app/setCLOCK",Date.now()),this.CLOCK_TIMER=setInterval((()=>{this.$store.commit("app/setCLOCK",Date.now())}),1e3))},beforeDestroy(){clearInterval(this.CLOCK_TIMER),this.CLOCK_TIMER=null}});var ve=o(5363),Ne=o(51598);const xe=(0,L.Z)(fe,[["render",he]]),Ve=xe;M()(fe,"components",{QItem:J.Z,QItemSection:ee.Z,QIcon:te.Z,QTooltip:ve.Z,QItemLabel:oe.Z,QLinearProgress:Ne.Z,QBtn:$.Z});var we=o(72663);const ke=(0,a.defineComponent)({name:"PageIndex",components:{updateLogo:z,groupTags:R.Z,groupLinks:U.Z,clapForGroup:de,groupNotificationManager:me.Z,newElectionTimer:Ve,dateString:ge.Z,explorerLink:ue.Z},data(){return{agree_terms:!1,is_transacting:!1}},computed:{...(0,A.Se)({getAccountName:"proton/getAccountName",getActiveGroup:"group/getActiveGroup",getActiveGroupConfig:"group/getActiveGroupConfig",getCoreConfig:"group/getCoreConfig",getCoreState:"group/getCoreState",getNumberGuardians:"group/getNumberGuardians",getSelectedBlockExplorer:"user/getSelectedBlockExplorer",getElectionsContract:"elections/getElectionsContract",getElectionsState:"elections/getElectionsState",getIsGuardian:"group/getIsGuardian",getIsMember:"user/getIsMember"}),allowed_to_edit(){return!!this.getIsGuardian(this.getAccountName)}},methods:{openURL:S.Z,async regmember(){if(this.getCoreConfig.conf.userterms&&!this.agree_terms)return void(0,we.cB)({message:"Please agree to the terms to become a member."});let e={account:this.getActiveGroup,name:"regmember",data:{actor:this.getAccountName}},t={account:this.getActiveGroup,name:"signuserterm",data:{member:this.getAccountName,agree_terms:this.agree_terms}},o=[e];this.getCoreConfig.conf.userterms&&o.push(t),this.is_transacting=!0;let a=await this.$store.dispatch("proton/transact",{actions:o,disable_signing_overlay:!0});if(a&&a.trxid){let e=this.getLatestUserterms&&this.getLatestUserterms.id&&this.agree_terms?this.getLatestUserterms.id:0;this.$store.commit("user/setIsMember",{account:this.getAccountName,member_since:a.block_time,agreed_userterms_version:e})}this.is_transacting=!1},async unregmember(){let e={account:this.getActiveGroup,name:"unregmember",data:{actor:this.getAccountName}};this.is_transacting=!0;let t=await this.$store.dispatch("proton/transact",{actions:[e],disable_signing_overlay:!0});t&&t.trxid&&this.$store.commit("user/setIsMember",!1),this.is_transacting=!1}}});var ye=o(24379),be=o(65735);const Ee=(0,L.Z)(ke,[["render",E]]),Ae=Ee;M()(ke,"components",{QPage:ye.Z,QCard:ne.Z,QCardSection:ie.Z,QItem:J.Z,QItemSection:ee.Z,QItemLabel:oe.Z,QCheckbox:be.Z,QBtn:$.Z,QIcon:te.Z,QTooltip:ve.Z})}}]);