(self["webpackChunkthedaoscapefrontend"]=self["webpackChunkthedaoscapefrontend"]||[]).push([[9432],{51365:(t,e,r)=>{"use strict";var i=r(14244)["Buffer"],n=r(40019),o=Object.create,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyNames,l=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,h=(t,e)=>{for(var r in e)s(t,r,{get:e[r],enumerable:!0})},d=(t,e,r,i)=>{if(e&&"object"===typeof e||"function"===typeof e)for(let n of c(e))u.call(t,n)||n===r||s(t,n,{get:()=>e[n],enumerable:!(i=a(e,n))||i.enumerable});return t},p=(t,e,r)=>(r=null!=t?o(l(t)):{},d(!e&&t&&t.__esModule?r:s(r,"default",{value:t,enumerable:!0}),t)),f=t=>d(s({},"__esModule",{value:!0}),t),m={};h(m,{Api:()=>Be,ApiInterfaces:()=>xe,JsSignatureProvider:()=>Qe,JsonRpc:()=>Ce,Key:()=>ce,Numeric:()=>b,RpcError:()=>Se,RpcInterfaces:()=>Ie,Serialize:()=>v,WebAuthnSignatureProvider:()=>Te,default:()=>Re,digestFromSerializedData:()=>be,sha256:()=>de}),t.exports=f(m);var y=r(75421),g=r(14306),w=p(r(18787)),v={};h(v,{SerialBuffer:()=>nt,SerializerState:()=>it,arrayToHex:()=>mt,b64tob64u:()=>oe,blockTimestampToDate:()=>dt,createAbiTypes:()=>Mt,createBaseResolvedTransaction:()=>se,createInitialTypes:()=>It,createTransactionExtensionTypes:()=>Tt,createTransactionTypes:()=>Rt,dateToBlockTimestamp:()=>ht,dateToTimePoint:()=>at,dateToTimePointSec:()=>lt,deserializeAction:()=>qt,deserializeActionData:()=>Vt,deserializeAnyArray:()=>Yt,deserializeAnyObject:()=>Gt,deserializeAnyvar:()=>Kt,deserializeAnyvarShort:()=>Zt,getType:()=>zt,getTypesFromAbi:()=>Pt,hexToUint8Array:()=>yt,serializeAction:()=>$t,serializeActionData:()=>Jt,serializeAnyArray:()=>Xt,serializeAnyObject:()=>Ht,serializeAnyvar:()=>Wt,serializeQuery:()=>ne,stringToSymbol:()=>pt,supportedAbiVersion:()=>ot,symbolToString:()=>ft,timePointSecToDate:()=>ut,timePointToDate:()=>ct,transactionHeader:()=>jt});var b={};h(b,{KeyType:()=>P,base58ToBinary:()=>T,base64ToBinary:()=>z,binaryToBase58:()=>R,binaryToDecimal:()=>C,convertLegacyPublicKey:()=>H,convertLegacyPublicKeys:()=>G,decimalToBinary:()=>L,isNegative:()=>N,negate:()=>A,privateKeyDataSize:()=>j,privateKeyToLegacyString:()=>Y,privateKeyToString:()=>tt,publicKeyDataSize:()=>O,publicKeyToLegacyString:()=>K,publicKeyToString:()=>Z,signatureDataSize:()=>J,signatureToString:()=>rt,signedBinaryToDecimal:()=>I,signedDecimalToBinary:()=>D,stringToPrivateKey:()=>X,stringToPublicKey:()=>W,stringToSignature:()=>et});var Q=r(46251),B=p(r(14704)),E=B.default.hash,_="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x=()=>{const t=Array(256).fill(-1);for(let e=0;e<_.length;++e)t[_.charCodeAt(e)]=e;return t},S=x(),F=()=>{const t=Array(256).fill(-1);for(let e=0;e<U.length;++e)t[U.charCodeAt(e)]=e;return t["=".charCodeAt(0)]=0,t},k=F(),N=t=>0!==(128&t[t.length-1]),A=t=>{let e=1;for(let r=0;r<t.length;++r){const i=(255&~t[r])+e;t[r]=i,e=i>>8}},L=(t,e)=>{const r=new Uint8Array(t);for(let i=0;i<e.length;++i){const n=e.charCodeAt(i);if(n<"0".charCodeAt(0)||n>"9".charCodeAt(0))throw new Error("invalid number");let o=n-"0".charCodeAt(0);for(let e=0;e<t;++e){const t=10*r[e]+o;r[e]=t,o=t>>8}if(o)throw new Error("number is out of range")}return r},D=(t,e)=>{const r="-"===e[0];r&&(e=e.substr(1));const i=L(t,e);if(r){if(A(i),!N(i))throw new Error("number is out of range")}else if(N(i))throw new Error("number is out of range");return i},C=(t,e=1)=>{const r=Array(e).fill("0".charCodeAt(0));for(let i=t.length-1;i>=0;--i){let e=t[i];for(let t=0;t<r.length;++t){const i=(r[t]-"0".charCodeAt(0)<<8)+e;r[t]="0".charCodeAt(0)+i%10,e=i/10|0}while(e)r.push("0".charCodeAt(0)+e%10),e=e/10|0}return r.reverse(),String.fromCharCode(...r)},I=(t,e=1)=>{if(N(t)){const r=t.slice();return A(r),"-"+C(r,e)}return C(t,e)},M=t=>{const e=[];for(let r=0;r<t.length;++r){let i=S[t.charCodeAt(r)];if(i<0)throw new Error("invalid base-58 value");for(let t=0;t<e.length;++t){const r=58*e[t]+i;e[t]=255&r,i=r>>8}i&&e.push(i)}for(const r of t){if("1"!==r)break;e.push(0)}return e.reverse(),new Uint8Array(e)},T=(t,e)=>{if(!t)return M(e);const r=new Uint8Array(t);for(let i=0;i<e.length;++i){let n=S[e.charCodeAt(i)];if(n<0)throw new Error("invalid base-58 value");for(let e=0;e<t;++e){const t=58*r[e]+n;r[e]=t,n=t>>8}if(n)throw new Error("base-58 value is out of range")}return r.reverse(),r},R=t=>{const e=[];for(const r of t){let t=r;for(let r=0;r<e.length;++r){const i=(S[e[r]]<<8)+t;e[r]=_.charCodeAt(i%58),t=i/58|0}while(t)e.push(_.charCodeAt(t%58)),t=t/58|0}for(const r of t){if(r)break;e.push("1".charCodeAt(0))}return e.reverse(),String.fromCharCode(...e)},z=t=>{let e=t.length;if(1===(3&e)&&"="===t[e-1]&&(e-=1),0!==(3&e))throw new Error("base-64 value is not padded correctly");const r=e>>2;let i=3*r;e>0&&"="===t[e-1]&&("="===t[e-2]?i-=2:i-=1);const n=new Uint8Array(i);for(let o=0;o<r;++o){const e=k[t.charCodeAt(4*o+0)],r=k[t.charCodeAt(4*o+1)],s=k[t.charCodeAt(4*o+2)],a=k[t.charCodeAt(4*o+3)];n[3*o+0]=e<<2|r>>4,3*o+1<i&&(n[3*o+1]=(15&r)<<4|s>>2),3*o+2<i&&(n[3*o+2]=(3&s)<<6|a)}return n},P=(t=>(t[t["k1"]=0]="k1",t[t["r1"]=1]="r1",t[t["wa"]=2]="wa",t[t["rsa"]=100]="rsa",t[t["eth"]=101]="eth",t))(P||{}),O=33,j=32,J=65,$=(t,e)=>{const r=new Uint8Array(t.length+e.length);for(let i=0;i<t.length;++i)r[i]=t[i];for(let i=0;i<e.length;++i)r[t.length+i]=e.charCodeAt(i);return E(r)},V=(t,e,r,i)=>{const n=T(r?r+4:0,t),o={type:e,data:new Uint8Array(n.buffer,0,n.length-4)},s=new Uint8Array($(o.data,i));if(s[0]!==n[n.length-4]||s[1]!==n[n.length-3]||s[2]!==n[n.length-2]||s[3]!==n[n.length-1])throw new Error("checksum doesn't match");return o},q=(t,e,r)=>{const i=new Uint8Array($(t.data,e)),n=new Uint8Array(t.data.length+4);for(let o=0;o<t.data.length;++o)n[o]=t.data[o];for(let o=0;o<4;++o)n[o+t.data.length]=i[o];return r+R(n)},W=(t,e="EOS")=>{if("string"!==typeof t)throw new Error("expected string containing public key");if(t.substr(0,3)===e){const e=T(O+4,t.substr(3)),r={type:0,data:new Uint8Array(O)};for(let t=0;t<O;++t)r.data[t]=e[t];const i=new Uint8Array(E(r.data));if(i[0]!==e[O]||i[1]!==e[34]||i[2]!==e[35]||i[3]!==e[36])throw new Error("checksum doesn't match");return r}if("PUB_K1_"===t.substr(0,7))return V(t.substr(7),0,O,"K1");if("PUB_R1_"===t.substr(0,7))return V(t.substr(7),1,O,"R1");if("PUB_WA_"===t.substr(0,7))return V(t.substr(7),2,0,"WA");throw new Error("unrecognized public key format")},K=(t,e="EOS")=>{if(0===t.type&&t.data.length===O)return q(t,"",e);throw 1===t.type||2===t.type?new Error("Key format not supported in legacy conversion"):new Error("unrecognized public key format")},Z=t=>{if(0===t.type&&t.data.length===O)return q(t,"K1","PUB_K1_");if(1===t.type&&t.data.length===O)return q(t,"R1","PUB_R1_");if(2===t.type)return q(t,"WA","PUB_WA_");throw new Error("unrecognized public key format")},H=(t,e="EOS")=>t.substr(0,3)===e?Z(W(t,e)):t,G=(t,e="EOS")=>t.map((t=>H(t,e))),X=t=>{if("string"!==typeof t)throw new Error("expected string containing private key");if("PVT_R1_"===t.substr(0,7))return V(t.substr(7),1,j,"R1");if("PVT_K1_"===t.substr(0,7))return V(t.substr(7),0,j,"K1");{const e=T(j+5,t),r={type:0,data:new Uint8Array(j)};if(128!==e[0])throw new Error("unrecognized private key type");for(let t=0;t<j;++t)r.data[t]=e[t+1];return r}},Y=t=>{if(0===t.type&&t.data.length===j){const e=[];e.push(128),t.data.forEach((t=>e.push(t)));const r=new Uint8Array((0,Q.sha256)().update((0,Q.sha256)().update(e).digest()).digest()),i=new Uint8Array(j+5);for(let t=0;t<e.length;t++)i[t]=e[t];for(let t=0;t<4;t++)i[t+e.length]=r[t];return R(i)}throw 1===t.type||2===t.type?new Error("Key format not supported in legacy conversion"):new Error("unrecognized public key format")},tt=t=>{if(1===t.type)return q(t,"R1","PVT_R1_");if(0===t.type)return q(t,"K1","PVT_K1_");throw new Error("unrecognized private key format")},et=t=>{if("string"!==typeof t)throw new Error("expected string containing signature");if("SIG_K1_"===t.substr(0,7))return V(t.substr(7),0,J,"K1");if("SIG_R1_"===t.substr(0,7))return V(t.substr(7),1,J,"R1");if("SIG_WA_"===t.substr(0,7))return V(t.substr(7),2,0,"WA");throw new Error("unrecognized signature format")},rt=t=>{if(0===t.type)return q(t,"K1","SIG_K1_");if(1===t.type)return q(t,"R1","SIG_R1_");if(2===t.type)return q(t,"WA","SIG_WA_");throw new Error("unrecognized signature format")},it=(r(96222),class{constructor(t={}){this.skippedBinaryExtension=!1,this.options=t}}),nt=class{constructor({array:t,textEncoder:e,textDecoder:r}={}){this.readPos=0,this.array=t||new Uint8Array(1024),this.length=t?t.length:0,this.textEncoder=e||new TextEncoder,this.textDecoder=r||new TextDecoder("utf-8")}reserve(t){if(this.length+t<=this.array.length)return;let e=this.array.length;while(this.length+t>e)e=Math.ceil(1.5*e);const r=new Uint8Array(e);r.set(this.array),this.array=r}haveReadData(){return this.readPos<this.length}restartRead(){this.readPos=0}asUint8Array(){return new Uint8Array(this.array.buffer,this.array.byteOffset,this.length)}pushArray(t){this.reserve(t.length),this.array.set(t,this.length),this.length+=t.length}push(...t){this.pushArray(t)}get(){if(this.readPos<this.length)return this.array[this.readPos++];throw new Error("Read past end of buffer")}pushUint8ArrayChecked(t,e){if(t.length!==e)throw new Error("Binary data has incorrect size");this.pushArray(t)}getUint8Array(t){if(this.readPos+t>this.length)throw new Error("Read past end of buffer");const e=new Uint8Array(this.array.buffer,this.array.byteOffset+this.readPos,t);return this.readPos+=t,e}skip(t){if(this.readPos+t>this.length)throw new Error("Read past end of buffer");this.readPos+=t}pushUint16(t){this.push(t>>0&255,t>>8&255)}getUint16(){let t=0;return t|=this.get()<<0,t|=this.get()<<8,t}pushUint32(t){this.push(t>>0&255,t>>8&255,t>>16&255,t>>24&255)}getUint32(){let t=0;return t|=this.get()<<0,t|=this.get()<<8,t|=this.get()<<16,t|=this.get()<<24,t>>>0}pushNumberAsUint64(t){this.pushUint32(t>>>0),this.pushUint32(Math.floor(t/4294967296)>>>0)}getUint64AsNumber(){const t=this.getUint32(),e=this.getUint32();return 4294967296*(e>>>0)+(t>>>0)}pushVaruint32(t){while(1){if(!(t>>>7)){this.push(t);break}this.push(128|127&t),t>>>=7}}getVaruint32(){let t=0,e=0;while(1){const r=this.get();if(t|=(127&r)<<e,e+=7,!(128&r))break}return t>>>0}pushVarint32(t){this.pushVaruint32(t<<1^t>>31)}getVarint32(){const t=this.getVaruint32();return 1&t?~t>>1|2147483648:t>>>1}pushFloat32(t){this.pushArray(new Uint8Array(new Float32Array([t]).buffer))}getFloat32(){return new Float32Array(this.getUint8Array(4).slice().buffer)[0]}pushFloat64(t){this.pushArray(new Uint8Array(new Float64Array([t]).buffer))}getFloat64(){return new Float64Array(this.getUint8Array(8).slice().buffer)[0]}pushName(t){if("string"!==typeof t)throw new Error("Expected string containing name");const e=new RegExp(/^[.1-5a-z]{0,12}[.1-5a-j]?$/);if(!e.test(t))throw new Error("Name should be less than 13 characters, or less than 14 if last character is between 1-5 or a-j, and only contain the following symbols .12345abcdefghijklmnopqrstuvwxyz");const r=t=>t>="a".charCodeAt(0)&&t<="z".charCodeAt(0)?t-"a".charCodeAt(0)+6:t>="1".charCodeAt(0)&&t<="5".charCodeAt(0)?t-"1".charCodeAt(0)+1:0,i=new Uint8Array(8);let n=63;for(let o=0;o<t.length;++o){let e=r(t.charCodeAt(o));n<5&&(e<<=1);for(let t=4;t>=0;--t)n>=0&&(i[Math.floor(n/8)]|=(e>>t&1)<<n%8,--n)}this.pushArray(i)}getName(){const t=this.getUint8Array(8);let e="";for(let r=63;r>=0;){let i=0;for(let e=0;e<5;++e)r>=0&&(i=i<<1|t[Math.floor(r/8)]>>r%8&1,--r);e+=i>=6?String.fromCharCode(i+"a".charCodeAt(0)-6):i>=1?String.fromCharCode(i+"1".charCodeAt(0)-1):"."}while(e.endsWith("."))e=e.substr(0,e.length-1);return e}pushBytes(t){this.pushVaruint32(t.length),this.pushArray(t)}getBytes(){return this.getUint8Array(this.getVaruint32())}pushString(t){this.pushBytes(this.textEncoder.encode(t))}getString(){return this.textDecoder.decode(this.getBytes())}pushSymbolCode(t){if("string"!==typeof t)throw new Error("Expected string containing symbol_code");const e=[];e.push(...this.textEncoder.encode(t));while(e.length<8)e.push(0);this.pushArray(e.slice(0,8))}getSymbolCode(){const t=this.getUint8Array(8);let e;for(e=0;e<t.length;++e)if(!t[e])break;const r=this.textDecoder.decode(new Uint8Array(t.buffer,t.byteOffset,e));return r}pushSymbol({name:t,precision:e}){if(!/^[A-Z]{1,7}$/.test(t))throw new Error("Expected symbol to be A-Z and between one and seven characters");const r=[255&e];r.push(...this.textEncoder.encode(t));while(r.length<8)r.push(0);this.pushArray(r.slice(0,8))}getSymbol(){const t=this.get(),e=this.getUint8Array(7);let r;for(r=0;r<e.length;++r)if(!e[r])break;const i=this.textDecoder.decode(new Uint8Array(e.buffer,e.byteOffset,r));return{name:i,precision:t}}pushAsset(t){if("string"!==typeof t)throw new Error("Expected string containing asset");t=t.trim();let e=0,r="",i=0;"-"===t[e]&&(r+="-",++e);let n=!1;while(e<t.length&&t.charCodeAt(e)>="0".charCodeAt(0)&&t.charCodeAt(e)<="9".charCodeAt(0))n=!0,r+=t[e],++e;if(!n)throw new Error("Asset must begin with a number");if("."===t[e]){++e;while(e<t.length&&t.charCodeAt(e)>="0".charCodeAt(0)&&t.charCodeAt(e)<="9".charCodeAt(0))r+=t[e],++i,++e}const o=t.substr(e).trim();this.pushArray(D(8,r)),this.pushSymbol({name:o,precision:i})}getAsset(){const t=this.getUint8Array(8),{name:e,precision:r}=this.getSymbol();let i=I(t,r+1);return r&&(i=i.substr(0,i.length-r)+"."+i.substr(i.length-r)),i+" "+e}pushPublicKey(t){const e=W(t);this.push(e.type),this.pushArray(e.data)}getPublicKey(){const t=this.get();let e;if(2===t){const t=this.readPos;this.skip(34),this.skip(this.getVaruint32()),e=new Uint8Array(this.array.buffer,this.array.byteOffset+t,this.readPos-t)}else e=this.getUint8Array(O);return Z({type:t,data:e})}pushPrivateKey(t){const e=X(t);this.push(e.type),this.pushArray(e.data)}getPrivateKey(){const t=this.get(),e=this.getUint8Array(j);return tt({type:t,data:e})}pushSignature(t){const e=et(t);this.push(e.type),this.pushArray(e.data)}getSignature(){const t=this.get();let e;if(2===t){const t=this.readPos;this.skip(65),this.skip(this.getVaruint32()),this.skip(this.getVaruint32()),e=new Uint8Array(this.array.buffer,this.array.byteOffset+t,this.readPos-t)}else e=this.getUint8Array(J);return rt({type:t,data:e})}},ot=t=>t.startsWith("eosio::abi/1."),st=t=>{const e=Date.parse(t);if(Number.isNaN(e))throw new Error("Invalid time format");return e},at=t=>Math.round(1e3*st(t+"Z")),ct=t=>{const e=new Date(t/1e3).toISOString();return e.substr(0,e.length-1)},lt=t=>Math.round(st(t+"Z")/1e3),ut=t=>{const e=new Date(1e3*t).toISOString();return e.substr(0,e.length-1)},ht=t=>Math.round((st(t+"Z")-9466848e5)/500),dt=t=>{const e=new Date(500*t+9466848e5).toISOString();return e.substr(0,e.length-1)},pt=t=>{if("string"!==typeof t)throw new Error("Expected string containing symbol");const e=t.match(/^([0-9]+),([A-Z]+)$/);if(!e)throw new Error("Invalid symbol");return{name:e[2],precision:+e[1]}},ft=({name:t,precision:e})=>e+","+t,mt=t=>{let e="";for(const r of t)e+=("00"+r.toString(16)).slice(-2);return e.toUpperCase()},yt=t=>{if("string"!==typeof t)throw new Error("Expected string containing hex digits");if(t.length%2)throw new Error("Odd number of hex digits");const e=t.length/2,r=new Uint8Array(e);for(let i=0;i<e;++i){const e=parseInt(t.substr(2*i,2),16);if(Number.isNaN(e))throw new Error("Expected hex string");r[i]=e}return r};function gt(t,e){throw new Error("Don't know how to serialize "+this.name)}function wt(t){throw new Error("Don't know how to deserialize "+this.name)}function vt(t,e,r=new it,i=!0){if("object"!==typeof e)throw new Error("expected object containing data: "+JSON.stringify(e));this.base&&this.base.serialize(t,e,r,i);for(const n of this.fields)if(n.name in e){if(r.skippedBinaryExtension)throw new Error("unexpected "+this.name+"."+n.name);n.type.serialize(t,e[n.name],r,i&&n===this.fields[this.fields.length-1])}else{if(!i||!n.type.extensionOf)throw new Error("missing "+this.name+"."+n.name+" (type="+n.type.name+")");r.skippedBinaryExtension=!0}}function bt(t,e=new it,r=!0){let i;i=this.base?this.base.deserialize(t,e,r):{};for(const n of this.fields)r&&n.type.extensionOf&&!t.haveReadData()?e.skippedBinaryExtension=!0:i[n.name]=n.type.deserialize(t,e,r);return i}function Qt(t,e,r,i){if(!Array.isArray(e)||2!==e.length||"string"!==typeof e[0])throw new Error('expected variant: ["type", value]');const n=this.fields.findIndex((t=>t.name===e[0]));if(n<0)throw new Error(`type "${e[0]}" is not valid for variant`);t.pushVaruint32(n),this.fields[n].type.serialize(t,e[1],r,i)}function Bt(t,e,r){const i=t.getVaruint32();if(i>=this.fields.length)throw new Error(`type index ${i} is not valid for variant`);const n=this.fields[i];return[n.name,n.type.deserialize(t,e,r)]}function Et(t,e,r,i){t.pushVaruint32(e.length);for(const n of e)this.arrayOf.serialize(t,n,r,!1)}function _t(t,e,r){const i=t.getVaruint32(),n=[];for(let o=0;o<i;++o)n.push(this.arrayOf.deserialize(t,e,!1));return n}function Ut(t,e,r,i){null===e||void 0===e?t.push(0):(t.push(1),this.optionalOf.serialize(t,e,r,i))}function xt(t,e,r){return t.get()?this.optionalOf.deserialize(t,e,r):null}function St(t,e,r,i){this.extensionOf.serialize(t,e,r,i)}function Ft(t,e,r){return this.extensionOf.deserialize(t,e,r)}function kt(t,e,r,i){const n=Object.entries(e);t.pushVaruint32(n.length);for(const[o,s]of n){const e=this.fields[0].type,n=this.fields[1].type;e.serialize(t,o,r,i),n.serialize(t,s,r,i)}}function Nt(t,e,r){const i=t.getVaruint32(),n={};for(let o=0;o<i;++o){const i=this.fields[0].type,o=this.fields[1].type,s=i.deserialize(t,e,r);n[s]=o.deserialize(t,e,r)}return n}function At(t,e,r,i){t.pushVaruint32(e.length),e.forEach((e=>{this.fields[0].type.serialize(t,e[0],r,i),this.fields[1].type.serialize(t,e[1],r,i)}))}function Lt(t,e,r){const i=[],n=t.getVaruint32();for(let o=0;o<n;++o)i.push(this.fields[0].type.deserialize(t,e,r)),i.push(this.fields[1].type.deserialize(t,e,r));return i}var Dt=t=>({name:"<missing name>",aliasOfName:"",arrayOf:void 0,optionalOf:void 0,extensionOf:void 0,baseName:"",base:void 0,fields:[],serialize:gt,deserialize:wt,...t}),Ct=(t,e)=>{if(Number.isNaN(+t)||Number.isNaN(+e)||"number"!==typeof t&&"string"!==typeof t)throw new Error("Expected number");if(+t!==+e)throw new Error("Number is out of range");return+t},It=()=>{const t=new Map(Object.entries({bool:Dt({name:"bool",serialize:(t,e)=>{if("boolean"!==typeof e&&("number"!==typeof e||1!==e&&0!==e))throw new Error("Expected boolean or number equal to 1 or 0");t.push(e?1:0)},deserialize:t=>!!t.get()}),uint8:Dt({name:"uint8",serialize:(t,e)=>{t.push(Ct(e,255&e))},deserialize:t=>t.get()}),int8:Dt({name:"int8",serialize:(t,e)=>{t.push(Ct(e,e<<24>>24))},deserialize:t=>t.get()<<24>>24}),uint16:Dt({name:"uint16",serialize:(t,e)=>{t.pushUint16(Ct(e,65535&e))},deserialize:t=>t.getUint16()}),int16:Dt({name:"int16",serialize:(t,e)=>{t.pushUint16(Ct(e,e<<16>>16))},deserialize:t=>t.getUint16()<<16>>16}),uint32:Dt({name:"uint32",serialize:(t,e)=>{t.pushUint32(Ct(e,e>>>0))},deserialize:t=>t.getUint32()}),uint64:Dt({name:"uint64",serialize:(t,e)=>{t.pushArray(L(8,""+e))},deserialize:t=>C(t.getUint8Array(8))}),int64:Dt({name:"int64",serialize:(t,e)=>{t.pushArray(D(8,""+e))},deserialize:t=>I(t.getUint8Array(8))}),int32:Dt({name:"int32",serialize:(t,e)=>{t.pushUint32(Ct(e,0|e))},deserialize:t=>0|t.getUint32()}),varuint32:Dt({name:"varuint32",serialize:(t,e)=>{t.pushVaruint32(Ct(e,e>>>0))},deserialize:t=>t.getVaruint32()}),varint32:Dt({name:"varint32",serialize:(t,e)=>{t.pushVarint32(Ct(e,0|e))},deserialize:t=>t.getVarint32()}),uint128:Dt({name:"uint128",serialize:(t,e)=>{t.pushArray(L(16,""+e))},deserialize:t=>C(t.getUint8Array(16))}),int128:Dt({name:"int128",serialize:(t,e)=>{t.pushArray(D(16,""+e))},deserialize:t=>I(t.getUint8Array(16))}),float32:Dt({name:"float32",serialize:(t,e)=>{t.pushFloat32(e)},deserialize:t=>t.getFloat32()}),float64:Dt({name:"float64",serialize:(t,e)=>{t.pushFloat64(e)},deserialize:t=>t.getFloat64()}),float128:Dt({name:"float128",serialize:(t,e)=>{t.pushUint8ArrayChecked(yt(e),16)},deserialize:t=>mt(t.getUint8Array(16))}),bytes:Dt({name:"bytes",serialize:(t,e)=>{e instanceof Uint8Array||Array.isArray(e)?t.pushBytes(e):t.pushBytes(yt(e))},deserialize:(t,e)=>e&&e.options.bytesAsUint8Array?t.getBytes():mt(t.getBytes())}),string:Dt({name:"string",serialize:(t,e)=>{t.pushString(e)},deserialize:t=>t.getString()}),name:Dt({name:"name",serialize:(t,e)=>{t.pushName(e)},deserialize:t=>t.getName()}),time_point:Dt({name:"time_point",serialize:(t,e)=>{t.pushNumberAsUint64(at(e))},deserialize:t=>ct(t.getUint64AsNumber())}),time_point_sec:Dt({name:"time_point_sec",serialize:(t,e)=>{t.pushUint32(lt(e))},deserialize:t=>ut(t.getUint32())}),block_timestamp_type:Dt({name:"block_timestamp_type",serialize:(t,e)=>{t.pushUint32(ht(e))},deserialize:t=>dt(t.getUint32())}),symbol_code:Dt({name:"symbol_code",serialize:(t,e)=>{t.pushSymbolCode(e)},deserialize:t=>t.getSymbolCode()}),symbol:Dt({name:"symbol",serialize:(t,e)=>{t.pushSymbol(pt(e))},deserialize:t=>ft(t.getSymbol())}),asset:Dt({name:"asset",serialize:(t,e)=>{t.pushAsset(e)},deserialize:t=>t.getAsset()}),checksum160:Dt({name:"checksum160",serialize:(t,e)=>{t.pushUint8ArrayChecked(yt(e),20)},deserialize:t=>mt(t.getUint8Array(20))}),checksum256:Dt({name:"checksum256",serialize:(t,e)=>{t.pushUint8ArrayChecked(yt(e),32)},deserialize:t=>mt(t.getUint8Array(32))}),checksum512:Dt({name:"checksum512",serialize:(t,e)=>{t.pushUint8ArrayChecked(yt(e),64)},deserialize:t=>mt(t.getUint8Array(64))}),public_key:Dt({name:"public_key",serialize:(t,e)=>{t.pushPublicKey(e)},deserialize:t=>t.getPublicKey()}),private_key:Dt({name:"private_key",serialize:(t,e)=>{t.pushPrivateKey(e)},deserialize:t=>t.getPrivateKey()}),signature:Dt({name:"signature",serialize:(t,e)=>{t.pushSignature(e)},deserialize:t=>t.getSignature()})}));return t.set("extended_asset",Dt({name:"extended_asset",baseName:"",fields:[{name:"quantity",typeName:"asset",type:t.get("asset")},{name:"contract",typeName:"name",type:t.get("name")}],serialize:vt,deserialize:bt})),t},Mt=()=>{const t=It();return t.set("extensions_entry",Dt({name:"extensions_entry",baseName:"",fields:[{name:"tag",typeName:"uint16",type:void 0},{name:"value",typeName:"bytes",type:void 0}],serialize:vt,deserialize:bt})),t.set("type_def",Dt({name:"type_def",baseName:"",fields:[{name:"new_type_name",typeName:"string",type:void 0},{name:"type",typeName:"string",type:void 0}],serialize:vt,deserialize:bt})),t.set("field_def",Dt({name:"field_def",baseName:"",fields:[{name:"name",typeName:"string",type:void 0},{name:"type",typeName:"string",type:void 0}],serialize:vt,deserialize:bt})),t.set("struct_def",Dt({name:"struct_def",baseName:"",fields:[{name:"name",typeName:"string",type:void 0},{name:"base",typeName:"string",type:void 0},{name:"fields",typeName:"field_def[]",type:void 0}],serialize:vt,deserialize:bt})),t.set("action_def",Dt({name:"action_def",baseName:"",fields:[{name:"name",typeName:"name",type:void 0},{name:"type",typeName:"string",type:void 0},{name:"ricardian_contract",typeName:"string",type:void 0}],serialize:vt,deserialize:bt})),t.set("table_def",Dt({name:"table_def",baseName:"",fields:[{name:"name",typeName:"name",type:void 0},{name:"index_type",typeName:"string",type:void 0},{name:"key_names",typeName:"string[]",type:void 0},{name:"key_types",typeName:"string[]",type:void 0},{name:"type",typeName:"string",type:void 0}],serialize:vt,deserialize:bt})),t.set("clause_pair",Dt({name:"clause_pair",baseName:"",fields:[{name:"id",typeName:"string",type:void 0},{name:"body",typeName:"string",type:void 0}],serialize:vt,deserialize:bt})),t.set("error_message",Dt({name:"error_message",baseName:"",fields:[{name:"error_code",typeName:"uint64",type:void 0},{name:"error_msg",typeName:"string",type:void 0}],serialize:vt,deserialize:bt})),t.set("variant_def",Dt({name:"variant_def",baseName:"",fields:[{name:"name",typeName:"string",type:void 0},{name:"types",typeName:"string[]",type:void 0}],serialize:vt,deserialize:bt})),t.set("action_result",Dt({name:"action_result",baseName:"",fields:[{name:"name",typeName:"name",type:void 0},{name:"result_type",typeName:"string",type:void 0}],serialize:vt,deserialize:bt})),t.set("primary_key_index_def",Dt({name:"primary_key_index_def",baseName:"",fields:[{name:"name",typeName:"name",type:void 0},{name:"type",typeName:"string",type:void 0}],serialize:vt,deserialize:bt})),t.set("secondary_index_def",Dt({name:"secondary_index_def",baseName:"",fields:[{name:"type",typeName:"string",type:void 0}],serialize:vt,deserialize:bt})),t.set("secondary_indices",Dt({name:"secondary_indices",baseName:"",fields:[{name:"name",typeName:"name",type:void 0},{name:"secondary_index_def",typeName:"secondary_index_def",type:void 0}],serialize:kt,deserialize:Nt})),t.set("kv_table_entry_def",Dt({name:"kv_table_entry_def",baseName:"",fields:[{name:"type",typeName:"string",type:void 0},{name:"primary_index",typeName:"primary_key_index_def",type:void 0},{name:"secondary_indices",typeName:"secondary_indices",type:void 0}],serialize:vt,deserialize:bt})),t.set("kv_table",Dt({name:"kv_table",baseName:"",fields:[{name:"name",typeName:"name",type:void 0},{name:"kv_table_entry_def",typeName:"kv_table_entry_def",type:void 0}],serialize:kt,deserialize:Nt})),t.set("abi_def",Dt({name:"abi_def",baseName:"",fields:[{name:"version",typeName:"string",type:void 0},{name:"types",typeName:"type_def[]",type:void 0},{name:"structs",typeName:"struct_def[]",type:void 0},{name:"actions",typeName:"action_def[]",type:void 0},{name:"tables",typeName:"table_def[]",type:void 0},{name:"ricardian_clauses",typeName:"clause_pair[]",type:void 0},{name:"error_messages",typeName:"error_message[]",type:void 0},{name:"abi_extensions",typeName:"extensions_entry[]",type:void 0},{name:"variants",typeName:"variant_def[]$",type:void 0},{name:"action_results",typeName:"action_result[]$",type:void 0},{name:"kv_tables",typeName:"kv_table$",type:void 0}],serialize:vt,deserialize:bt})),t},Tt=()=>{const t=It();return t.set("resource_payer",Dt({name:"resource_payer",baseName:"",fields:[{name:"payer",typeName:"name",type:void 0},{name:"max_net_bytes",typeName:"uint64",type:void 0},{name:"max_cpu_us",typeName:"uint64",type:void 0},{name:"max_memory_bytes",typeName:"uint64",type:void 0}],serialize:vt,deserialize:bt})),t},Rt=()=>{const t=It();return t.set("permission_level",Dt({name:"permission_level",baseName:"",fields:[{name:"actor",typeName:"name",type:void 0},{name:"permission",typeName:"name",type:void 0}],serialize:vt,deserialize:bt})),t.set("action",Dt({name:"action",baseName:"",fields:[{name:"account",typeName:"name",type:void 0},{name:"name",typeName:"name",type:void 0},{name:"authorization",typeName:"permission_level[]",type:void 0},{name:"data",typeName:"bytes",type:void 0}],serialize:vt,deserialize:bt})),t.set("extension",Dt({name:"extension",baseName:"",fields:[{name:"type",typeName:"uint16",type:void 0},{name:"data",typeName:"bytes",type:void 0}],serialize:At,deserialize:Lt})),t.set("transaction_header",Dt({name:"transaction_header",baseName:"",fields:[{name:"expiration",typeName:"time_point_sec",type:void 0},{name:"ref_block_num",typeName:"uint16",type:void 0},{name:"ref_block_prefix",typeName:"uint32",type:void 0},{name:"max_net_usage_words",typeName:"varuint32",type:void 0},{name:"max_cpu_usage_ms",typeName:"uint8",type:void 0},{name:"delay_sec",typeName:"varuint32",type:void 0}],serialize:vt,deserialize:bt})),t.set("transaction",Dt({name:"transaction",baseName:"transaction_header",fields:[{name:"context_free_actions",typeName:"action[]",type:void 0},{name:"actions",typeName:"action[]",type:void 0},{name:"transaction_extensions",typeName:"extension",type:void 0}],serialize:vt,deserialize:bt})),t},zt=(t,e)=>{const r=t.get(e);if(r&&r.aliasOfName)return zt(t,r.aliasOfName);if(r)return r;if(e.endsWith("[]"))return Dt({name:e,arrayOf:zt(t,e.substr(0,e.length-2)),serialize:Et,deserialize:_t});if(e.endsWith("?"))return Dt({name:e,optionalOf:zt(t,e.substr(0,e.length-1)),serialize:Ut,deserialize:xt});if(e.endsWith("$"))return Dt({name:e,extensionOf:zt(t,e.substr(0,e.length-1)),serialize:St,deserialize:Ft});throw new Error("Unknown type: "+e)},Pt=(t,e)=>{const r=new Map(t);if(e&&e.types)for(const{new_type_name:i,type:n}of e.types)r.set(i,Dt({name:i,aliasOfName:n}));if(e&&e.structs)for(const{name:i,base:n,fields:o}of e.structs)r.set(i,Dt({name:i,baseName:n,fields:o.map((({name:t,type:e})=>({name:t,typeName:e,type:void 0}))),serialize:vt,deserialize:bt}));if(e&&e.variants)for(const{name:i,types:n}of e.variants)r.set(i,Dt({name:i,fields:n.map((t=>({name:t,typeName:t,type:void 0}))),serialize:Qt,deserialize:Bt}));for(const[i,n]of r){n.baseName&&(n.base=zt(r,n.baseName));for(const t of n.fields)t.type=zt(r,t.typeName)}return r},Ot=t=>t.substr(6,2)+t.substr(4,2)+t.substr(2,2)+t.substr(0,2),jt=(t,e)=>{const r=t.header?t.header.timestamp:t.timestamp,i=parseInt(Ot(t.id.substr(16,8)),16);return{expiration:ut(lt(r)+e),ref_block_num:65535&t.block_num,ref_block_prefix:i}},Jt=(t,e,r,i)=>{const n=t.actions.get(r);if(!n)throw new Error(`Unknown action ${r} in contract ${e}`);const o=new nt;return n.serialize(o,i),mt(o.asUint8Array())},$t=(t,e,r,i,n)=>({account:e,name:r,authorization:i,data:Jt(t,e,r,n)}),Vt=(t,e,r,i)=>{const n=t.actions.get(r);if("string"===typeof i&&(i=yt(i)),!n)throw new Error(`Unknown action ${r} in contract ${e}`);const o=new nt;return o.pushArray(i),n.deserialize(o)},qt=(t,e,r,i,n)=>({account:e,name:r,authorization:i,data:Vt(t,e,r,n)}),Wt=(t,e)=>{let r,i;null===e?[r,i]=[re.null_t,e]:"string"===typeof e?[r,i]=[re.string,e]:"number"===typeof e?[r,i]=[re.int32,e]:e instanceof Uint8Array?[r,i]=[re.bytes,e]:Array.isArray(e)?[r,i]=[re.any_array,e]:2===Object.keys(e).length&&e.hasOwnProperty("type")&&e.hasOwnProperty("value")?[r,i]=[re[e.type],e.value]:[r,i]=[re.any_object,e],t.pushVaruint32(r.index),r.type.serialize(t,i)},Kt=(t,e)=>{const r=t.getVaruint32();if(r>=ie.length)throw new Error("Tried to deserialize unknown anyvar type");const i=ie[r],n=i.type.deserialize(t,e);return e&&e.options.useShortForm||i.useShortForm?n:{type:i.type.name,value:n}},Zt=t=>Kt(t,new it({useShortForm:!0})),Ht=(t,e)=>{const r=Object.entries(e);t.pushVaruint32(r.length);for(const[i,n]of r)t.pushString(i),Wt(t,n)},Gt=(t,e)=>{const r=t.getVaruint32(),i={};for(let n=0;n<r;++n){let r=t.getString();if(r in i){let t=1;while(r+"_"+t in i)++t;r=r+"_"+t}i[r]=Kt(t,e)}return i},Xt=(t,e)=>{t.pushVaruint32(e.length);for(const r of e)Wt(t,r)},Yt=(t,e)=>{const r=t.getVaruint32(),i=[];for(let n=0;n<r;++n)i.push(Kt(t,e));return i},te=()=>{const t=It();return t.set("null_t",Dt({name:"null_t",serialize:(t,e)=>{},deserialize:(t,e)=>{}})),t.set("any_object",Dt({name:"any_object",serialize:Ht,deserialize:Gt})),t.set("any_array",Dt({name:"any_array",serialize:Xt,deserialize:Yt})),t},ee=te(),re={null_t:{index:0,useShortForm:!0,type:ee.get("null_t")},int64:{index:1,useShortForm:!1,type:ee.get("int64")},uint64:{index:2,useShortForm:!1,type:ee.get("uint64")},int32:{index:3,useShortForm:!0,type:ee.get("int32")},uint32:{index:4,useShortForm:!1,type:ee.get("uint32")},int16:{index:5,useShortForm:!1,type:ee.get("int16")},uint16:{index:6,useShortForm:!1,type:ee.get("uint16")},int8:{index:7,useShortForm:!1,type:ee.get("int8")},uint8:{index:8,useShortForm:!1,type:ee.get("uint8")},time_point:{index:9,useShortForm:!1,type:ee.get("time_point")},checksum256:{index:10,useShortForm:!1,type:ee.get("checksum256")},float64:{index:11,useShortForm:!1,type:ee.get("float64")},string:{index:12,useShortForm:!0,type:ee.get("string")},any_object:{index:13,useShortForm:!0,type:ee.get("any_object")},any_array:{index:14,useShortForm:!0,type:ee.get("any_array")},bytes:{index:15,useShortForm:!1,type:ee.get("bytes")},symbol:{index:16,useShortForm:!1,type:ee.get("symbol")},symbol_code:{index:17,useShortForm:!1,type:ee.get("symbol_code")},asset:{index:18,useShortForm:!1,type:ee.get("asset")}},ie=[re.null_t,re.int64,re.uint64,re.int32,re.uint32,re.int16,re.uint16,re.int8,re.uint8,re.time_point,re.checksum256,re.float64,re.string,re.any_object,re.any_array,re.bytes,re.symbol,re.symbol_code,re.asset],ne=(t,e)=>{let r,i,n;if("string"===typeof e?r=e:Array.isArray(e)&&2===e.length?[r,n]=e:Array.isArray(e)&&3===e.length?[r,i,n]=e:[r,i,n]=[e.method,e.arg,e.filter],t.pushString(r),void 0===i?t.push(0):(t.push(1),Wt(t,i)),void 0===n)t.push(0);else{t.pushVaruint32(n.length);for(const e of n)ne(t,e)}};function oe(t){return t=t.replace(/\=/g,""),t=t.replace(/\+/g,"-"),t=t.replace(/\//g,"_"),t}function se(){return{expiration:(new Date).toISOString().slice(0,-1),ref_block_num:0,ref_block_prefix:0,max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,context_free_actions:[],actions:[],transaction_extensions:[]}}var ae=r(14306),ce={};h(ce,{PrivateKey:()=>ye,PublicKey:()=>pe,Signature:()=>me,constructElliptic:()=>he,generateKeyPair:()=>we});var le=r(14306),ue=p(r(46251)),he=t=>0===t?new le.ec("secp256k1"):new le.ec("p256"),de=t=>ue.sha256().update(t).digest("hex"),pe=class{constructor(t,e){this.key=t,this.ec=e}static fromString(t,e){const r=W(t);return e||(e=he(r.type)),new pe(r,e)}static fromElliptic(t,e,r){const i=t.getPublic().getX().toArray("be",32),n=t.getPublic().getY().toArray("be",32);return r||(r=he(e)),new pe({type:e,data:new Uint8Array([1&n[31]?3:2].concat(i))},r)}toString(){return Z(this.key)}toLegacyString(t){return K(this.key,t)}toElliptic(){return this.ec.keyPair({pub:i.from(this.key.data)})}getType(){return this.key.type}isValid(){try{const t=this.toElliptic(),e=t.validate();return e.result}catch{return!1}}},fe=p(r(9722)),me=class{constructor(t,e){this.signature=t,this.ec=e}static fromString(t,e){const r=et(t);return e||(e=he(r.type)),new me(r,e)}static fromElliptic(t,e,r){t.recoveryParam||(t.recoveryParam=0);const i=t.r.toArray("be",32),n=t.s.toArray("be",32);let o;0===e||1===e?(o=t.recoveryParam+27,t.recoveryParam<=3&&(o+=4)):2===e&&(o=t.recoveryParam);const s=new Uint8Array([o].concat(i,n));return r||(r=he(e)),new me({type:e,data:s},r)}toElliptic(){const t=32,e=32,r=new fe.default(this.signature.data.slice(1,t+1)),i=new fe.default(this.signature.data.slice(t+1,t+e+1));let n;0===this.signature.type||1===this.signature.type?(n=this.signature.data[0]-27,n>3&&(n-=4)):n=2===this.signature.type?this.signature.data[0]:0;const o=3&n;return{r,s:i,recoveryParam:o}}toString(){return rt(this.signature)}toBinary(){return this.signature.data}getType(){return this.signature.type}verify(t,e,r=!0,n="utf8"){r&&("string"===typeof t&&(t=i.from(t,n)),t=this.ec.hash().update(t).digest());const o=this.toElliptic(),s=e.toElliptic();return this.ec.verify(t,o,s,n)}recover(t,e=!0,r="utf8"){e&&("string"===typeof t&&(t=i.from(t,r)),t=this.ec.hash().update(t).digest());const n=this.toElliptic(),o=this.ec.recoverPubKey(t,n,n.recoveryParam,r),s=this.ec.keyFromPublic(o);return pe.fromElliptic(s,this.getType(),this.ec)}},ye=class{constructor(t,e){this.key=t,this.ec=e}static fromElliptic(t,e,r){return r||(r=he(e)),new ye({type:e,data:t.getPrivate().toArrayLike(i,"be",32)},r)}static fromString(t,e){const r=X(t);return e||(e=he(r.type)),new ye(r,e)}toElliptic(){return this.ec.keyFromPrivate(this.key.data)}toLegacyString(){return Y(this.key)}toString(){return tt(this.key)}getType(){return this.key.type}getPublicKey(){const t=this.toElliptic();return pe.fromElliptic(t,this.getType(),this.ec)}sign(t,e=!0,r="utf8"){e&&("string"===typeof t&&(t=i.from(t,r)),t=this.ec.hash().update(t).digest());let n,o=0;const s=t=>!(128&t[1])&&!(0===t[1]&&!(128&t[2]))&&!(128&t[33])&&!(0===t[33]&&!(128&t[34])),a=e=>{const r=this.toElliptic(),i=r.sign(t,e);return me.fromElliptic(i,this.getType(),this.ec)};if(0===this.key.type)do{n=a({canonical:!0,pers:[++o]})}while(!s(n.toBinary()));else n=a({canonical:!0});return n}isValid(){try{const t=this.toElliptic(),e=t.validate();return e.result}catch{return!1}}},ge=r(14306),we=(t,e={})=>{if(!e.secureEnv)throw new Error("Key generation is completely INSECURE in production environments in the browser. If you are absolutely certain this does NOT describe your environment, set `secureEnv` in your options to `true`.  If this does describe your environment and you set `secureEnv` to `true`, YOU DO SO AT YOUR OWN RISK AND THE RISK OF YOUR USERS.");let r;r=0===t?new ge.ec("secp256k1"):new ge.ec("p256");const i=r.genKeyPair(e.ecOptions),n=pe.fromElliptic(i,t,r),o=ye.fromElliptic(i,t,r);return{publicKey:n,privateKey:o}},ve=new ae.ec("secp256k1"),be=(t,e,r,n=ve)=>{const o=i.concat([i.from(t,"hex"),i.from(e),i.from(r?new Uint8Array(n.hash().update(r).digest()):new Uint8Array(32))]);return n.hash().update(o).digest()},Qe=class{constructor(t){this.keys=new Map,this.availableKeys=[];for(const e of t){const t=ye.fromString(e),r=t.toElliptic(),i=t.getPublicKey().toString();this.keys.set(i,r),this.availableKeys.push(i)}}async getAvailableKeys(){return this.availableKeys}async sign({chainId:t,requiredKeys:e,serializedTransaction:r,serializedContextFreeData:i}){const n=be(t,r,i,ve),o=[];for(const s of e){const t=pe.fromString(s),e=this.keys.get(H(s));if(e){const r=ye.fromElliptic(e,t.getType()),i=r.sign(n,!1);o.push(i.toString())}}return{signatures:o,serializedTransaction:r,serializedContextFreeData:i}}},Be=class{constructor(t){this.contracts=new Map,this.cachedAbis=new Map,this.transactionExtensions=[{id:1,type:"resource_payer",keys:["payer","max_net_bytes","max_cpu_us","max_memory_bytes"]}],this.rpc=t.rpc,this.authorityProvider=t.authorityProvider||t.rpc,this.abiProvider=t.abiProvider||t.rpc,t.signatureProvider&&(this.signatureProvider=t.signatureProvider),this.abiTypes=Pt(Mt()),this.transactionTypes=Pt(Rt()),this.crypto=t.crypto||"undefined"!==typeof window&&window&&window.crypto||r.g&&r.g.crypto,this.recoverPersonalSignature=t.recoverPersonalSignature}getCrypto(){if(!this.crypto)throw new Error("No 'crypto' module found. On nodejs, do const { Crypto } = require('@peculiar/webcrypto'); const crypto = new Crypto; new Api({ rpc, crypto });");return this.crypto}getRecoverPersonalSignature(){if(!this.recoverPersonalSignature)throw new Error("No 'recoverPersonalSignature' function found. Do const { recoverPersonalSignature } = require('eth-sig-util'); new Api({ rpc, recoverPersonalSignature });");return this.recoverPersonalSignature}rawAbiToJson(t){const e=new nt({array:t});if(!ot(e.getString()))throw new Error("Unsupported abi version");return e.restartRead(),this.abiTypes.get("abi_def").deserialize(e)}jsonToRawAbi(t){const e=new nt;if(this.abiTypes.get("abi_def").serialize(e,t),!ot(e.getString()))throw new Error("Unsupported abi version");return e.asUint8Array()}async getCachedAbi(t,e=!1){if(!e&&this.cachedAbis.get(t))return this.cachedAbis.get(t);let r;try{const e=(await this.abiProvider.getRawAbi(t)).abi,i=this.rawAbiToJson(e);r={rawAbi:e,abi:i}}catch(i){throw i.message=`fetching abi for ${t}: ${i.message}`,i}if(!r)throw new Error(`Missing abi for ${t}`);return this.cachedAbis.set(t,r),r}async getAbi(t,e=!1){return(await this.getCachedAbi(t,e)).abi}async getTransactionAbis(t,e=!1){const r=(t.context_free_actions||[]).concat(t.actions),i=r.map((t=>t.account)),n=new Set(i),o=Array.from(n).map((async t=>{const{rawAbi:r}=await this.getCachedAbi(t,e);return{accountName:t,abi:r}}));return Promise.all(o)}async getContract(t,e=!1){if(!e&&this.contracts.get(t))return this.contracts.get(t);const r=await this.getAbi(t,e),i=Pt(It(),r),n=new Map;for(const{name:s,type:a}of r.actions)n.set(s,zt(i,a));const o={types:i,actions:n};return this.contracts.set(t,o),o}serialize(t,e,r){this.transactionTypes.get(e).serialize(t,r)}deserialize(t,e){return this.transactionTypes.get(e).deserialize(t)}serializeTransaction(t){const e=new nt;return this.serialize(e,"transaction",{max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,context_free_actions:[],transaction_extensions:[],...t}),e.asUint8Array()}serializeContextFreeData(t){if(!t||!t.length)return;const e=new nt;e.pushVaruint32(t.length);for(const r of t)e.pushBytes(r);return e.asUint8Array()}deserializeTransaction(t){const e=new nt;return e.pushArray(t),this.deserialize(e,"transaction")}serializeTransactionExtensions(t){let e=[];if(t.resource_payer){const r=new nt,i=Pt(Tt());i.get("resource_payer").serialize(r,t.resource_payer),e=[...e,[1,mt(r.asUint8Array())]]}return e}deserializeTransactionExtensions(t){const e={};return t.forEach((t=>{const r=this.transactionExtensions.find((e=>e.id===t[0]));if(void 0===r)throw new Error(`Transaction Extension could not be determined: ${t}`);const i=Pt(Tt()),n=new nt;n.pushArray(yt(t[1]));const o=i.get(r.type).deserialize(n);1===t[0]&&(o.max_net_bytes=Number(o.max_net_bytes),o.max_cpu_us=Number(o.max_cpu_us),o.max_memory_bytes=Number(o.max_memory_bytes),e.resource_payer=o)})),e}deleteTransactionExtensionObjects(t){return delete t.resource_payer,t}async serializeActions(t){return await Promise.all(t.map((async t=>{const{account:e,name:r,authorization:i,data:n}=t,o=await this.getContract(e);return"object"!==typeof n?t:$t(o,e,r,i,n)})))}async deserializeActions(t){return await Promise.all(t.map((async({account:t,name:e,authorization:r,data:i})=>{const n=await this.getContract(t);return qt(n,t,e,r,i)})))}async deserializeActionsSync(t=[]){let e=[];for(const{account:r,name:i,authorization:n,data:o}of t){const t=await this.getContract(r);e.push(qt(t,r,i,n,o))}return e}async deserializeTransactionWithActions(t){"string"===typeof t&&(t=yt(t));const e=this.deserializeTransaction(t),r=await this.deserializeActionsSync(e.context_free_actions),i=await this.deserializeActionsSync(e.actions);return{...e,context_free_actions:r,actions:i}}deflateSerializedArray(t){return(0,y.deflate)(t,{level:9})}inflateSerializedArray(t){return(0,y.inflate)(t)}async transact(t,{broadcast:e=!0,sign:r=!0,readOnlyTrx:i,returnFailureTraces:n,requiredKeys:o,compression:s,blocksBehind:a,useLastIrreversible:c,expireSeconds:l,transactionHeader:u}={}){const h=await this.rpc.get_info();if(!u){if("number"===typeof a&&c)throw new Error("Use either blocksBehind or useLastIrreversible");if("number"!==typeof a&&!c)throw new Error("Must provide one blocksBehind or useLastIrreversible");if(!l)throw new Error("Must provide expireSeconds");if(u=await this.generateTapos(h,t,a,c,l),!this.hasRequiredTaposFields(u))throw new Error("Required configuration or TAPOS fields are not present")}const d=await this.getTransactionAbis(t);t={...u,transaction_extensions:await this.serializeTransactionExtensions(t),context_free_actions:await this.serializeActions(t.context_free_actions||[]),actions:await this.serializeActions(t.actions)},t=this.deleteTransactionExtensionObjects(t);const p=this.serializeTransaction(t),f=this.serializeContextFreeData(t.context_free_data);let m={serializedTransaction:p,serializedContextFreeData:f,signatures:[]};if(r){if(!this.signatureProvider)throw new Error("No signature provider available");if(!o){const e=await this.signatureProvider.getAvailableKeys();o=await this.authorityProvider.getRequiredKeys({transaction:t,availableKeys:e})}m=await this.signatureProvider.sign({chainId:h.chain_id,requiredKeys:o,serializedTransaction:p,serializedContextFreeData:f,abis:d})}return e?s?this.pushCompressedSignedTransaction(m,i,n):this.pushSignedTransaction(m,i,n):{...m,transactionHeader:u}}async transactWithDelay(t,e={},r){async function i(t){return new Promise((e=>{setTimeout(e,t)}))}const n=await this.transact(t,e);return await i(r),n}async query(t,e,r,{sign:i,requiredKeys:n,authorization:o=[]}){const s=await this.rpc.get_info(),a=await this.tryRefBlockFromGetInfo(s),c=new nt;ne(c,r);const l={...jt(a,1800),context_free_actions:[],actions:[{account:t,name:"queryit",authorization:o,data:mt(c.asUint8Array())}]},u=this.serializeTransaction(l);let h=[];if(i){if(!this.signatureProvider)throw new Error("No signature provider available");const t=await this.getTransactionAbis(l);if(!n){const t=await this.signatureProvider.getAvailableKeys();n=await this.authorityProvider.getRequiredKeys({transaction:l,availableKeys:t})}const e=await this.signatureProvider.sign({chainId:s.chain_id,requiredKeys:n,serializedTransaction:u,serializedContextFreeData:void 0,abis:t});h=e.signatures}const d=await this.rpc.send_transaction({signatures:h,compression:0,serializedTransaction:u}),p=new nt({array:yt(d.processed.action_traces[0][1].return_value)});return e?Zt(p):Kt(p)}async pushSignedTransaction({signatures:t,serializedTransaction:e,serializedContextFreeData:r},i=!1,n=!1){return i?this.rpc.push_ro_transaction({signatures:t,serializedTransaction:e,serializedContextFreeData:r},n):this.rpc.push_transaction({signatures:t,serializedTransaction:e,serializedContextFreeData:r})}async pushCompressedSignedTransaction({signatures:t,serializedTransaction:e,serializedContextFreeData:r},i=!1,n=!1){const o=this.deflateSerializedArray(e),s=this.deflateSerializedArray(r||new Uint8Array(0));return i?this.rpc.push_ro_transaction({signatures:t,compression:1,serializedTransaction:o,serializedContextFreeData:s},n):this.rpc.push_transaction({signatures:t,compression:1,serializedTransaction:o,serializedContextFreeData:s})}async generateTapos(t,e,r=3,i,n){if(t||(t=await this.rpc.get_info()),i){const r=await this.tryRefBlockFromGetInfo(t);return{...jt(r,n),...e}}const o=t.head_block_num-r,s=o<=t.last_irreversible_block_num?await this.tryGetBlockInfo(o):await this.tryGetBlockHeaderState(o);return{...jt(s,n),...e}}hasRequiredTaposFields({expiration:t,ref_block_num:e,ref_block_prefix:r}){return!(!t||"number"!==typeof e||"number"!==typeof r)}async tryGetBlockHeaderState(t){try{return await this.rpc.get_block_header_state(t)}catch(e){return await this.tryGetBlockInfo(t)}}async tryGetBlockInfo(t){try{return await this.rpc.get_block_info(t)}catch(e){return await this.rpc.get_block(t)}}async tryRefBlockFromGetInfo(t){if(t.hasOwnProperty("last_irreversible_block_id")&&t.hasOwnProperty("last_irreversible_block_num")&&t.hasOwnProperty("last_irreversible_block_time"))return{block_num:t.last_irreversible_block_num,id:t.last_irreversible_block_id,timestamp:t.last_irreversible_block_time};{const e=await this.tryGetBlockInfo(t.last_irreversible_block_num);return{block_num:e.block_num,id:e.id,timestamp:e.timestamp}}}with(t){return new _e(this,t)}buildTransaction(t){const e=new Ee(this);return t?t(e):e}async getAccountKeys(t,e){try{const{permissions:r}=await this.rpc.get_account(t),i=r.find((({perm_name:t})=>t===e));if(i)return i.required_auth.keys.map((({key:t})=>pe.fromString(t).toString()))}catch(r){n.log(r)}return[]}async sha256Digest(t){const e=t instanceof Uint8Array?t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength):t;return new Uint8Array(await this.getCrypto().subtle.digest("SHA-256",e))}async matchRsaKeyToSignature({actor:t,transaction:e}){const{signature:r,nonce:n,trx:o}=e.actions[0].data;let s=await this.rpc.fetchCredentials(t);s=s.filter((t=>"rsa_public_key"===t.key.key[0]));for(const a of s){const t=a.key.key[1],e=oe(i.from(t.exponent,"hex").toString("base64")),s=oe(i.from(t.modulus,"hex").toString("base64")),c=JSON.parse(r.client_json),l=new Uint8Array(w.default.toBuffer(c.challenge).buffer),u=new nt,h=this.serializeTransaction(o);u.pushArray(h),u.pushNumberAsUint64(n);const d=await this.sha256Digest(u.asUint8Array().slice());if(mt(l)!==mt(d))continue;const p=await this.getCrypto().subtle.importKey("jwk",{kty:"RSA",e,n:s,alg:"RS256",ext:!1},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]),f=yt(r.auth_data),m=yt(de(r.client_json)),y=new Uint8Array([...f,...m]),g=await this.getCrypto().subtle.verify("RSASSA-PKCS1-v1_5",p,yt(r.signature),y);if(g)return!0}return!1}async matchEthKeyToSignature({actor:t,transaction:e}){const{signature:r,nonce:i,trx:n}=e.actions[0].data;let o=await this.rpc.fetchCredentials(t);o=o.filter((t=>"eth_public_key"===t.key.key[0]));for(const s of o){const t="0x"+s.key.key[1],e=new nt,o=this.serializeTransaction(n);e.pushArray(o),e.pushNumberAsUint64(i);const a=await this.sha256Digest(e.asUint8Array().slice()),c=mt(a),l="0x"+r.signature,u=this.getRecoverPersonalSignature()({data:c,sig:l});if(u===t)return!0}return!1}async matchWaKeyToSignature({signature:t,key:e,digest:r}){try{const i=et(t),n=new nt({array:i.data}),o=new me({type:1,data:n.getUint8Array(65)},new g.ec("p256")),s=n.getBytes().slice(),a=n.getBytes().slice(),c=new nt;c.pushArray(s),c.pushArray(await this.sha256Digest(a));const l=o.recover(c.asUint8Array()),u=pe.fromString(e),h=new nt({array:u.key.data.slice(0,33)}),d=Z({type:1,data:h.asUint8Array()});return l.toString()===d&&o.verify(r,l,!1)}catch(i){return!1}}async checkIfKeysMatchTransaction({actor:t,permission:e,transaction:r,signatures:i,chainId:o}){if(r=JSON.parse(JSON.stringify(r)),i=JSON.parse(JSON.stringify(i)),1===r.actions.length&&"webauthn"===r.actions[0].account&&"exec"===r.actions[0].name&&"active"===e){const i=r.actions[0].data.trx;if(1!==i.actions.length)return!1;for(const r of i.actions)for(const i of r.authorization)if(i.actor!==t||i.permission!==e)return!1;const o=r.actions[0].data.key.key[0];return"eth_public_key"===o?this.matchEthKeyToSignature({transaction:r,actor:t}):"rsa_public_key"===o?this.matchRsaKeyToSignature({transaction:r,actor:t}):(n.log(`Key type ${o} not supported`),!1)}{for(const i of r.actions)for(const r of i.authorization)if(r.actor!==t||r.permission!==e)return!1;if(!o){const t=await this.rpc.get_info();o=t.chain_id}r.context_free_actions=await this.serializeActions(r.context_free_actions||[]),r.actions=await this.serializeActions(r.actions);const s=this.serializeTransaction(r),a=this.serializeContextFreeData(r.context_free_data),c=me.fromString(i[0]),l=c.getType(),u=be(o,s,a),h=await this.getAccountKeys(t,e),d=h.some((t=>{const e=pe.fromString(t);return 2===l?this.matchWaKeyToSignature({signature:c.toString(),key:e.toString(),digest:u}):[0,1].includes(l)?c.verify(u,e,!1):(n.log(`Key type ${l} not supported`),!1)}));return d}}},Ee=class{constructor(t){this.actions=[],this.contextFreeGroups=[],this.api=t}with(t){const e=new _e(this.api,t);return this.actions.push(e),e}associateContextFree(t){return this.contextFreeGroups.push(t),this}async send(t){const e=[],r=[],i=this.actions.map((t=>t.serializedData));return await Promise.all(this.contextFreeGroups.map((async t=>{const{action:n,contextFreeAction:o,contextFreeData:s}=t({cfd:e.length,cfa:r.length});n&&i.push(n),o&&r.push(o),s&&e.push(s)}))),this.contextFreeGroups=[],this.actions=[],await this.api.transact({context_free_data:e,context_free_actions:r,actions:i},t)}},_e=class{constructor(t,e){this.api=t,this.accountName=e}as(t=[]){let e=[];return e=t&&"string"===typeof t?[{actor:t,permission:"active"}]:t,new Ue(this,this.api,this.accountName,e)}},Ue=class{constructor(t,e,r,i){const n=e.cachedAbis.get(r);if(!n)throw new Error("ABI must be cached before using ActionBuilder, run api.getAbi()");const o=Pt(It(),n.abi),s=new Map;for(const{name:a,type:c}of n.abi.actions)s.set(a,zt(o,c));s.forEach(((e,n)=>{Object.assign(this,{[n]:(...a)=>{const c={};a.forEach(((t,r)=>{const i=e.fields[r];c[i.name]=t}));const l=$t({types:o,actions:s},r,n,i,c);return t.serializedData=l,l}})}))}},xe={},Se=class extends Error{constructor(t){var e=(...t)=>{super(...t)};t&&t.error&&t.error.details&&t.error.details.length&&t.error.details[0].message?(e(t.error.details[0].message),this.details=t.error.details):t&&t.processed&&t.processed.except&&t.processed.except.message?(e(t.processed.except.message),this.details=t.processed.except):t&&t.result&&t.result.except&&t.result.except.message?(e(t.result.except.message),this.details=t.result.except):e(t?t.message:t),Object.setPrototypeOf(this,Se.prototype),this.json=t}};async function Fe(){try{const{rows:t}=await this.get_table_rows({code:"eosio.proton",table:"kycproviders",scope:"eosio.proton"});this.validKycProviders=t.reduce(((t,e)=>(e.blisted||t.push(e.kyc_provider),t)),[])}catch(t){throw new Error("Unable to get KYC Providers.")}}async function ke(t){const e=["firstname","lastname","birthdate","address"],r=["selfie","frontofid","backofid"];if(0===t.length)throw new Error("Please enter an account.");0===this.validKycProviders.length&&await this.getValidKycProviders();let i=[];if(Array.isArray(t))i=t;else if("string"===typeof t)try{const{rows:e}=await this.get_table_rows({code:"eosio.proton",table:"usersinfo",scope:"eosio.proton",lower_bound:t,upper_bound:t});i=e}catch(o){throw new Error("Account not found!")}const n=i.map((t=>{const i=t.kyc.reduce(((t,e)=>{if(this.validKycProviders.indexOf(e.kyc_provider)>=0){const r=e.kyc_level.split(",").map((t=>t.split(":")[1]));t=r.concat(t)}return t}),[]);return t.isTier1KYCVerified=e.every((t=>i.includes(t))),t.isTier2KYCVerified=t.isTier1KYCVerified&&r.every((t=>i.includes(t))),t.isTier3KYCVerified=!1,t.isLightKYCVerified=t.isTier1KYCVerified,t}));return n}async function Ne(t){const{rows:e}=await this.get_table_rows({code:"webauthn",scope:"webauthn",table:"credentials",lower_bound:t,upper_bound:t,key_type:"name",index_position:2});return e}var Ae=p(r(95340)),Le=(r(82184),t=>{let e="";for(const r of t)e+=("00"+r.toString(16)).slice(-2);return e});async function De(t,e){const{timeout:r}=e,i=new AbortController,n=setTimeout((()=>i.abort()),r),o=await(0,Ae.default)(t,{...e||{},signal:i.signal});return clearTimeout(n),o}var Ce=class{constructor(t=[],e={}){this.validKycProviders=[],this.timeout=5e3,this.isLightKYCVerified=ke,this.getValidKycProviders=Fe,this.fetchCredentials=Ne,e.timeout&&(this.timeout=e.timeout),t=Array.isArray(t)?t:[t],this.initialEndpoints=t.map((t=>t.replace(/\/$/,""))),this.endpoints=this.initialEndpoints.slice(0),this.currentEndpoint="",this.nextEndpoint()}nextEndpoint(){if(this.endpoints.length&&this.currentEndpoint){const t=this.endpoints.shift();this.endpoints=this.endpoints.concat(t||[])}else this.endpoints=this.initialEndpoints;this.currentEndpoint=this.endpoints[0]}async fetch(t,e,r=0,i=!0){let o,s;try{if(o=await De(this.currentEndpoint+t,{body:JSON.stringify(e),method:"POST",timeout:this.timeout}),s=await o.json(),s.processed&&s.processed.except||s.result&&s.result.except||404===s.code)throw new Se(s)}catch(a){if(i&&n.log(a),this.endpoints.length>1){if(this.nextEndpoint(),r<this.initialEndpoints.length)return this.fetch(t,e,++r);throw a.isFetchError=!0,new Se(a)}}if(!o||!o.ok)throw new Se(s);if(s&&s.head_block_time){const i=new Date(s.head_block_time+"Z").getTime(),n=(new Date).getTime(),o=(n-i)/1e3;if(o>30&&this.endpoints.length>1&&(this.nextEndpoint(),r<this.initialEndpoints.length))return this.fetch(t,e,++r)}return s}async get(t){const e=await(0,Ae.default)(t);if(e.status>=400)throw new Error("Bad response from server "+e.status);const r=await e.json();return r}async abi_bin_to_json(t,e,r){return await this.fetch("/v1/chain/abi_bin_to_json",{code:t,action:e,binargs:r})}async abi_json_to_bin(t,e,r){return await this.fetch("/v1/chain/abi_json_to_bin",{code:t,action:e,args:r})}async get_abi(t){return await this.fetch("/v1/chain/get_abi",{account_name:t})}async get_account(t){return await this.fetch("/v1/chain/get_account",{account_name:t})}async get_accounts_by_authorizers(t,e){return await this.fetch("/v1/chain/get_accounts_by_authorizers",{accounts:t,keys:e})}async get_activated_protocol_features({limit:t,search_by_block_num:e,reverse:r,lower_bound:i,upper_bound:n}={limit:50,search_by_block_num:!1,reverse:!1}){return await this.fetch("/v1/chain/get_activated_protocol_features",{lower_bound:i,upper_bound:n,limit:t,search_by_block_num:e,reverse:r})}async get_block_header_state(t){return await this.fetch("/v1/chain/get_block_header_state",{block_num_or_id:t})}async get_block_info(t){return await this.fetch("/v1/chain/get_block_info",{block_num:t},0,!1)}async get_block(t){return await this.fetch("/v1/chain/get_block",{block_num_or_id:t})}async get_code(t){return await this.fetch("/v1/chain/get_code",{account_name:t,code_as_wasm:!0})}async get_code_hash(t){return await this.fetch("/v1/chain/get_code_hash",{account_name:t})}async get_currency_balance(t,e,r){return await this.fetch("/v1/chain/get_currency_balance",{code:t,account:e,symbol:r})}async get_currency_stats(t,e){return await this.fetch("/v1/chain/get_currency_stats",{code:t,symbol:e})}async get_info(){return await this.fetch("/v1/chain/get_info",{})}async get_producer_schedule(){return await this.fetch("/v1/chain/get_producer_schedule",{})}async get_producers(t=!0,e="",r=50){return await this.fetch("/v1/chain/get_producers",{json:t,lower_bound:e,limit:r})}async get_raw_code_and_abi(t){return await this.fetch("/v1/chain/get_raw_code_and_abi",{account_name:t})}async getRawAbi(t){const e=await this.get_raw_abi(t),r=z(e.abi);return{accountName:e.account_name,abi:r}}async get_raw_abi(t){return await this.fetch("/v1/chain/get_raw_abi",{account_name:t})}async get_scheduled_transactions(t=!0,e="",r=50){return await this.fetch("/v1/chain/get_scheduled_transactions",{json:t,lower_bound:e,limit:r})}async get_table_rows({json:t=!0,code:e,scope:r,table:i,lower_bound:n="",upper_bound:o="",index_position:s=1,key_type:a="",limit:c=10,reverse:l=!1,show_payer:u=!1}){return await this.fetch("/v1/chain/get_table_rows",{json:t,code:e,scope:r,table:i,lower_bound:n,upper_bound:o,index_position:s,key_type:a,limit:c,reverse:l,show_payer:u})}async get_kv_table_rows({json:t=!0,code:e,table:r,index_name:i,encode_type:n="bytes",index_value:o,lower_bound:s,upper_bound:a,limit:c=10,reverse:l=!1,show_payer:u=!1}){return await this.fetch("/v1/chain/get_kv_table_rows",{json:t,code:e,table:r,index_name:i,encode_type:n,index_value:o,lower_bound:s,upper_bound:a,limit:c,reverse:l,show_payer:u})}async get_table_by_scope({code:t,table:e,lower_bound:r="",upper_bound:i="",limit:n=10}){return await this.fetch("/v1/chain/get_table_by_scope",{code:t,table:e,lower_bound:r,upper_bound:i,limit:n})}async getRequiredKeys(t){const e=await this.fetch("/v1/chain/get_required_keys",{transaction:t.transaction,available_keys:t.availableKeys});return G(e.required_keys)}async push_transaction({signatures:t,compression:e=0,serializedTransaction:r,serializedContextFreeData:i}){try{return await this.fetch("/v1/chain/push_transaction",{signatures:t,compression:e,packed_context_free_data:Le(i||new Uint8Array(0)),packed_trx:Le(r)})}catch(n){if(n&&n.json&&n.json.error){const t="expired_tx_exception"===n.json.error.name;t&&(n.json.error.message="Transaction Expired: Try Again",this.nextEndpoint())}throw n}}async push_ro_transaction({signatures:t,compression:e=0,serializedTransaction:r},i=!1){return await this.fetch("/v1/chain/push_ro_transaction",{transaction:{signatures:t,compression:e,packed_context_free_data:Le(new Uint8Array(0)),packed_trx:Le(r)},return_failure_traces:i})}async push_transactions(t){const e=t.map((({signatures:t,compression:e=0,serializedTransaction:r,serializedContextFreeData:i})=>({signatures:t,compression:e,packed_context_free_data:Le(i||new Uint8Array(0)),packed_trx:Le(r)})));return await this.fetch("/v1/chain/push_transactions",e)}async send_transaction({signatures:t,compression:e=0,serializedTransaction:r,serializedContextFreeData:i}){return await this.fetch("/v1/chain/send_transaction",{signatures:t,compression:e,packed_context_free_data:Le(i||new Uint8Array(0)),packed_trx:Le(r)})}async db_size_get(){return await this.fetch("/v1/db_size/get",{})}async trace_get_block(t){return await this.fetch("/v1/trace_api/get_block",{block_num:t})}async history_get_actions(t,e=null,r=null){return await this.fetch("/v1/history/get_actions",{account_name:t,pos:e,offset:r})}async history_get_transaction(t,e=null){return await this.fetch("/v1/history/get_transaction",{id:t,block_num_hint:e})}async history_get_key_accounts(t){return await this.fetch("/v1/history/get_key_accounts",{public_key:t})}async history_get_controlled_accounts(t){return await this.fetch("/v1/history/get_controlled_accounts",{controlling_account:t})}async get_nfts_fio_address(t){return await this.fetch("/v1/chain/get_nfts_fio_address",{fio_address:t})}},Ie={},Me=r(14306),Te=class{constructor(){this.keys=new Map}async getAvailableKeys(){return Array.from(this.keys.keys())}async sign({chainId:t,requiredKeys:e,serializedTransaction:r,serializedContextFreeData:i}){const n=new nt;n.pushArray(yt(t)),n.pushArray(r),i?n.pushArray(new Uint8Array(await crypto.subtle.digest("SHA-256",i.buffer))):n.pushArray(new Uint8Array(32));const o=new Uint8Array(await crypto.subtle.digest("SHA-256",n.asUint8Array().slice().buffer)),s=[];for(const a of e){const t=yt(this.keys.get(a)),e=await navigator.credentials.get({publicKey:{timeout:6e4,allowCredentials:[{id:t,type:"public-key"}],challenge:o.buffer}}),r=new Me.ec("p256"),i=r.keyFromPublic(W(a).data.subarray(0,33)).getPublic(),n=t=>{const e=Array.from(t);while(e.length<32)e.unshift(0);while(e.length>32)if(0!==e.shift())throw new Error("Signature has an r or s that is too big");return new Uint8Array(e)},c=new nt({array:new Uint8Array(e.response.signature)});if(48!==c.get())throw new Error("Signature missing DER prefix");if(c.get()!==c.array.length-2)throw new Error("Signature has bad length");if(2!==c.get())throw new Error("Signature has bad r marker");const l=n(c.getUint8Array(c.get()));if(2!==c.get())throw new Error("Signature has bad s marker");const u=n(c.getUint8Array(c.get())),h=new nt;h.pushArray(new Uint8Array(e.response.authenticatorData)),h.pushArray(new Uint8Array(await crypto.subtle.digest("SHA-256",e.response.clientDataJSON)));const d=new Uint8Array(await crypto.subtle.digest("SHA-256",h.asUint8Array().slice())),p=r.getKeyRecoveryParam(d,new Uint8Array(e.response.signature),i),f=new nt;f.push(p+27+4),f.pushArray(l),f.pushArray(u),f.pushBytes(new Uint8Array(e.response.authenticatorData)),f.pushBytes(new Uint8Array(e.response.clientDataJSON));const m=rt({type:2,data:f.asUint8Array().slice()});s.push(m)}return{signatures:s,serializedTransaction:r,serializedContextFreeData:i}}},Re={Api:Be,ApiInterfaces:xe,JsonRpc:Ce,Numeric:b,RpcInterfaces:Ie,RpcError:Se,Serialize:v,JsSignatureProvider:Qe,Key:ce,sha256:de,WebAuthnSignatureProvider:Te}},9722:function(t,e,r){t=r.nmd(t),function(t,e){"use strict";function i(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(71862).Buffer}catch(N){}function a(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void i(!1,"Invalid character in "+t)}function c(t,e,r){var i=a(t,r);return r-1>=e&&(i|=a(t,r-1)<<4),i}function l(t,e,r,n){for(var o=0,s=0,a=Math.min(t.length,r),c=e;c<a;c++){var l=t.charCodeAt(c)-48;o*=n,s=l>=49?l-49+10:l>=17?l-17+10:l,i(l>=0&&s<n,"Invalid character"),o+=s}return o}function u(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"===typeof t)return this._initNumber(t,e,r);if("object"===typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),i(e===(0|e)&&e>=2&&e<=36),t=t.toString().replace(/\s+/g,"");var n=0;"-"===t[0]&&(n++,this.negative=1),n<t.length&&(16===e?this._parseHex(t,n,r):(this._parseBase(t,e,n),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(i(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(i("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,s,a=0;if("be"===r)for(n=t.length-1,o=0;n>=0;n-=3)s=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,a+=24,a>=26&&(a-=26,o++);else if("le"===r)for(n=0,o=0;n<t.length;n+=3)s=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,a+=24,a>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,o=0,s=0;if("be"===r)for(i=t.length-1;i>=e;i-=2)n=c(t,e,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;else{var a=t.length-e;for(i=a%2===0?e+1:e;i<t.length;i+=2)n=c(t,e,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8}this._strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=e)i++;i--,n=n/e|0;for(var o=t.length-r,s=o%i,a=Math.min(o,o-s)+r,c=0,u=r;u<a;u+=i)c=l(t,u,u+i,e),this.imuln(n),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var h=1;for(c=l(t,u,t.length,e),u=0;u<s;u++)h*=e;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){u(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){while(this.length<t)this.words[this.length++]=0;return this},o.prototype._strip=function(){while(this.length>1&&0===this.words[this.length-1])this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(N){o.prototype.inspect=h}else o.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var r;if(t=t||10,e=0|e||1,16===t||"hex"===t){r="";for(var n=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<n|o)).toString(16);o=a>>>24-n&16777215,n+=2,n>=26&&(n-=26,s--),r=0!==o||s!==this.length-1?d[6-c.length]+c+r:c+r}0!==o&&(r=o.toString(16)+r);while(r.length%e!==0)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=p[t],u=f[t];r="";var h=this.clone();h.negative=0;while(!h.isZero()){var m=h.modrn(u).toString(t);h=h.idivn(u),r=h.isZero()?m+r:d[l-m.length]+m+r}this.isZero()&&(r="0"+r);while(r.length%e!==0)r="0"+r;return 0!==this.negative&&(r="-"+r),r}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};var m=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)};function y(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var i=r/26|0,n=r%26;e[r]=t.words[i]>>>n&1}return e}function g(t,e,r){r.negative=e.negative^t.negative;var i=t.length+e.length|0;r.length=i,i=i-1|0;var n=0|t.words[0],o=0|e.words[0],s=n*o,a=67108863&s,c=s/67108864|0;r.words[0]=a;for(var l=1;l<i;l++){for(var u=c>>>26,h=67108863&c,d=Math.min(l,e.length-1),p=Math.max(0,l-t.length+1);p<=d;p++){var f=l-p|0;n=0|t.words[f],o=0|e.words[p],s=n*o+h,u+=s/67108864|0,h=67108863&s}r.words[l]=0|h,c=0|u}return 0!==c?r.words[l]=0|c:r.length--,r._strip()}o.prototype.toArrayLike=function(t,e,r){this._strip();var n=this.byteLength(),o=r||Math.max(1,n);i(n<=o,"byte array longer than desired length"),i(o>0,"Requested array length <= 0");var s=m(t,o),a="le"===e?"LE":"BE";return this["_toArrayLike"+a](s,n),s},o.prototype._toArrayLikeLE=function(t,e){for(var r=0,i=0,n=0,o=0;n<this.length;n++){var s=this.words[n]<<o|i;t[r++]=255&s,r<t.length&&(t[r++]=s>>8&255),r<t.length&&(t[r++]=s>>16&255),6===o?(r<t.length&&(t[r++]=s>>24&255),i=0,o=0):(i=s>>>24,o+=2)}if(r<t.length){t[r++]=i;while(r<t.length)t[r++]=0}},o.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,i=0,n=0,o=0;n<this.length;n++){var s=this.words[n]<<o|i;t[r--]=255&s,r>=0&&(t[r--]=s>>8&255),r>=0&&(t[r--]=s>>16&255),6===o?(r>=0&&(t[r--]=s>>24&255),i=0,o=0):(i=s>>>24,o+=2)}if(r>=0){t[r--]=i;while(r>=0)t[r--]=0}},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0===(8191&e)&&(r+=13,e>>>=13),0===(127&e)&&(r+=7,e>>>=7),0===(15&e)&&(r+=4,e>>>=4),0===(3&e)&&(r+=2,e>>>=2),0===(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){while(this.length<t.length)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return i(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return i(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var i=0;i<r.length;i++)this.words[i]=e.words[i]^r.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return i(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){i("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return r>0&&(this.words[n]=~this.words[n]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){i("number"===typeof t&&t>=0);var r=t/26|0,n=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<n:this.words[r]&~(1<<n),this._strip()},o.prototype.iadd=function(t){var e,r,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,i=t):(r=t,i=this);for(var n=0,o=0;o<i.length;o++)e=(0|r.words[o])+(0|i.words[o])+n,this.words[o]=67108863&e,n=e>>>26;for(;0!==n&&o<r.length;o++)e=(0|r.words[o])+n,this.words[o]=67108863&e,n=e>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,i,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=t):(r=t,i=this);for(var o=0,s=0;s<i.length;s++)e=(0|r.words[s])-(0|i.words[s])+o,o=e>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)e=(0|r.words[s])+o,o=e>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var w=function(t,e,r){var i,n,o,s=t.words,a=e.words,c=r.words,l=0,u=0|s[0],h=8191&u,d=u>>>13,p=0|s[1],f=8191&p,m=p>>>13,y=0|s[2],g=8191&y,w=y>>>13,v=0|s[3],b=8191&v,Q=v>>>13,B=0|s[4],E=8191&B,_=B>>>13,U=0|s[5],x=8191&U,S=U>>>13,F=0|s[6],k=8191&F,N=F>>>13,A=0|s[7],L=8191&A,D=A>>>13,C=0|s[8],I=8191&C,M=C>>>13,T=0|s[9],R=8191&T,z=T>>>13,P=0|a[0],O=8191&P,j=P>>>13,J=0|a[1],$=8191&J,V=J>>>13,q=0|a[2],W=8191&q,K=q>>>13,Z=0|a[3],H=8191&Z,G=Z>>>13,X=0|a[4],Y=8191&X,tt=X>>>13,et=0|a[5],rt=8191&et,it=et>>>13,nt=0|a[6],ot=8191&nt,st=nt>>>13,at=0|a[7],ct=8191&at,lt=at>>>13,ut=0|a[8],ht=8191&ut,dt=ut>>>13,pt=0|a[9],ft=8191&pt,mt=pt>>>13;r.negative=t.negative^e.negative,r.length=19,i=Math.imul(h,O),n=Math.imul(h,j),n=n+Math.imul(d,O)|0,o=Math.imul(d,j);var yt=(l+i|0)+((8191&n)<<13)|0;l=(o+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(f,O),n=Math.imul(f,j),n=n+Math.imul(m,O)|0,o=Math.imul(m,j),i=i+Math.imul(h,$)|0,n=n+Math.imul(h,V)|0,n=n+Math.imul(d,$)|0,o=o+Math.imul(d,V)|0;var gt=(l+i|0)+((8191&n)<<13)|0;l=(o+(n>>>13)|0)+(gt>>>26)|0,gt&=67108863,i=Math.imul(g,O),n=Math.imul(g,j),n=n+Math.imul(w,O)|0,o=Math.imul(w,j),i=i+Math.imul(f,$)|0,n=n+Math.imul(f,V)|0,n=n+Math.imul(m,$)|0,o=o+Math.imul(m,V)|0,i=i+Math.imul(h,W)|0,n=n+Math.imul(h,K)|0,n=n+Math.imul(d,W)|0,o=o+Math.imul(d,K)|0;var wt=(l+i|0)+((8191&n)<<13)|0;l=(o+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(b,O),n=Math.imul(b,j),n=n+Math.imul(Q,O)|0,o=Math.imul(Q,j),i=i+Math.imul(g,$)|0,n=n+Math.imul(g,V)|0,n=n+Math.imul(w,$)|0,o=o+Math.imul(w,V)|0,i=i+Math.imul(f,W)|0,n=n+Math.imul(f,K)|0,n=n+Math.imul(m,W)|0,o=o+Math.imul(m,K)|0,i=i+Math.imul(h,H)|0,n=n+Math.imul(h,G)|0,n=n+Math.imul(d,H)|0,o=o+Math.imul(d,G)|0;var vt=(l+i|0)+((8191&n)<<13)|0;l=(o+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(E,O),n=Math.imul(E,j),n=n+Math.imul(_,O)|0,o=Math.imul(_,j),i=i+Math.imul(b,$)|0,n=n+Math.imul(b,V)|0,n=n+Math.imul(Q,$)|0,o=o+Math.imul(Q,V)|0,i=i+Math.imul(g,W)|0,n=n+Math.imul(g,K)|0,n=n+Math.imul(w,W)|0,o=o+Math.imul(w,K)|0,i=i+Math.imul(f,H)|0,n=n+Math.imul(f,G)|0,n=n+Math.imul(m,H)|0,o=o+Math.imul(m,G)|0,i=i+Math.imul(h,Y)|0,n=n+Math.imul(h,tt)|0,n=n+Math.imul(d,Y)|0,o=o+Math.imul(d,tt)|0;var bt=(l+i|0)+((8191&n)<<13)|0;l=(o+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(x,O),n=Math.imul(x,j),n=n+Math.imul(S,O)|0,o=Math.imul(S,j),i=i+Math.imul(E,$)|0,n=n+Math.imul(E,V)|0,n=n+Math.imul(_,$)|0,o=o+Math.imul(_,V)|0,i=i+Math.imul(b,W)|0,n=n+Math.imul(b,K)|0,n=n+Math.imul(Q,W)|0,o=o+Math.imul(Q,K)|0,i=i+Math.imul(g,H)|0,n=n+Math.imul(g,G)|0,n=n+Math.imul(w,H)|0,o=o+Math.imul(w,G)|0,i=i+Math.imul(f,Y)|0,n=n+Math.imul(f,tt)|0,n=n+Math.imul(m,Y)|0,o=o+Math.imul(m,tt)|0,i=i+Math.imul(h,rt)|0,n=n+Math.imul(h,it)|0,n=n+Math.imul(d,rt)|0,o=o+Math.imul(d,it)|0;var Qt=(l+i|0)+((8191&n)<<13)|0;l=(o+(n>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,i=Math.imul(k,O),n=Math.imul(k,j),n=n+Math.imul(N,O)|0,o=Math.imul(N,j),i=i+Math.imul(x,$)|0,n=n+Math.imul(x,V)|0,n=n+Math.imul(S,$)|0,o=o+Math.imul(S,V)|0,i=i+Math.imul(E,W)|0,n=n+Math.imul(E,K)|0,n=n+Math.imul(_,W)|0,o=o+Math.imul(_,K)|0,i=i+Math.imul(b,H)|0,n=n+Math.imul(b,G)|0,n=n+Math.imul(Q,H)|0,o=o+Math.imul(Q,G)|0,i=i+Math.imul(g,Y)|0,n=n+Math.imul(g,tt)|0,n=n+Math.imul(w,Y)|0,o=o+Math.imul(w,tt)|0,i=i+Math.imul(f,rt)|0,n=n+Math.imul(f,it)|0,n=n+Math.imul(m,rt)|0,o=o+Math.imul(m,it)|0,i=i+Math.imul(h,ot)|0,n=n+Math.imul(h,st)|0,n=n+Math.imul(d,ot)|0,o=o+Math.imul(d,st)|0;var Bt=(l+i|0)+((8191&n)<<13)|0;l=(o+(n>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,i=Math.imul(L,O),n=Math.imul(L,j),n=n+Math.imul(D,O)|0,o=Math.imul(D,j),i=i+Math.imul(k,$)|0,n=n+Math.imul(k,V)|0,n=n+Math.imul(N,$)|0,o=o+Math.imul(N,V)|0,i=i+Math.imul(x,W)|0,n=n+Math.imul(x,K)|0,n=n+Math.imul(S,W)|0,o=o+Math.imul(S,K)|0,i=i+Math.imul(E,H)|0,n=n+Math.imul(E,G)|0,n=n+Math.imul(_,H)|0,o=o+Math.imul(_,G)|0,i=i+Math.imul(b,Y)|0,n=n+Math.imul(b,tt)|0,n=n+Math.imul(Q,Y)|0,o=o+Math.imul(Q,tt)|0,i=i+Math.imul(g,rt)|0,n=n+Math.imul(g,it)|0,n=n+Math.imul(w,rt)|0,o=o+Math.imul(w,it)|0,i=i+Math.imul(f,ot)|0,n=n+Math.imul(f,st)|0,n=n+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0,i=i+Math.imul(h,ct)|0,n=n+Math.imul(h,lt)|0,n=n+Math.imul(d,ct)|0,o=o+Math.imul(d,lt)|0;var Et=(l+i|0)+((8191&n)<<13)|0;l=(o+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(I,O),n=Math.imul(I,j),n=n+Math.imul(M,O)|0,o=Math.imul(M,j),i=i+Math.imul(L,$)|0,n=n+Math.imul(L,V)|0,n=n+Math.imul(D,$)|0,o=o+Math.imul(D,V)|0,i=i+Math.imul(k,W)|0,n=n+Math.imul(k,K)|0,n=n+Math.imul(N,W)|0,o=o+Math.imul(N,K)|0,i=i+Math.imul(x,H)|0,n=n+Math.imul(x,G)|0,n=n+Math.imul(S,H)|0,o=o+Math.imul(S,G)|0,i=i+Math.imul(E,Y)|0,n=n+Math.imul(E,tt)|0,n=n+Math.imul(_,Y)|0,o=o+Math.imul(_,tt)|0,i=i+Math.imul(b,rt)|0,n=n+Math.imul(b,it)|0,n=n+Math.imul(Q,rt)|0,o=o+Math.imul(Q,it)|0,i=i+Math.imul(g,ot)|0,n=n+Math.imul(g,st)|0,n=n+Math.imul(w,ot)|0,o=o+Math.imul(w,st)|0,i=i+Math.imul(f,ct)|0,n=n+Math.imul(f,lt)|0,n=n+Math.imul(m,ct)|0,o=o+Math.imul(m,lt)|0,i=i+Math.imul(h,ht)|0,n=n+Math.imul(h,dt)|0,n=n+Math.imul(d,ht)|0,o=o+Math.imul(d,dt)|0;var _t=(l+i|0)+((8191&n)<<13)|0;l=(o+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(R,O),n=Math.imul(R,j),n=n+Math.imul(z,O)|0,o=Math.imul(z,j),i=i+Math.imul(I,$)|0,n=n+Math.imul(I,V)|0,n=n+Math.imul(M,$)|0,o=o+Math.imul(M,V)|0,i=i+Math.imul(L,W)|0,n=n+Math.imul(L,K)|0,n=n+Math.imul(D,W)|0,o=o+Math.imul(D,K)|0,i=i+Math.imul(k,H)|0,n=n+Math.imul(k,G)|0,n=n+Math.imul(N,H)|0,o=o+Math.imul(N,G)|0,i=i+Math.imul(x,Y)|0,n=n+Math.imul(x,tt)|0,n=n+Math.imul(S,Y)|0,o=o+Math.imul(S,tt)|0,i=i+Math.imul(E,rt)|0,n=n+Math.imul(E,it)|0,n=n+Math.imul(_,rt)|0,o=o+Math.imul(_,it)|0,i=i+Math.imul(b,ot)|0,n=n+Math.imul(b,st)|0,n=n+Math.imul(Q,ot)|0,o=o+Math.imul(Q,st)|0,i=i+Math.imul(g,ct)|0,n=n+Math.imul(g,lt)|0,n=n+Math.imul(w,ct)|0,o=o+Math.imul(w,lt)|0,i=i+Math.imul(f,ht)|0,n=n+Math.imul(f,dt)|0,n=n+Math.imul(m,ht)|0,o=o+Math.imul(m,dt)|0,i=i+Math.imul(h,ft)|0,n=n+Math.imul(h,mt)|0,n=n+Math.imul(d,ft)|0,o=o+Math.imul(d,mt)|0;var Ut=(l+i|0)+((8191&n)<<13)|0;l=(o+(n>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,i=Math.imul(R,$),n=Math.imul(R,V),n=n+Math.imul(z,$)|0,o=Math.imul(z,V),i=i+Math.imul(I,W)|0,n=n+Math.imul(I,K)|0,n=n+Math.imul(M,W)|0,o=o+Math.imul(M,K)|0,i=i+Math.imul(L,H)|0,n=n+Math.imul(L,G)|0,n=n+Math.imul(D,H)|0,o=o+Math.imul(D,G)|0,i=i+Math.imul(k,Y)|0,n=n+Math.imul(k,tt)|0,n=n+Math.imul(N,Y)|0,o=o+Math.imul(N,tt)|0,i=i+Math.imul(x,rt)|0,n=n+Math.imul(x,it)|0,n=n+Math.imul(S,rt)|0,o=o+Math.imul(S,it)|0,i=i+Math.imul(E,ot)|0,n=n+Math.imul(E,st)|0,n=n+Math.imul(_,ot)|0,o=o+Math.imul(_,st)|0,i=i+Math.imul(b,ct)|0,n=n+Math.imul(b,lt)|0,n=n+Math.imul(Q,ct)|0,o=o+Math.imul(Q,lt)|0,i=i+Math.imul(g,ht)|0,n=n+Math.imul(g,dt)|0,n=n+Math.imul(w,ht)|0,o=o+Math.imul(w,dt)|0,i=i+Math.imul(f,ft)|0,n=n+Math.imul(f,mt)|0,n=n+Math.imul(m,ft)|0,o=o+Math.imul(m,mt)|0;var xt=(l+i|0)+((8191&n)<<13)|0;l=(o+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(R,W),n=Math.imul(R,K),n=n+Math.imul(z,W)|0,o=Math.imul(z,K),i=i+Math.imul(I,H)|0,n=n+Math.imul(I,G)|0,n=n+Math.imul(M,H)|0,o=o+Math.imul(M,G)|0,i=i+Math.imul(L,Y)|0,n=n+Math.imul(L,tt)|0,n=n+Math.imul(D,Y)|0,o=o+Math.imul(D,tt)|0,i=i+Math.imul(k,rt)|0,n=n+Math.imul(k,it)|0,n=n+Math.imul(N,rt)|0,o=o+Math.imul(N,it)|0,i=i+Math.imul(x,ot)|0,n=n+Math.imul(x,st)|0,n=n+Math.imul(S,ot)|0,o=o+Math.imul(S,st)|0,i=i+Math.imul(E,ct)|0,n=n+Math.imul(E,lt)|0,n=n+Math.imul(_,ct)|0,o=o+Math.imul(_,lt)|0,i=i+Math.imul(b,ht)|0,n=n+Math.imul(b,dt)|0,n=n+Math.imul(Q,ht)|0,o=o+Math.imul(Q,dt)|0,i=i+Math.imul(g,ft)|0,n=n+Math.imul(g,mt)|0,n=n+Math.imul(w,ft)|0,o=o+Math.imul(w,mt)|0;var St=(l+i|0)+((8191&n)<<13)|0;l=(o+(n>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(R,H),n=Math.imul(R,G),n=n+Math.imul(z,H)|0,o=Math.imul(z,G),i=i+Math.imul(I,Y)|0,n=n+Math.imul(I,tt)|0,n=n+Math.imul(M,Y)|0,o=o+Math.imul(M,tt)|0,i=i+Math.imul(L,rt)|0,n=n+Math.imul(L,it)|0,n=n+Math.imul(D,rt)|0,o=o+Math.imul(D,it)|0,i=i+Math.imul(k,ot)|0,n=n+Math.imul(k,st)|0,n=n+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,i=i+Math.imul(x,ct)|0,n=n+Math.imul(x,lt)|0,n=n+Math.imul(S,ct)|0,o=o+Math.imul(S,lt)|0,i=i+Math.imul(E,ht)|0,n=n+Math.imul(E,dt)|0,n=n+Math.imul(_,ht)|0,o=o+Math.imul(_,dt)|0,i=i+Math.imul(b,ft)|0,n=n+Math.imul(b,mt)|0,n=n+Math.imul(Q,ft)|0,o=o+Math.imul(Q,mt)|0;var Ft=(l+i|0)+((8191&n)<<13)|0;l=(o+(n>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,i=Math.imul(R,Y),n=Math.imul(R,tt),n=n+Math.imul(z,Y)|0,o=Math.imul(z,tt),i=i+Math.imul(I,rt)|0,n=n+Math.imul(I,it)|0,n=n+Math.imul(M,rt)|0,o=o+Math.imul(M,it)|0,i=i+Math.imul(L,ot)|0,n=n+Math.imul(L,st)|0,n=n+Math.imul(D,ot)|0,o=o+Math.imul(D,st)|0,i=i+Math.imul(k,ct)|0,n=n+Math.imul(k,lt)|0,n=n+Math.imul(N,ct)|0,o=o+Math.imul(N,lt)|0,i=i+Math.imul(x,ht)|0,n=n+Math.imul(x,dt)|0,n=n+Math.imul(S,ht)|0,o=o+Math.imul(S,dt)|0,i=i+Math.imul(E,ft)|0,n=n+Math.imul(E,mt)|0,n=n+Math.imul(_,ft)|0,o=o+Math.imul(_,mt)|0;var kt=(l+i|0)+((8191&n)<<13)|0;l=(o+(n>>>13)|0)+(kt>>>26)|0,kt&=67108863,i=Math.imul(R,rt),n=Math.imul(R,it),n=n+Math.imul(z,rt)|0,o=Math.imul(z,it),i=i+Math.imul(I,ot)|0,n=n+Math.imul(I,st)|0,n=n+Math.imul(M,ot)|0,o=o+Math.imul(M,st)|0,i=i+Math.imul(L,ct)|0,n=n+Math.imul(L,lt)|0,n=n+Math.imul(D,ct)|0,o=o+Math.imul(D,lt)|0,i=i+Math.imul(k,ht)|0,n=n+Math.imul(k,dt)|0,n=n+Math.imul(N,ht)|0,o=o+Math.imul(N,dt)|0,i=i+Math.imul(x,ft)|0,n=n+Math.imul(x,mt)|0,n=n+Math.imul(S,ft)|0,o=o+Math.imul(S,mt)|0;var Nt=(l+i|0)+((8191&n)<<13)|0;l=(o+(n>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,i=Math.imul(R,ot),n=Math.imul(R,st),n=n+Math.imul(z,ot)|0,o=Math.imul(z,st),i=i+Math.imul(I,ct)|0,n=n+Math.imul(I,lt)|0,n=n+Math.imul(M,ct)|0,o=o+Math.imul(M,lt)|0,i=i+Math.imul(L,ht)|0,n=n+Math.imul(L,dt)|0,n=n+Math.imul(D,ht)|0,o=o+Math.imul(D,dt)|0,i=i+Math.imul(k,ft)|0,n=n+Math.imul(k,mt)|0,n=n+Math.imul(N,ft)|0,o=o+Math.imul(N,mt)|0;var At=(l+i|0)+((8191&n)<<13)|0;l=(o+(n>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(R,ct),n=Math.imul(R,lt),n=n+Math.imul(z,ct)|0,o=Math.imul(z,lt),i=i+Math.imul(I,ht)|0,n=n+Math.imul(I,dt)|0,n=n+Math.imul(M,ht)|0,o=o+Math.imul(M,dt)|0,i=i+Math.imul(L,ft)|0,n=n+Math.imul(L,mt)|0,n=n+Math.imul(D,ft)|0,o=o+Math.imul(D,mt)|0;var Lt=(l+i|0)+((8191&n)<<13)|0;l=(o+(n>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,i=Math.imul(R,ht),n=Math.imul(R,dt),n=n+Math.imul(z,ht)|0,o=Math.imul(z,dt),i=i+Math.imul(I,ft)|0,n=n+Math.imul(I,mt)|0,n=n+Math.imul(M,ft)|0,o=o+Math.imul(M,mt)|0;var Dt=(l+i|0)+((8191&n)<<13)|0;l=(o+(n>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,i=Math.imul(R,ft),n=Math.imul(R,mt),n=n+Math.imul(z,ft)|0,o=Math.imul(z,mt);var Ct=(l+i|0)+((8191&n)<<13)|0;return l=(o+(n>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,c[0]=yt,c[1]=gt,c[2]=wt,c[3]=vt,c[4]=bt,c[5]=Qt,c[6]=Bt,c[7]=Et,c[8]=_t,c[9]=Ut,c[10]=xt,c[11]=St,c[12]=Ft,c[13]=kt,c[14]=Nt,c[15]=At,c[16]=Lt,c[17]=Dt,c[18]=Ct,0!==l&&(c[19]=l,r.length++),r};function v(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var i=0,n=0,o=0;o<r.length-1;o++){var s=n;n=0;for(var a=67108863&i,c=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=c;l++){var u=o-l,h=0|t.words[u],d=0|e.words[l],p=h*d,f=67108863&p;s=s+(p/67108864|0)|0,f=f+a|0,a=67108863&f,s=s+(f>>>26)|0,n+=s>>>26,s&=67108863}r.words[o]=a,i=s,s=n}return 0!==i?r.words[o]=i:r.length--,r._strip()}function b(t,e,r){return v(t,e,r)}function Q(t,e){this.x=t,this.y=e}Math.imul||(w=g),o.prototype.mulTo=function(t,e){var r,i=this.length+t.length;return r=10===this.length&&10===t.length?w(this,t,e):i<63?g(this,t,e):i<1024?v(this,t,e):b(this,t,e),r},Q.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,r,t);return e},Q.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var i=0,n=0;n<e;n++)i|=(1&t)<<e-n-1,t>>=1;return i},Q.prototype.permute=function(t,e,r,i,n,o){for(var s=0;s<o;s++)i[s]=e[t[s]],n[s]=r[t[s]]},Q.prototype.transform=function(t,e,r,i,n,o){this.permute(o,t,e,r,i,n);for(var s=1;s<n;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),u=0;u<n;u+=a)for(var h=c,d=l,p=0;p<s;p++){var f=r[u+p],m=i[u+p],y=r[u+p+s],g=i[u+p+s],w=h*y-d*g;g=h*g+d*y,y=w,r[u+p]=f+y,i[u+p]=m+g,r[u+p+s]=f-y,i[u+p+s]=m-g,p!==a&&(w=c*h-l*d,d=c*d+l*h,h=w)}},Q.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},Q.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=t[i];t[i]=t[r-i-1],t[r-i-1]=n,n=e[i],e[i]=-e[r-i-1],e[r-i-1]=-n}},Q.prototype.normalize13b=function(t,e){for(var r=0,i=0;i<e/2;i++){var n=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+r;t[i]=67108863&n,r=n<67108864?0:n/67108864|0}return t},Q.prototype.convert13b=function(t,e,r,n){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<n;++s)r[s]=0;i(0===o),i(0===(-8192&o))},Q.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},Q.prototype.mulp=function(t,e,r){var i=2*this.guessLen13b(t.length,e.length),n=this.makeRBT(i),o=this.stub(i),s=new Array(i),a=new Array(i),c=new Array(i),l=new Array(i),u=new Array(i),h=new Array(i),d=r.words;d.length=i,this.convert13b(t.words,t.length,s,i),this.convert13b(e.words,e.length,l,i),this.transform(s,o,a,c,i,n),this.transform(l,o,u,h,i,n);for(var p=0;p<i;p++){var f=a[p]*u[p]-c[p]*h[p];c[p]=a[p]*h[p]+c[p]*u[p],a[p]=f}return this.conjugate(a,c,i),this.transform(a,c,d,o,i,n),this.conjugate(d,o,i),this.normalize13b(d,i),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),b(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),i("number"===typeof t),i(t<67108864);for(var r=0,n=0;n<this.length;n++){var o=(0|this.words[n])*t,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[n]=67108863&s}return 0!==r&&(this.words[n]=r,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=y(t);if(0===e.length)return new o(1);for(var r=this,i=0;i<e.length;i++,r=r.sqr())if(0!==e[i])break;if(++i<e.length)for(var n=r.sqr();i<e.length;i++,n=n.sqr())0!==e[i]&&(r=r.mul(n));return r},o.prototype.iushln=function(t){i("number"===typeof t&&t>=0);var e,r=t%26,n=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,c=(0|this.words[e])-a<<r;this.words[e]=c|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this._strip()},o.prototype.ishln=function(t){return i(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var n;i("number"===typeof t&&t>=0),n=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,c=r;if(n-=s,n=Math.max(0,n),c){for(var l=0;l<s;l++)c.words[l]=this.words[l];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,l=0;l<this.length;l++)this.words[l]=this.words[l+s];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(0!==u||l>=n);l--){var h=0|this.words[l];this.words[l]=u<<26-o|h>>>o,u=h&a}return c&&0!==u&&(c.words[c.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,r){return i(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){i("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26,n=1<<e;if(this.length<=r)return!1;var o=this.words[r];return!!(o&n)},o.prototype.imaskn=function(t){i("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return i("number"===typeof t),i(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(i("number"===typeof t),i(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var n,o,s=t.length+r;this._expand(s);var a=0;for(n=0;n<t.length;n++){o=(0|this.words[n+r])+a;var c=(0|t.words[n])*e;o-=67108863&c,a=(o>>26)-(c/67108864|0),this.words[n+r]=67108863&o}for(;n<this.length-r;n++)o=(0|this.words[n+r])+a,a=o>>26,this.words[n+r]=67108863&o;if(0===a)return this._strip();for(i(-1===a),a=0,n=0;n<this.length;n++)o=-(0|this.words[n])+a,a=o>>26,this.words[n]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var r=this.length-t.length,i=this.clone(),n=t,s=0|n.words[n.length-1],a=this._countBits(s);r=26-a,0!==r&&(n=n.ushln(r),i.iushln(r),s=0|n.words[n.length-1]);var c,l=i.length-n.length;if("mod"!==e){c=new o(null),c.length=l+1,c.words=new Array(c.length);for(var u=0;u<c.length;u++)c.words[u]=0}var h=i.clone()._ishlnsubmul(n,1,l);0===h.negative&&(i=h,c&&(c.words[l]=1));for(var d=l-1;d>=0;d--){var p=67108864*(0|i.words[n.length+d])+(0|i.words[n.length+d-1]);p=Math.min(p/s|0,67108863),i._ishlnsubmul(n,p,d);while(0!==i.negative)p--,i.negative=0,i._ishlnsubmul(n,1,d),i.isZero()||(i.negative^=1);c&&(c.words[d]=p)}return c&&c._strip(),i._strip(),"div"!==e&&0!==r&&i.iushrn(r),{div:c||null,mod:i}},o.prototype.divmod=function(t,e,r){return i(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(n=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:n,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(n=a.div.neg()),{div:n,mod:a.mod}):0!==(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var n,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),n=t.andln(1),o=r.cmp(i);return o<0||1===n&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),i(t<=67108863);for(var r=(1<<26)%t,n=0,o=this.length-1;o>=0;o--)n=(r*n+(0|this.words[o]))%t;return e?-n:n},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),i(t<=67108863);for(var r=0,n=this.length-1;n>=0;n--){var o=(0|this.words[n])+67108864*r;this.words[n]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){i(0===t.negative),i(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();var n=new o(1),s=new o(0),a=new o(0),c=new o(1),l=0;while(e.isEven()&&r.isEven())e.iushrn(1),r.iushrn(1),++l;var u=r.clone(),h=e.clone();while(!e.isZero()){for(var d=0,p=1;0===(e.words[0]&p)&&d<26;++d,p<<=1);if(d>0){e.iushrn(d);while(d-- >0)(n.isOdd()||s.isOdd())&&(n.iadd(u),s.isub(h)),n.iushrn(1),s.iushrn(1)}for(var f=0,m=1;0===(r.words[0]&m)&&f<26;++f,m<<=1);if(f>0){r.iushrn(f);while(f-- >0)(a.isOdd()||c.isOdd())&&(a.iadd(u),c.isub(h)),a.iushrn(1),c.iushrn(1)}e.cmp(r)>=0?(e.isub(r),n.isub(a),s.isub(c)):(r.isub(e),a.isub(n),c.isub(s))}return{a,b:c,gcd:r.iushln(l)}},o.prototype._invmp=function(t){i(0===t.negative),i(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();var n,s=new o(1),a=new o(0),c=r.clone();while(e.cmpn(1)>0&&r.cmpn(1)>0){for(var l=0,u=1;0===(e.words[0]&u)&&l<26;++l,u<<=1);if(l>0){e.iushrn(l);while(l-- >0)s.isOdd()&&s.iadd(c),s.iushrn(1)}for(var h=0,d=1;0===(r.words[0]&d)&&h<26;++h,d<<=1);if(h>0){r.iushrn(h);while(h-- >0)a.isOdd()&&a.iadd(c),a.iushrn(1)}e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return n=0===e.cmpn(1)?s:a,n.cmpn(0)<0&&n.iadd(t),n},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var i=0;e.isEven()&&r.isEven();i++)e.iushrn(1),r.iushrn(1);do{while(e.isEven())e.iushrn(1);while(r.isEven())r.iushrn(1);var n=e.cmp(r);if(n<0){var o=e;e=r,r=o}else if(0===n||0===r.cmpn(1))break;e.isub(r)}while(1);return r.iushln(i)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){i("number"===typeof t);var e=t%26,r=(t-e)/26,n=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=n,this;for(var o=n,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];a+=o,o=a>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),i(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|t.words[r];if(i!==n){i<n?e=-1:i>n&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new F(t)},o.prototype.toRed=function(t){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return i(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return i(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var B={k256:null,p224:null,p192:null,p25519:null};function E(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function _(){E.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function U(){E.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function x(){E.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){E.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function F(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else i(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){F.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}E.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},E.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),r=this.imulK(r),r=r.iadd(this.tmp),e=r.bitLength()}while(e>this.n);var i=e<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},E.prototype.split=function(t,e){t.iushrn(this.n,0,e)},E.prototype.imulK=function(t){return t.imul(this.k)},n(_,E),_.prototype.split=function(t,e){for(var r=4194303,i=Math.min(t.length,9),n=0;n<i;n++)e.words[n]=t.words[n];if(e.length=i,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,n=10;n<t.length;n++){var s=0|t.words[n];t.words[n-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[n-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},_.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var i=0|t.words[r];e+=977*i,t.words[r]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(U,E),n(x,E),n(S,E),S.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var i=19*(0|t.words[r])+e,n=67108863&i;i>>>=26,t.words[r]=n,e=i}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(B[t])return B[t];var e;if("k256"===t)e=new _;else if("p224"===t)e=new U;else if("p192"===t)e=new x;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new S}return B[t]=e,e},F.prototype._verify1=function(t){i(0===t.negative,"red works only with positives"),i(t.red,"red works only with red numbers")},F.prototype._verify2=function(t,e){i(0===(t.negative|e.negative),"red works only with positives"),i(t.red&&t.red===e.red,"red works only with red numbers")},F.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(u(t,t.umod(this.m)._forceRed(this)),t)},F.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},F.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},F.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},F.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},F.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},F.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},F.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},F.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},F.prototype.isqr=function(t){return this.imul(t,t.clone())},F.prototype.sqr=function(t){return this.mul(t,t)},F.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(i(e%2===1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}var n=this.m.subn(1),s=0;while(!n.isZero()&&0===n.andln(1))s++,n.iushrn(1);i(!n.isZero());var a=new o(1).toRed(this),c=a.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();u=new o(2*u*u).toRed(this);while(0!==this.pow(u,l).cmp(c))u.redIAdd(c);var h=this.pow(u,n),d=this.pow(t,n.addn(1).iushrn(1)),p=this.pow(t,n),f=s;while(0!==p.cmp(a)){for(var m=p,y=0;0!==m.cmp(a);y++)m=m.redSqr();i(y<f);var g=this.pow(h,new o(1).iushln(f-y-1));d=d.redMul(g),h=g.redSqr(),p=p.redMul(h),f=y}return d},F.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},F.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=4,i=new Array(1<<r);i[0]=new o(1).toRed(this),i[1]=t;for(var n=2;n<i.length;n++)i[n]=this.mul(i[n-1],t);var s=i[0],a=0,c=0,l=e.bitLength()%26;for(0===l&&(l=26),n=e.length-1;n>=0;n--){for(var u=e.words[n],h=l-1;h>=0;h--){var d=u>>h&1;s!==i[0]&&(s=this.sqr(s)),0!==d||0!==a?(a<<=1,a|=d,c++,(c===r||0===n&&0===h)&&(s=this.mul(s,i[a]),c=0,a=0)):c=0}l=26}return s},F.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},F.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new k(t)},n(k,F),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},k.prototype.invm=function(t){var e=this.imod(t._invmp(this.m).mul(this.r2));return e._forceRed(this)}}(t,this)},14704:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});var i=function(){function t(){}return t.get_n_pad_bytes=function(t){return 64-(t+8&63)},t.pad=function(e){var r=e.byteLength,i=t.get_n_pad_bytes(r),n=function(t,e){return[Math.floor(t/e),t%e]},o=n(r,536870912).map((function(t,e){return e?8*t:t})),s=o[0],a=o[1],c=new Uint8Array(r+i+8);c.set(new Uint8Array(e),0);var l=new DataView(c.buffer);return l.setUint8(r,128),l.setUint32(r+i,a,!0),l.setUint32(r+i+4,s,!0),c.buffer},t.f=function(t,e,r,i){return 0<=t&&t<=15?e^r^i:16<=t&&t<=31?e&r|~e&i:32<=t&&t<=47?(e|~r)^i:48<=t&&t<=63?e&i|r&~i:64<=t&&t<=79?e^(r|~i):void 0},t.K=function(t){return 0<=t&&t<=15?0:16<=t&&t<=31?1518500249:32<=t&&t<=47?1859775393:48<=t&&t<=63?2400959708:64<=t&&t<=79?2840853838:void 0},t.KP=function(t){return 0<=t&&t<=15?1352829926:16<=t&&t<=31?1548603684:32<=t&&t<=47?1836072691:48<=t&&t<=63?2053994217:64<=t&&t<=79?0:void 0},t.add_modulo32=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0|Array.from(t).reduce((function(t,e){return t+e}),0)},t.rol32=function(t,e){return t<<e|t>>>32-e},t.hash=function(e){for(var r=t.pad(e),i=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],n=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],o=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],s=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],a=4,c=64,l=r.byteLength/c,u=new Array(l).fill(void 0).map((function(t,e){return function(t){return new DataView(r,e*c,c).getUint32(t*a,!0)}})),h=[1732584193,4023233417,2562383102,271733878,3285377520],d=0;d<l;++d){for(var p=h[0],f=h[1],m=h[2],y=h[3],g=h[4],w=p,v=f,b=m,Q=y,B=g,E=0;E<80;++E){var _=t.add_modulo32(t.rol32(t.add_modulo32(p,t.f(E,f,m,y),u[d](i[E]),t.K(E)),o[E]),g);p=g,g=y,y=t.rol32(m,10),m=f,f=_,_=t.add_modulo32(t.rol32(t.add_modulo32(w,t.f(79-E,v,b,Q),u[d](n[E]),t.KP(E)),s[E]),B),w=B,B=Q,Q=t.rol32(b,10),b=v,v=_}var U=t.add_modulo32(h[1],m,Q);h[1]=t.add_modulo32(h[2],y,B),h[2]=t.add_modulo32(h[3],g,w),h[3]=t.add_modulo32(h[4],p,v),h[4]=t.add_modulo32(h[0],f,b),h[0]=U}var x=new ArrayBuffer(20),S=new DataView(x);return h.forEach((function(t,e){return S.setUint32(4*e,t,!0)})),x},t}();const n=i},5658:(t,e,r)=>{"use strict";r.d(e,{Z:()=>Xl});var i=r(88424),n=r(56370),o=r.n(n),s=r(46251),a=r(76250),c=r.n(a),l=r(14306);function u(t,e,r,i){var n,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,r,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(o<3?n(s):o>3?n(e,r,s):n(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s}Object.create;Object.create;var h=r(40019);
/**
 * EOSIO Core v0.6.8
 * https://github.com/greymass/eosio-core
 *
 * @license
 * Copyright (c) 2020 FFF00 Agents AB & Greymass Inc. All Rights Reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 *  1. Redistribution of source code must retain the above copyright notice, this
 *     list of conditions and the following disclaimer.
 * 
 *  2. Redistribution in binary form must reproduce the above copyright notice,
 *     this list of conditions and the following disclaimer in the documentation
 *     and/or other materials provided with the distribution.
 * 
 *  3. Neither the name of the copyright holder nor the names of its contributors
 *     may be used to endorse or promote products derived from this software without
 *     specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
 * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
 */function d(t,e){const r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(t[i]!==e[i])return!1;return!0}function p(t,e){const r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(!t[i].equals(e[i]))return!1;return!0}const f={};function m(){f.enc=new Array(255),f.dec={};for(let t=0;t<=255;++t){const e=t.toString(16).padStart(2,"0");f.enc[t]=e,f.dec[e]=t}}function y(t){f.enc||m();const e=t.length,r=new Array(e);for(let i=0;i<e;++i)r[i]=f.enc[t[i]];return r.join("")}function g(t){if(f.dec||m(),"string"!==typeof t)throw new Error("Expected string containing hex digits");if(t.length%2)throw new Error("Odd number of hex digits");t=t.toLowerCase();const e=t.length/2,r=new Uint8Array(e);for(let i=0;i<e;i++){const e=f.dec[t[2*i]+t[2*i+1]];if(void 0===e)throw new Error("Expected hex string");r[i]=e}return r}function w(t){return o()(t)}let v=!1;function b(t,e){if(t instanceof e)return!0;if(null==t||"object"!==typeof t)return!1;const r=e["__className"]||e["abiName"];if(!r)return!1;let i=t.constructor,n=!1;while(i&&!n){const t=i["__className"]||i["abiName"];if(!t)break;n=r==t,i=Object.getPrototypeOf(i)}return n&&!v&&(h.warn(`Detected alien instance of ${r}, this usually means more than one version of @greymass/eosio has been included in your bundle.`),v=!0),n}class Q{constructor(t=new Uint8Array){this.array=t}static from(t,e){return b(t,this)?t:"string"===typeof t?this.fromString(t,e):ArrayBuffer.isView(t)?new this(new Uint8Array(t.buffer,t.byteOffset,t.byteLength)):b(t["array"],Uint8Array)?new this(t["array"]):new this(new Uint8Array(t))}static fromString(t,e="hex"){if("hex"===e){const e=g(t);return new this(e)}if("utf8"==e){const e=new TextEncoder;return new this(e.encode(t))}throw new Error(`Unknown encoding: ${e}`)}static fromABI(t){const e=t.readVaruint32();return new this(t.readArray(e))}static abiDefault(){return new Q}static equal(t,e){return this.from(t).equals(this.from(e))}static random(t){return new this(w(t))}static isBytes(t){return!(!b(t,Q)&&!b(t,Uint8Array))||(!(!Array.isArray(t)||!t.every((t=>"number"===typeof t)))||!("string"!==typeof t||!/[\da-f]/i.test(t)&&""!==t))}get length(){return this.array.byteLength}get hexString(){return y(this.array)}get utf8String(){return(new TextDecoder).decode(this.array)}append(t){t=Q.from(t);const e=this.array.byteLength+t.array.byteLength,r=new ArrayBuffer(e),i=new Uint8Array(r);i.set(this.array),i.set(t.array,this.array.byteLength),this.array=i}appending(t){const e=new Q(this.array);return e.append(t),e}zeropad(t,e=!1){const r=e?t:Math.max(t,this.array.byteLength),i=new ArrayBuffer(r),n=new Uint8Array(i);n.fill(0),e&&this.array.byteLength>r?n.set(this.array.slice(0,r),0):n.set(this.array,r-this.array.byteLength),this.array=n}zeropadded(t,e=!1){const r=new Q(this.array);return r.zeropad(t,e),r}dropFirst(t=1){this.array=this.array.subarray(t)}droppingFirst(t=1){return new Q(this.array.subarray(t))}copy(){const t=new ArrayBuffer(this.array.byteLength),e=new Uint8Array(t);return e.set(this.array),new Q(e)}equals(t){return d(this.array,Q.from(t).array)}toString(t="hex"){if("hex"===t)return this.hexString;if("utf8"===t)return this.utf8String;throw new Error(`Unknown encoding: ${t}`)}toABI(t){t.writeVaruint32(this.array.byteLength),t.writeArray(this.array)}toJSON(){return this.hexString}}Q.abiName="bytes";class B{constructor(t){const e=this.constructor.byteSize;if(t.byteLength!==e)throw new Error(`Checksum size mismatch, expected ${e} bytes got ${t.byteLength}`);this.array=t}static from(t){return b(t,this)?t:b(t,B)?new this(t.array):new this(Q.from(t).array)}static fromABI(t){return new this(t.readArray(this.byteSize))}static abiDefault(){return new this(new Uint8Array(this.byteSize))}equals(t){const e=this.constructor;try{return d(this.array,e.from(t).array)}catch{return!1}}get hexString(){return y(this.array)}toABI(t){t.writeArray(this.array)}toString(){return this.hexString}toJSON(){return this.toString()}}B.abiName="__checksum";class E extends B{static from(t){return super.from(t)}static hash(t){const e=new Uint8Array((0,s.sha256)().update(Q.from(t).array).digest());return new E(e)}}E.abiName="checksum256",E.byteSize=32;class _ extends B{static from(t){return super.from(t)}static hash(t){const e=new Uint8Array((0,s.sha512)().update(Q.from(t).array).digest());return new _(e)}}_.abiName="checksum512",_.byteSize=64;class U extends B{static from(t){return super.from(t)}static hash(t){const e=new Uint8Array((0,s.ripemd160)().update(Q.from(t).array).digest());return new U(e)}}var x;U.abiName="checksum160",U.byteSize=20,function(t){t["K1"]="K1",t["R1"]="R1",t["WA"]="WA"}(x||(x={})),function(t){function e(e){switch(e){case t.K1:return 0;case t.R1:return 1;case t.WA:return 2;default:throw new Error(`Unknown curve type: ${e}`)}}function r(e){let r;switch(r="number"!==typeof e?t.indexFor(e):e,r){case 0:return t.K1;case 1:return t.R1;case 2:return t.WA;default:throw new Error("Unknown curve type")}}t.indexFor=e,t.from=r}(x||(x={}));class S{constructor(t){const e=this.constructor;if(void 0===e.isSigned||void 0===e.byteWidth)throw new Error("Cannot instantiate abstract class Int");if(t.gt(e.max))throw new Error(`Number ${t} overflows ${e.abiName}`);if(t.lt(e.min))throw new Error(`Number ${t} underflows ${e.abiName}`);this.value=t}static get max(){return new(c())(2).pow(new(c())(8*this.byteWidth-(this.isSigned?1:0))).isubn(1)}static get min(){return this.isSigned?this.max.ineg().isubn(1):new(c())(0)}static add(t,e,r="truncate"){return S.operator(t,e,r,((t,e)=>t.add(e)))}static sub(t,e,r){return S.operator(t,e,r,((t,e)=>t.sub(e)))}static mul(t,e,r){return S.operator(t,e,r,((t,e)=>t.mul(e)))}static div(t,e,r){return S.operator(t,e,r,((t,e)=>{if(e.isZero())throw new Error("Division by zero");return t.div(e)}))}static divRound(t,e,r){return S.operator(t,e,r,((t,e)=>{if(e.isZero())throw new Error("Division by zero");return t.divRound(e)}))}static divCeil(t,e,r){return S.operator(t,e,r,((t,e)=>{if(e.isZero())throw new Error("Division by zero");const r=t.divmod(e);return r.mod.isZero()?r.div:0!==r.div.negative?r.div.isubn(1):r.div.iaddn(1)}))}static operator(t,e,r="truncate",i){const{a:n,b:o}=j(t,e),s=n.constructor,a=i(n.value,o.value);return s.from(a,r)}static from(t,e){if(b(t,this))return t;let r,i=this;if(b(t,S))i=t.constructor,r=t.value.clone();else if(t instanceof Uint8Array)r=new(c())(t,void 0,"le"),i.isSigned&&(r=r.fromTwos(8*i.byteWidth));else{if("string"===typeof t&&!/[0-9]+/.test(t)||"number"===typeof t&&!Number.isFinite(t))throw new Error("Invalid number");r=c().isBN(t)?t.clone():new(c())(t,10),r.isNeg()&&!i.isSigned&&(i={byteWidth:i.byteWidth,isSigned:!0})}switch(e){case"clamp":r=P(r,this.min,this.max);break;case"truncate":r=O(r,i,this);break}return new this(r)}static fromABI(t){return this.from(t.readArray(this.byteWidth))}static abiDefault(){return this.from(0)}static random(){return this.from(w(this.byteWidth))}cast(t,e="truncate"){return this.constructor===t?this:t.from(this,e)}get byteArray(){const t=this.constructor,e=t.isSigned?this.value.toTwos(8*t.byteWidth):this.value;return e.toArrayLike(Uint8Array,"le",t.byteWidth)}equals(t,e=!1){const r=this.constructor;if(!0===e&&b(t,S)){const e=t.constructor;if(r.byteWidth!==e.byteWidth||r.isSigned!==e.isSigned)return!1}try{return this.value.eq(r.from(t).value)}catch{return!1}}add(t){this.value=this.operator(t,S.add).value}adding(t){return this.operator(t,S.add)}subtract(t){this.value=this.operator(t,S.sub).value}subtracting(t){return this.operator(t,S.sub)}multiply(t){this.value=this.operator(t,S.mul).value}multiplying(t){return this.operator(t,S.mul)}divide(t,e){this.value=this.dividing(t,e).value}dividing(t,e){let r=S.div;switch(e){case"ceil":r=S.divCeil;break;case"round":r=S.divRound;break}return this.operator(t,r)}operator(t,e){let r;return r=b(t,S)?t:A.from(t,"truncate"),e(this,r).cast(this.constructor)}toNumber(){return this.value.toNumber()}toString(){return this.value.toString()}[Symbol.toPrimitive](t){return"number"===t?this.toNumber():this.toString()}toABI(t){t.writeArray(this.byteArray)}toJSON(){return this.value.bitLength()>32?this.value.toString():this.value.toNumber()}}S.abiName="__int";class F extends S{}F.abiName="int8",F.byteWidth=1,F.isSigned=!0;class k extends S{}k.abiName="int16",k.byteWidth=2,k.isSigned=!0;class N extends S{}N.abiName="int32",N.byteWidth=4,N.isSigned=!0;class A extends S{}A.abiName="int64",A.byteWidth=8,A.isSigned=!0;class L extends S{}L.abiName="int128",L.byteWidth=16,L.isSigned=!0;class D extends S{}D.abiName="uint8",D.byteWidth=1,D.isSigned=!1;class C extends S{}C.abiName="uint16",C.byteWidth=2,C.isSigned=!1;class I extends S{}I.abiName="uint32",I.byteWidth=4,I.isSigned=!1;class M extends S{}M.abiName="uint64",M.byteWidth=8,M.isSigned=!1;class T extends S{}T.abiName="uint128",T.byteWidth=16,T.isSigned=!1;class R extends S{static fromABI(t){return new this(new(c())(t.readVarint32()))}toABI(t){t.writeVarint32(Number(this))}}R.abiName="varint32",R.byteWidth=32,R.isSigned=!0;class z extends S{static fromABI(t){return new this(new(c())(t.readVaruint32()))}toABI(t){t.writeVaruint32(Number(this))}}function P(t,e,r){return c().min(c().max(t,e),r)}function O(t,e,r){const i=t.isNeg()?255:0,n=e.isSigned?t.toTwos(8*e.byteWidth):t,o=n.toArrayLike(Uint8Array,"le"),s=new Uint8Array(r.byteWidth);s.fill(i),s.set(o.slice(0,r.byteWidth));const a=new(c())(s,void 0,"le");return r.isSigned?a.fromTwos(8*r.byteWidth):a}function j(t,e){t=J(t),e=J(e);const r=t.constructor,i=e.constructor;return r!==i&&(r.isSigned===i.isSigned?r.byteWidth>i.byteWidth?e=e.cast(r):i.byteWidth>r.byteWidth&&(t=t.cast(i)):!1===r.isSigned&&r.byteWidth>=i.byteWidth?e=e.cast(r):!1===i.isSigned&&i.byteWidth>=r.byteWidth?t=t.cast(i):!0===r.isSigned&&r.max.gte(i.max)&&r.min.lte(i.min)?e=e.cast(r):!0===i.isSigned&&i.max.gte(r.max)&&i.min.lte(r.min)&&(t=t.cast(i))),{a:t,b:e}}function J(t){let e=t;const r=t.constructor;return r.byteWidth<4&&(e=t.cast(N)),e}function $(t){const e=[],r=[],i=[],n=new Set,o=t=>{let e;return e="string"!==typeof t.type?s(t.type):t.type,!0===t.array&&(e+="[]"),!0===t.optional&&(e+="?"),!0===t.extension&&(e+="$"),e},s=t=>{if(!t.abiName)throw new Error("Encountered non-conforming type");if("__struct"===t.abiName)throw new Error("Misconfigured Struct subclass, did you forget @Struct.type?");if(n.has(t))return t.abiName;if(n.add(t),t.abiAlias)i.push({new_type_name:t.abiName,type:o(t.abiAlias)});else if(t.abiFields){const r=t.abiFields.map((t=>({name:t.name,type:o(t)}))),i={base:t.abiBase?s(t.abiBase):"",name:t.abiName,fields:r};e.push(i)}else if(t.abiVariant){const e={name:t.abiName,types:t.abiVariant.map(o)};r.push(e)}return t.abiName},a=s(t);return{abi:Ut.from({structs:e,variants:r,types:i}),types:Array.from(n),root:a}}function V(t){let e="string"===typeof t.type?t.type:t.type.abiName;return!0===t.array&&(e+="[]"),!0===t.optional&&(e+="?"),!0===t.extension&&(e+="$"),e}function q(t){return"string"!==typeof t&&void 0===t.abiName&&void 0!==t.type}function W(t){return"string"===typeof t||"undefined"!==typeof t.abiName?{type:t}:t}z.abiName="varuint32",z.byteWidth=32,z.isSigned=!1;const K={abiName:"string",abiDefault:()=>"",fromABI:t=>t.readString(),from:t=>t,toABI:(t,e)=>{e.writeString(t)}},Z={abiName:"bool",abiDefault:()=>!1,fromABI:t=>1===t.readByte(),from:t=>t,toABI:(t,e)=>{e.writeByte(!0===t?1:0)}};function H(){return[Z,K,xt,xt.Symbol,xt.SymbolCode,_t,Q,U,E,_,St,gt,mt,yt,L,k,N,A,F,wt,Ct,zt,Bt,Et,T,C,I,M,D,R,z]}function G(t=[]){const e={},r=H();for(const i of r)e[i.abiName]=i;for(const i of t){if(!i.abiName)throw new Error("Invalid type");e[i.abiName]=i}return e}function X(t){if(t.constructor&&void 0!==t.constructor.abiName)return t.constructor.abiName;if(Array.isArray(t)){const e=t.map(X),r=e[0];if(!r||!e.every((t=>t===r)))return;return r+"[]"}switch(typeof t){case"boolean":return"bool";case"string":return"string"}}function Y(t,e="jsobj"){var r;if(t.constructor&&void 0!==t.constructor.abiName)return t.constructor;if(Array.isArray(t)){const r=t.map((t=>Y(t,e))),i=r[0];if(!i)return;if(!r.every((t=>t&&t.abiName===i.abiName)))return;return i}const i=typeof t;if("object"===i&&null!==t){const i=Object.keys(t).map((r=>({name:r,type:Y(t[r],e+"_nested")})));if(i.find((t=>!t.type)))return;return r=class extends ht{},r.abiName=e,r.abiFields=i,r}switch(i){case"boolean":return Z;case"string":return K}}class tt extends Error{constructor(t,e){const r=t.codingPath.map((({field:t,type:e})=>"number"===typeof t?t:`${t}<${e.typeName}>`)).join(".");super(`Decoding error at ${r}: ${e.message}`),this.stack=e.stack,this.ctx=t,this.underlyingError=e}}function et(t){const e=W(t.type),r=V(e),i=t.customTypes||[];let n;if(t.abi)n=Ut.from(t.abi);else try{let t;if("string"===typeof e.type){const r=G(i),n=new Ut.ResolvedType(e.type).name;if(t=r[n],!t)throw new Error(`Unknown type: ${e.type}`)}else t=e.type;const r=$(t);n=r.abi,i.push(...r.types)}catch(a){throw Error(`Unable to synthesize ABI for: ${r} (${a.message}). To decode non-class types you need to pass the ABI definition manually.`)}const o=n.resolveType(r);"string"!==typeof e.type&&i.unshift(e.type);const s={types:G(i),strictExtensions:t.strictExtensions||!1,codingPath:[{field:"root",type:o}]};try{if(t.data||""===t.data){let e;if(b(t.data,st))e=t.data;else{const r=Q.from(t.data);e=new st(r.array)}return t.metadata&&(e.metadata=t.metadata),it(o,e,s)}if(void 0!==t.object)return nt(t.object,o,s);if(t.json)return nt(JSON.parse(t.json),o,s);throw new Error("Nothing to decode, you must set one of data, json, object")}catch(a){throw new tt(s,a)}}tt.__className="DecodingError";const rt=Symbol("Resolved");function it(t,e,r){if(r.codingPath.length>32)throw new Error("Maximum decoding depth exceeded");if(t.isExtension&&!e.canRead())return r.strictExtensions?ot(t,r):null;if(t.isOptional&&0===e.readByte())return null;if(t.isArray){const n=e.readVaruint32(),o=[];for(let e=0;e<n;e++)r.codingPath.push({field:e,type:t}),o.push(i()),r.codingPath.pop();return o}return i();function i(){const i=r.types[t.name];if(i&&i.fromABI)return i.fromABI(e);if(t.ref){r.codingPath.push({field:"",type:t.ref});const i=it(t.ref,e,r);return r.codingPath.pop(),i}if(t.fields){const n=t.allFields;if(!n)throw new Error("Invalid struct fields");const o={};for(const t of n)r.codingPath.push({field:t.name,type:t.type}),o[t.name]=it(t.type,e,r),r.codingPath.pop();return i?(o[rt]=!0,i.from(o)):o}if(t.variant){const n=e.readByte(),o=t.variant[n];if(!o)throw new Error(`Unknown variant idx: ${n}`);r.codingPath.push({field:`v${n}`,type:o});const s=[o.typeName,it(o,e,r)];return r.codingPath.pop(),i?i.from(s):s}throw i?new Error("Invalid type"):new Error("any"===t.name?"Unable to decode 'any' type from binary":"Unknown type")}}function nt(t,e,r){if(null===t||void 0===t){if(e.isOptional)return null;if(e.isExtension)return r.strictExtensions?ot(e,r):null;throw new Error(`Unexpectedly encountered ${t} for non-optional`)}if(e.isArray){if(!Array.isArray(t))throw new Error("Expected array");const n=[],o=t.length;for(let s=0;s<o;s++)r.codingPath.push({field:s,type:e}),n.push(i(t[s])),r.codingPath.pop();return n}return i(t);function i(t){const i=r.types[e.name];if(e.ref&&!i)return nt(t,e.ref,r);if(e.fields){if("object"!==typeof t)throw new Error("Expected object");if("function"===typeof i&&b(t,i))return t;const n=e.allFields;if(!n)throw new Error("Invalid struct fields");const o={};for(const e of n)r.codingPath.push({field:e.name,type:e.type}),o[e.name]=nt(t[e.name],e.type,r),r.codingPath.pop();return i?(o[rt]=!0,i.from(o)):o}if(e.variant){let n;Array.isArray(t)&&2===t.length&&"string"===typeof t[0]?(n=t[0],t=t[1]):b(t,pt)?(n=t.variantName,t=t.value):n=X(t);const o=e.variant.findIndex((t=>t.typeName===n));if(-1===o)throw new Error(`Unknown variant type: ${n}`);const s=e.variant[o];r.codingPath.push({field:`v${o}`,type:s});const a=[s.typeName,nt(t,s,r)];return r.codingPath.pop(),i?(a[rt]=!0,i.from(a)):a}if(!i){if("any"===e.name)return t;throw new Error("Unknown type")}return i.from(t)}}function ot(t,e,r=new Set){if(t.isArray)return[];if(t.isOptional)return null;const i=e.types[t.name];if(i&&i.abiDefault)return i.abiDefault();if(r.has(t.name))throw new Error("Circular type reference");if(r.add(t.name),t.allFields){const n={};for(const i of t.allFields)e.codingPath.push({field:i.name,type:i.type}),n[i.name]=ot(i.type,e,r),e.codingPath.pop();return i?(n[rt]=!0,i.from(n)):n}if(t.variant&&t.variant.length>0){const r=[t.variant[0].typeName,ot(t.variant[0],e)];return i?(r[rt]=!0,i.from(r)):r}if(t.ref){e.codingPath.push({field:"",type:t.ref});const i=ot(t.ref,e,r);return e.codingPath.pop(),i}throw new Error("Unable to determine default value")}class st{constructor(t){this.array=t,this.pos=0,this.textDecoder=new TextDecoder("utf-8",{fatal:!0}),this.metadata={},this.data=new DataView(t.buffer,t.byteOffset,t.byteLength)}canRead(t=1){return!(this.pos+t>this.array.byteLength)}ensure(t){if(!this.canRead(t))throw new Error("Read past end of buffer")}setPosition(t){if(t<0||t>this.array.byteLength)throw new Error("Invalid position");this.pos=t}getPosition(){return this.pos}advance(t){this.ensure(t),this.pos+=t}readByte(){return this.ensure(1),this.array[this.pos++]}readFloat(t){let e;switch(this.ensure(t),t){case 4:e=this.data.getFloat32(this.pos,!0);break;case 8:e=this.data.getFloat64(this.pos,!0);break;default:throw new Error("Invalid float size")}return this.pos+=t,e}readVaruint32(){let t=0,e=0;for(;;){const r=this.readByte();if(t|=(127&r)<<e,e+=7,!(128&r))break}return t>>>0}readVarint32(){const t=this.readVaruint32();return 1&t?~t>>1|2147483648:t>>>1}readArray(t){this.ensure(t);const e=this.array.subarray(this.pos,this.pos+t);return this.pos+=t,e}readString(){const t=this.readVaruint32();return this.textDecoder.decode(this.readArray(t))}}st.__className="ABIDecoder";class at extends Error{constructor(t,e){const r=t.codingPath.map((({field:t,type:e})=>"number"===typeof t?t:`${t}<${e.typeName}>`)).join(".");super(`Encoding error at ${r}: ${e.message}`),this.stack=e.stack,this.ctx=t,this.underlyingError=e}}function ct(t){let e,r;"string"===typeof t.type?r=t.type:t.type&&q(t.type)?("string"!==typeof t.type.type&&(e=t.type.type),r=V(t.type)):t.type&&void 0!==t.type.abiName?(e=t.type,r=t.type.abiName):(e=Y(t.object),e&&(r=e.abiName,Array.isArray(t.object)&&(r+="[]")));const i=t.customTypes?t.customTypes.slice():[];if(e)i.unshift(e);else if(r){const t=new Ut.ResolvedType(r).name;e=i.find((e=>e.abiName===t))}let n;if(t.abi&&r)n=Ut.from(t.abi).resolveType(r);else if(e){const t=$(e);n=t.abi.resolveType(r||e.abiName),i.push(...t.types)}else{if(!r)throw new Error("Unable to determine the type of the object to be encoded. To encode custom ABI types you must pass the type argument.");n=new Ut.ResolvedType(r)}const o=G(i),s=t.encoder||new ut;t.metadata&&(s.metadata=t.metadata);const a={types:o,encoder:s,codingPath:[{field:"root",type:n}]};try{lt(t.object,n,a)}catch(c){throw new at(a,c)}return Q.from(s.getData())}function lt(t,e,r){const i=void 0!==t&&null!==t;if(!e.isOptional||(r.encoder.writeByte(i?1:0),i))if(e.isArray){if(!Array.isArray(t))throw new Error(`Expected array for: ${e.typeName}`);const i=t.length;r.encoder.writeVaruint32(i);for(let o=0;o<i;o++)r.codingPath.push({field:o,type:e}),n(t[o]),r.codingPath.pop()}else n(t);function n(t){const n=r.types[e.name];if(!e.ref||n){if(!i){if(e.isExtension)return;throw new Error(`Found ${t} for non-optional type: ${e.typeName}`)}if(n&&n.toABI)n.toABI(t,r.encoder);else if("function"===typeof t.toABI&&t.constructor.abiName===e.name)t.toABI(r.encoder);else if(e.fields){if("object"!==typeof t)throw new Error(`Expected object for: ${e.name}`);const i=e.allFields;if(!i)throw new Error("Invalid struct fields");for(const e of i)r.codingPath.push({field:e.name,type:e.type}),lt(t[e.name],e.type,r),r.codingPath.pop()}else if(e.variant){let i;Array.isArray(t)&&2===t.length&&"string"===typeof t[0]?(i=t[0],t=t[1]):b(t,pt)?(i=t.variantName,t=t.value):i=X(t);const n=e.variant.findIndex((t=>t.typeName===i));if(-1===n){const t=e.variant.map((t=>`'${t.typeName}'`)).join(", ");throw new Error(`Unknown variant type '${i}', expected one of ${t}`)}const o=e.variant[n];r.encoder.writeVaruint32(n),r.codingPath.push({field:`v${n}`,type:o}),lt(t,o,r),r.codingPath.pop()}else{if(!n)throw new Error("any"===e.name?"Unable to encode any type to binary":"Unknown type");const i=n.from(t);if(!i.toABI)throw new Error(`Invalid type ${e.name}, no encoding methods implemented`);i.toABI(r.encoder)}}else lt(t,e.ref,r)}}at.__className="EncodingError";class ut{constructor(t=1024){this.pageSize=t,this.pos=0,this.textEncoder=new TextEncoder,this.metadata={};const e=new ArrayBuffer(t);this.data=new DataView(e),this.array=new Uint8Array(e)}ensure(t){if(this.data.byteLength>=this.pos+t)return;const e=Math.ceil(t/this.pageSize),r=this.data.byteLength+this.pageSize*e,i=new ArrayBuffer(r),n=new DataView(i),o=new Uint8Array(i);o.set(this.array),this.data=n,this.array=o}writeByte(t){this.ensure(1),this.array[this.pos++]=t}writeArray(t){const e=t.length;this.ensure(e),this.array.set(t,this.pos),this.pos+=e}writeFloat(t,e){switch(this.ensure(e),e){case 4:this.data.setFloat32(this.pos,t,!0);break;case 8:this.data.setFloat64(this.pos,t,!0);break;default:throw new Error("Invalid float size")}this.pos+=e}writeVaruint32(t){for(this.ensure(4);;){if(!(t>>>7)){this.array[this.pos++]=t;break}this.array[this.pos++]=128|127&t,t>>>=7}}writeVarint32(t){this.writeVaruint32(t<<1^t>>31)}writeString(t){const e=this.textEncoder.encode(t);this.writeVaruint32(e.byteLength),this.writeArray(e)}getData(){return new Uint8Array(this.array.buffer,this.array.byteOffset,this.pos)}getBytes(){return new Q(this.getData())}}ut.__className="ABIEncoder";class ht{constructor(t){const e=this.constructor;for(const r of e.structFields)this[r.name]=t[r.name]}static from(t){return!0===t[rt]?new this(t):b(t,this)?t:et({object:t,type:this})}static get structFields(){const t=[],e=r=>{r.abiBase&&e(r.abiBase);for(const e of r.abiFields||[])t.push(e)};return e(this),t}equals(t){const e=this.constructor;return(!t.constructor||"string"!==typeof t.constructor.abiName||t.constructor.abiName===e.abiName)&&ct({object:this}).equals(ct({object:e.from(t)}))}toJSON(){const t=this.constructor,e={};for(const r of t.structFields)e[r.name]=this[r.name];return e}}function dt(t){return function(e){return e.abiAlias={type:Object.getPrototypeOf(e.prototype).constructor},e.abiName=t,e}}ht.abiName="__struct",function(t){const e=Symbol("FieldsOwner");function r(t){return function(e){return e.abiName=t,e}}function i(t,r={}){return(i,n)=>{const o=i.constructor;o.abiFields?o.abiFields[e]!==o&&(o.abiBase=o.abiFields[e],o.abiFields=[],o.abiFields[e]=o):(o.abiFields=[],o.abiFields[e]=o),o.abiFields.push({...r,name:n,type:t})}}t.type=r,t.field=i}(ht||(ht={}));class pt{constructor(t){const e=this.constructor.abiVariant;this.value=t[1];const r=e.map(V).findIndex((e=>e===t[0]));if(0>r||e.length<=r)throw new Error(`Unknown variant ${t[0]}`);this.variantIdx=r}static from(t){return t[rt]?new this(t):b(t,this)?t:et({object:t,type:this})}equals(t){const e=this.constructor,r=e.from(t);return this.variantIdx===r.variantIdx&&ct({object:this}).equals(ct({object:r}))}get variantName(){const t=this.constructor.abiVariant[this.variantIdx];return V(t)}toJSON(){return[this.variantName,this.value]}}pt.abiName="__variant",pt.abiVariant=[],function(t){function e(t,e){return function(r){return r.abiName=t,r.abiVariant=e.map(W),r}}t.type=e}(pt||(pt={}));class ft{constructor(t){if(!Number.isFinite(t))throw new Error("Invalid number");this.value=t}static from(t){return b(t,this)?t:("string"===typeof t?t=Number.parseFloat(t):b(t,ft)&&(t=t.value),new this(t))}static fromABI(t){return new this(t.readFloat(this.byteWidth))}static abiDefault(){return this.from(0)}static random(){const t=w(this.byteWidth),e=new st(t);return this.fromABI(e)}equals(t){const e=this.constructor;return this.value===e.from(t).value}toABI(t){const e=this.constructor;t.writeFloat(this.value,e.byteWidth)}toString(){return this.value.toString()}toJSON(){return this.toString()}}ft.abiName="__float";class mt extends ft{toString(){return this.value.toFixed(7)}}mt.abiName="float32",mt.byteWidth=4;class yt extends ft{}yt.abiName="float64",yt.byteWidth=8;class gt{constructor(t){if(16!==t.array.length)throw new Error("Invalid float128");this.data=t}static from(t){return b(t,this)?t:("string"===typeof t&&t.startsWith("0x")&&(t=t.slice(2)),new this(Q.from(t)))}static fromABI(t){return new this(new Q(t.readArray(this.byteWidth)))}static random(){const t=w(16),e=new st(t);return this.fromABI(e)}equals(t){const e=this.constructor;return this.data.equals(e.from(t).data)}toABI(t){t.writeArray(this.data.array)}toString(){return"0x"+this.data.hexString}toJSON(){return this.toString()}}gt.abiName="float128",gt.byteWidth=16;class wt{constructor(t){this.value=t}get rawValue(){return this.value}static from(t){if(b(t,wt))return t;if("string"===typeof t)return new wt(vt(t));if(b(t,M))return new wt(t);throw new Error("Invalid name")}static fromABI(t){return new wt(M.fromABI(t))}static abiDefault(){return new this(M.from(0))}equals(t){return this.value.equals(wt.from(t).value)}toString(){return bt(this.value)}toABI(t){this.value.toABI(t)}toJSON(){return this.toString()}}function vt(t){function e(t){return t>="a".charCodeAt(0)&&t<="z".charCodeAt(0)?t-"a".charCodeAt(0)+6:t>="1".charCodeAt(0)&&t<="5".charCodeAt(0)?t-"1".charCodeAt(0)+1:0}const r=new Uint8Array(8);let i=63;for(let n=0;n<t.length;++n){let o=e(t.charCodeAt(n));i<5&&(o<<=1);for(let t=4;t>=0;--t)i>=0&&(r[Math.floor(i/8)]|=(o>>t&1)<<i%8,--i)}return M.from(r)}function bt(t){const e=t.value.toArray("le",8);let r="";for(let i=63;i>=0;){let t=0;for(let r=0;r<5;++r)i>=0&&(t=t<<1|e[Math.floor(i/8)]>>i%8&1,--i);r+=t>=6?String.fromCharCode(t+"a".charCodeAt(0)-6):t>=1?String.fromCharCode(t+"1".charCodeAt(0)-1):"."}while(r.endsWith("."))r=r.substr(0,r.length-1);return r}wt.abiName="name",wt.pattern=/^[a-z1-5.]{0,13}$/;class Qt{static from(t){return b(t,this)?t:b(t,Qt)?this.fromMilliseconds(t.toMilliseconds()):b(t,Date)?this.fromDate(t):"string"===typeof t?this.fromString(t):this.fromInteger(t)}static fromString(t){const e=Date.parse(t+"Z");if(!Number.isFinite(e))throw new Error("Invalid date string");return this.fromMilliseconds(e)}static fromDate(t){return this.fromMilliseconds(t.getTime())}static abiDefault(){return this.from(0)}toABI(t){const e=this;e.value.toABI(t)}equals(t){const e=this.constructor;return this.toMilliseconds()===e.from(t).toMilliseconds()}toMilliseconds(){throw new Error("Not implemented")}toDate(){return new Date(this.toMilliseconds())}toJSON(){return this.toString()}}Qt.abiName="__time_point_base";class Bt extends Qt{constructor(t){super(),this.value=t}static fromMilliseconds(t){return new this(A.from(Math.round(1e3*t)))}static fromInteger(t){return new this(A.from(t))}static fromABI(t){return new this(A.fromABI(t))}toString(){return this.toDate().toISOString().slice(0,-1)}toMilliseconds(){return Number(this.value.dividing(1e3,"round"))}}Bt.abiName="time_point";class Et extends Qt{constructor(t){super(),this.value=t}static fromMilliseconds(t){return new this(I.from(Math.round(t/1e3)))}static fromInteger(t){return new this(I.from(t))}static fromABI(t){return new this(I.fromABI(t))}toString(){return this.toDate().toISOString().slice(0,-5)}toMilliseconds(){return Number(this.value.cast(M).multiplying(1e3))}}Et.abiName="time_point_sec";class _t extends Qt{constructor(t){super(),this.value=t}static fromMilliseconds(t){return new this(I.from(Math.round((t-9466848e5)/500)))}static fromInteger(t){return new this(I.from(t))}static fromABI(t){return new this(I.fromABI(t))}toString(){return this.toDate().toISOString().slice(0,-1)}toMilliseconds(){return Number(this.value.cast(M).multiplying(500).adding(9466848e5))}}_t.abiName="block_timestamp_type";class Ut{constructor(t){this.version=t.version||Ut.version,this.types=t.types||[],this.variants=t.variants||[],this.structs=t.structs||[],this.actions=t.actions||[],this.tables=t.tables||[],this.ricardian_clauses=t.ricardian_clauses||[]}static from(t){return b(t,Ut)?t:new Ut("string"===typeof t?JSON.parse(t):t)}static fromABI(t){const e=t.readString(),r=[],i=t.readVaruint32();for(let m=0;m<i;m++)r.push({new_type_name:t.readString(),type:t.readString()});const n=[],o=t.readVaruint32();for(let m=0;m<o;m++){const e=t.readString(),r=t.readString(),i=t.readVaruint32(),o=[];for(let n=0;n<i;n++)o.push({name:t.readString(),type:t.readString()});n.push({base:r,name:e,fields:o})}const s=[],a=t.readVaruint32();for(let m=0;m<a;m++){const e=wt.fromABI(t),r=t.readString(),i=t.readString();s.push({name:e,type:r,ricardian_contract:i})}const c=[],l=t.readVaruint32();for(let m=0;m<l;m++){const e=wt.fromABI(t),r=t.readString(),i=[],n=t.readVaruint32();for(let c=0;c<n;c++)i.push(t.readString());const o=[],s=t.readVaruint32();for(let c=0;c<s;c++)o.push(t.readString());const a=t.readString();c.push({name:e,index_type:r,key_names:i,key_types:o,type:a})}const u=[],h=t.readVaruint32();for(let m=0;m<h;m++){const e=t.readString(),r=t.readString();u.push({id:e,body:r})}const d=t.readVaruint32();for(let m=0;m<d;m++)t.advance(8),t.advance(t.readVaruint32());const p=t.readVaruint32();for(let m=0;m<p;m++)t.advance(2),t.advance(t.readVaruint32());const f=[];if(t.canRead()){const e=t.readVaruint32();for(let r=0;r<e;r++){const e=t.readString(),r=[],i=t.readVaruint32();for(let n=0;n<i;n++)r.push(t.readString());f.push({name:e,types:r})}}return new Ut({version:e,types:r,structs:n,actions:s,tables:c,ricardian_clauses:u,variants:f})}toABI(t){t.writeString(this.version),t.writeVaruint32(this.types.length);for(const e of this.types)t.writeString(e.new_type_name),t.writeString(e.type);t.writeVaruint32(this.structs.length);for(const e of this.structs){t.writeString(e.name),t.writeString(e.base),t.writeVaruint32(e.fields.length);for(const r of e.fields)t.writeString(r.name),t.writeString(r.type)}t.writeVaruint32(this.actions.length);for(const e of this.actions)wt.from(e.name).toABI(t),t.writeString(e.type),t.writeString(e.ricardian_contract);t.writeVaruint32(this.tables.length);for(const e of this.tables){wt.from(e.name).toABI(t),t.writeString(e.index_type),t.writeVaruint32(e.key_names.length);for(const r of e.key_names)t.writeString(r);t.writeVaruint32(e.key_types.length);for(const r of e.key_types)t.writeString(r);t.writeString(e.type)}t.writeVaruint32(this.ricardian_clauses.length);for(const e of this.ricardian_clauses)t.writeString(e.id),t.writeString(e.body);t.writeVaruint32(0),t.writeVaruint32(0),t.writeVaruint32(this.variants.length);for(const e of this.variants){t.writeString(e.name),t.writeVaruint32(e.types.length);for(const r of e.types)t.writeString(r)}}resolveType(t){const e={};return this.resolve({name:t,types:e},{id:0})}resolveAll(){const t={},e={id:0};return{types:this.types.map((r=>this.resolve({name:r.new_type_name,types:t},e))),variants:this.variants.map((r=>this.resolve({name:r.name,types:t},e))),structs:this.structs.map((r=>this.resolve({name:r.name,types:t},e)))}}resolve({name:t,types:e},r){const i=e[t];if(i)return i;const n=new Ut.ResolvedType(t,++r.id);e[n.typeName]=n;const o=this.types.find((t=>t.new_type_name==n.name));if(o)return n.ref=this.resolve({name:o.type,types:e},r),n;const s=this.getStruct(n.name);if(s)return s.base&&(n.base=this.resolve({name:s.base,types:e},r)),n.fields=s.fields.map((t=>({name:t.name,type:this.resolve({name:t.type,types:e},r)}))),n;const a=this.getVariant(n.name);return a?(n.variant=a.types.map((t=>this.resolve({name:t,types:e},r))),n):n}getStruct(t){return this.structs.find((e=>e.name==t))}getVariant(t){return this.variants.find((e=>e.name==t))}getActionType(t){const e=wt.from(t).toString(),r=this.actions.find((t=>t.name.toString()===e));if(r)return r.type}equals(t){const e=Ut.from(t);return this.version==e.version&&this.types.length==e.types.length&&this.structs.length==e.structs.length&&this.actions.length==e.actions.length&&this.tables.length==e.tables.length&&this.ricardian_clauses.length==e.ricardian_clauses.length&&this.variants.length==e.variants.length&&ct({object:this}).equals(ct({object:e}))}toJSON(){return{version:this.version,types:this.types,structs:this.structs,actions:this.actions,tables:this.tables,ricardian_clauses:this.ricardian_clauses,error_messages:[],abi_extensions:[],variants:this.variants}}}Ut.abiName="abi",Ut.version="eosio::abi/1.1",function(t){class e{constructor(t,e=0){let r=t;r.endsWith("$")?(r=r.slice(0,-1),this.isExtension=!0):this.isExtension=!1,r.endsWith("?")?(r=r.slice(0,-1),this.isOptional=!0):this.isOptional=!1,r.endsWith("[]")?(r=r.slice(0,-2),this.isArray=!0):this.isArray=!1,this.id=e,this.name=r}get typeName(){let t=this.name;return this.isArray&&(t+="[]"),this.isOptional&&(t+="?"),this.isExtension&&(t+="$"),t}get allFields(){let t=this;const e=[],r=new Set;do{if(!t.fields)return;if(r.has(t.name))return;for(let r=t.fields.length-1;r>=0;r--)e.unshift(t.fields[r]);r.add(t.name),t=t.base}while(void 0!==t);return e}}t.ResolvedType=e}(Ut||(Ut={}));class xt{constructor(t,e){this.units=t,this.symbol=e}static from(t,e){if(b(t,xt))return t;switch(typeof t){case"number":if(!e)throw new Error("Symbol is required when creating Asset from number");return this.fromFloat(t,e);case"string":return this.fromString(t);default:throw new Error("Invalid asset")}}static fromString(t){const e=("string"===typeof t?t:"").split(" ");if(2!==e.length)throw new Error("Invalid asset string");const r=e[0].replace(".",""),i=(e[0].split(".")[1]||"").length,n=xt.Symbol.fromParts(e[1],i);return new xt(A.from(r),n)}static fromFloat(t,e){const r=xt.Symbol.from(e);return new xt(r.convertFloat(t),r)}static fromUnits(t,e){return new xt(A.from(t),xt.Symbol.from(e))}static fromABI(t){const e=A.fromABI(t),r=xt.Symbol.fromABI(t);return new xt(e,r)}static abiDefault(){return new this(A.from(0),xt.Symbol.abiDefault())}equals(t){const{symbol:e,units:r}=xt.from(t);return this.symbol.value.equals(e.value)&&this.units.equals(r)}get value(){return this.symbol.convertUnits(this.units)}set value(t){this.units=this.symbol.convertFloat(t)}toABI(t){this.units.toABI(t),this.symbol.toABI(t)}toString(){const t=this.units.toString().split("");let e=!1;"-"===t[0]&&(e=!0,t.shift());const r=this.symbol.precision;while(t.length<=r)t.unshift("0");r>0&&t.splice(t.length-r,0,".");let i=t.join("");return e&&(i="-"+i),i+" "+this.symbol.name}toJSON(){return this.toString()}}xt.abiName="asset",function(t){class e{constructor(t){if(Ft(t)>e.maxPrecision)throw new Error("Invalid asset symbol, precision too large");if(!e.symbolNamePattern.test(kt(t)))throw new Error("Invalid asset symbol, name must be uppercase A-Z");this.value=t}static from(t){if(b(t,e))return t;if(b(t,M))return new e(t);const r=t.split(",");if(2!==r.length)throw new Error("Invalid symbol string");const i=Number.parseInt(r[0]);return e.fromParts(r[1],i)}static fromParts(t,r){return new e(At(t,r))}static fromABI(t){return new e(M.fromABI(t))}static abiDefault(){return this.from("4,SYS")}equals(t){return this.value.equals(e.from(t).value)}get name(){return kt(this.value)}get precision(){return Ft(this.value)}get code(){return new r(M.from(this.value.value.clone().iushrn(8)))}toABI(t){this.value.toABI(t)}convertUnits(t){return t.value.toNumber()/Math.pow(10,this.precision)}convertFloat(t){return A.from(t.toFixed(this.precision).replace(".",""))}toString(){return`${this.precision},${this.name}`}toJSON(){return this.toString()}}e.abiName="symbol",e.symbolNamePattern=/^[A-Z]{0,7}$/,e.maxPrecision=18,t.Symbol=e;class r{constructor(t){this.value=t}static from(t){return b(t,r)?t:("string"===typeof t&&(t=M.from(Lt(t))),new this(M.from(t)))}static fromABI(t){return new r(M.fromABI(t))}static abiDefault(){return this.from("SYS")}equals(t){return this.value.equals(r.from(t).value)}toABI(t){this.value.toABI(t)}toString(){return Nt(this.value.value.toArray("be"))}toJSON(){return this.toString()}}r.abiName="symbol_code",t.SymbolCode=r}(xt||(xt={}));class St{constructor(t,e){this.quantity=t,this.contract=e}static from(t){return b(t,St)?t:new this(xt.from(t.quantity),wt.from(t.contract))}static fromABI(t){return new St(xt.fromABI(t),wt.fromABI(t))}equals(t){return this.quantity.equals(t.quantity)&&this.contract.equals(t.contract)}toABI(t){this.quantity.toABI(t),this.contract.toABI(t)}toJSON(){return{quantity:this.quantity,contract:this.contract}}}function Ft(t){return t.value.and(M.from(255).value).toNumber()}function kt(t){const e=t.value.toArray("be").slice(0,-1);return Nt(e)}function Nt(t){return t.map((t=>String.fromCharCode(t))).reverse().join("")}function At(t,e){const r=Lt(t),i=new Uint8Array(r.length+1);return i[0]=e,i.set(r,1),M.from(i)}function Lt(t){const e=Math.min(t.length,7),r=new Uint8Array(e);for(let i=0;i<e;i++)r[i]=t.charCodeAt(i);return r}var Dt;St.abiName="extended_asset",function(t){let e;(function(t){t["E_CHECKSUM"]="E_CHECKSUM",t["E_INVALID"]="E_INVALID"})(e=t.ErrorCode||(t.ErrorCode={}));class r extends Error{constructor(t,e,r={}){super(t),this.code=e,this.info=r}}r.__className="DecodingError",t.DecodingError=r;const i="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",n=new Int16Array(255).fill(-1);for(let s=0;s<58;++s)n[i.charCodeAt(s)]=s;function o(t,i){if(null==i)return p(t);const o=new Uint8Array(i);for(let s=0;s<t.length;++s){let a=n[t.charCodeAt(s)];if(a<0)throw new r("Invalid Base58 character encountered",e.E_INVALID,{char:t[s]});for(let t=0;t<i;++t){const e=58*o[t]+a;o[t]=e,a=e>>8}if(a)throw new r("Base58 value is out of range",e.E_INVALID)}return o.reverse(),new Q(o)}function a(t,i){const n=o(t,null!=i?i+4:i),s=n.array.subarray(0,-4),a=n.array.subarray(-4),c=m(s);if(!d(a,c))throw new r("Checksum mismatch",e.E_CHECKSUM,{actual:c,expected:a,data:s,hash:"double_sha256"});return new Q(s)}function c(t,i,n){const s=o(t,null!=i?i+4:i),a=s.array.subarray(0,-4),c=s.array.subarray(-4),l=f(a,n);if(!d(c,l))throw new r("Checksum mismatch",e.E_CHECKSUM,{actual:l,expected:c,data:a,hash:"ripemd160"});return new Q(a)}function l(t){t=Q.from(t);const e=[];for(const r of t.array){let t=r;for(let r=0;r<e.length;++r){const o=(n[e[r]]<<8)+t;e[r]=i.charCodeAt(o%58),t=o/58|0}while(t)e.push(i.charCodeAt(t%58)),t=t/58|0}for(const r of t.array){if(r)break;e.push("1".charCodeAt(0))}return e.reverse(),String.fromCharCode(...e)}function u(t){return t=Q.from(t),t=t.appending(m(t.array)),l(t)}function h(t,e){return t=Q.from(t),t=t.appending(f(t.array,e)),l(t)}function p(t){const i=[];for(let o=0;o<t.length;++o){let s=n[t.charCodeAt(o)];if(s<0)throw new r("Invalid Base58 character encountered",e.E_INVALID,{char:t[o]});for(let t=0;t<i.length;++t){const e=58*i[t]+s;i[t]=255&e,s=e>>8}s&&i.push(s)}for(const e of t){if("1"!==e)break;i.push(0)}return i.reverse(),Q.from(i)}function f(t,e){const r=(0,s.ripemd160)().update(t);return e&&r.update(e),new Uint8Array(r.digest().slice(0,4))}function m(t){const e=(0,s.sha256)().update(t).digest(),r=(0,s.sha256)().update(e).digest();return new Uint8Array(r.slice(0,4))}t.decode=o,t.decodeCheck=a,t.decodeRipemd160Check=c,t.encode=l,t.encodeCheck=u,t.encodeRipemd160Check=h}(Dt||(Dt={}));class Ct{constructor(t,e){this.type=t,this.data=e}static from(t){if(b(t,Ct))return t;if("object"===typeof t&&t.type&&t.compressed)return new Ct(x.from(t.type),new Q(t.compressed));if("string"!==typeof t)throw new Error("Invalid public key");if(t.startsWith("PUB_")){const e=t.split("_");if(3!==e.length)throw new Error("Invalid public key string");const r=x.from(e[1]),i=r===x.K1||r===x.R1?33:void 0,n=Dt.decodeRipemd160Check(e[2],i,r);return new Ct(r,n)}if(t.length>=50){const e=Dt.decodeRipemd160Check(t.slice(-50));return new Ct(x.K1,e)}throw new Error("Invalid public key string")}static fromABI(t){const e=x.from(t.readByte());if(e==x.WA){const e=t.getPosition();t.advance(33),t.advance(1),t.advance(t.readVaruint32());const r=t.getPosition()-e;t.setPosition(e);const i=Q.from(t.readArray(r));return new Ct(x.WA,i)}return new Ct(e,new Q(t.readArray(33)))}equals(t){const e=Ct.from(t);return this.type===e.type&&this.data.equals(e.data)}toLegacyString(t="EOS"){if(this.type!==x.K1)throw new Error("Unable to create legacy formatted string for non-K1 key");return`${t}${Dt.encodeRipemd160Check(this.data)}`}toString(){return`PUB_${this.type}_${Dt.encodeRipemd160Check(this.data,this.type)}`}toABI(t){t.writeByte(x.indexFor(this.type)),t.writeArray(this.data.array)}toJSON(){return this.toString()}}Ct.abiName="public_key";const It={};function Mt(t){let e=It[t];if(!e)if("K1"===t)e=It[t]=new l.ec("secp256k1");else{if("R1"!==t)throw new Error(`Unknown curve type: ${t}`);e=It[t]=new l.ec("p256")}return e}function Tt(t,e,r){const i=Mt(r),n=t[0]-31,o=t.subarray(1,33),s=t.subarray(33),a=i.recoverPubKey(e,{r:o,s},n);return new Uint8Array(a.encodeCompressed())}function Rt(t,e,r,i){const n=Mt(i),o=t.subarray(1,33),s=t.subarray(33);return n.verify(e,{r:o,s},r)}class zt{constructor(t,e){this.type=t,this.data=e}static from(t){if(b(t,zt))return t;if("object"===typeof t&&t.r&&t.s){const e=new Uint8Array(65);let r=t.recid;const i=x.from(t.type);return t.type!==x.K1&&t.type!==x.R1||(r+=31),e[0]=r,e.set(t.r,1),e.set(t.s,33),new zt(i,new Q(e))}if("string"!==typeof t)throw new Error("Invalid signature");if(t.startsWith("SIG_")){const e=t.split("_");if(3!==e.length)throw new Error("Invalid signature string");const r=x.from(e[1]),i=r===x.K1||r===x.R1?65:void 0,n=Dt.decodeRipemd160Check(e[2],i,r);return new zt(r,n)}throw new Error("Invalid signature string")}static fromABI(t){const e=x.from(t.readByte());if(e===x.WA){const e=t.getPosition();t.advance(65),t.advance(t.readVaruint32()),t.advance(t.readVaruint32());const r=t.getPosition()-e;t.setPosition(e);const i=Q.from(t.readArray(r));return new zt(x.WA,i)}return new zt(e,new Q(t.readArray(65)))}equals(t){const e=zt.from(t);return this.type===e.type&&this.data.equals(e.data)}recoverDigest(t){t=E.from(t);const e=Tt(this.data.array,t.array,this.type);return Ct.from({compressed:e,type:this.type})}recoverMessage(t){return this.recoverDigest(E.hash(t))}verifyDigest(t,e){return t=E.from(t),Rt(this.data.array,t.array,e.data.array,this.type)}verifyMessage(t,e){return this.verifyDigest(E.hash(t),e)}toString(){return`SIG_${this.type}_${Dt.encodeRipemd160Check(this.data,this.type)}`}toABI(t){t.writeByte(x.indexFor(this.type)),t.writeArray(this.data.array)}toJSON(){return this.toString()}}function Pt(t,e){const r=Mt(e),i=r.keyFromPrivate(t),n=i.getPublic();return new Uint8Array(n.encodeCompressed())}function Ot(t,e,r){const i=Mt(r),n=i.keyFromPrivate(t),o=i.keyFromPublic(e).getPublic();return n.derive(o).toArrayLike(Uint8Array,"be")}function jt(t,e,r){const i=Mt(r),n=i.keyFromPrivate(t);let o,s,a;if("K1"===r){let t=1;do{o=n.sign(e,{canonical:!0,pers:[t++]}),s=o.r.toArrayLike(Uint8Array,"be",32),a=o.s.toArrayLike(Uint8Array,"be",32)}while(!Jt(s,a))}else o=n.sign(e,{canonical:!0}),s=o.r.toArrayLike(Uint8Array,"be",32),a=o.s.toArrayLike(Uint8Array,"be",32);return{type:r,r:s,s:a,recid:o.recoveryParam||0}}function Jt(t,e){return!(128&t[0])&&!(0===t[0]&&!(128&t[1]))&&!(128&e[0])&&!(0===e[0]&&!(128&e[1]))}function $t(t){const e=Mt(t),r=e.genKeyPair().getPrivate();return r.toArrayLike(Uint8Array,"be",32)}zt.abiName="signature";class Vt{constructor(t,e){if((t===x.K1||t===x.R1)&&32!==e.length)throw new Error("Invalid private key length");this.type=t,this.data=e}static from(t){return b(t,Vt)?t:this.fromString(t)}static fromString(t,e=!1){try{const{type:e,data:r}=qt(t);return new this(e,r)}catch(r){if(r.message=`Invalid private key (${r.message})`,e&&b(r,Dt.DecodingError)&&r.code===Dt.ErrorCode.E_CHECKSUM){const e=t.startsWith("PVT_R1")?x.R1:x.K1,i=new Q(r.info.data);return 33===i.length&&i.dropFirst(),i.zeropad(32,!0),new this(e,i)}throw r}}static generate(t){return new Vt(x.from(t),new Q($t(t)))}signDigest(t){return t=E.from(t),zt.from(jt(this.data.array,t.array,this.type))}signMessage(t){return this.signDigest(E.hash(t))}sharedSecret(t){const e=Ot(this.data.array,t.data.array,this.type);return _.hash(e)}toPublic(){const t=Pt(this.data.array,this.type);return Ct.from({compressed:t,type:this.type})}toWif(){if(this.type!==x.K1)throw new Error("Unable to generate WIF for non-k1 key");return Dt.encodeCheck(Q.from([128]).appending(this.data))}toString(){return`PVT_${this.type}_${Dt.encodeRipemd160Check(this.data,this.type)}`}toJSON(){return this.toString()}}function qt(t){const e=typeof t;if("string"!==e)throw new Error(`Expected string, got ${e}`);if(t.startsWith("PVT_")){const e=t.split("_");if(3!==e.length)throw new Error("Invalid PVT format");const r=x.from(e[1]);let i;switch(r){case x.K1:case x.R1:i=32;break}const n=Dt.decodeRipemd160Check(e[2],i,r);return{type:r,data:n}}{const e=x.K1,r=Dt.decodeCheck(t);if(128!==r.array[0])throw new Error("Invalid WIF");return{type:e,data:r.droppingFirst()}}}var Wt;let Kt=Wt=class extends ht{static from(t){if("string"===typeof t){const e=t.split("@");if(2!==e.length&&e[0].length>0&&e[1].length>0)throw new Error("Invalid permission level string, should be in the format <actor>@<permission>");t={actor:e[0],permission:e[1]}}return super.from(t)}equals(t){const e=Wt.from(t);return this.actor.equals(e.actor)&&this.permission.equals(e.permission)}toString(){return`${this.actor}@${this.permission}`}};var Zt;u([ht.field("name")],Kt.prototype,"actor",void 0),u([ht.field("name")],Kt.prototype,"permission",void 0),Kt=Wt=u([ht.type("permission_level")],Kt);let Ht=Zt=class extends ht{static from(t,e){const r=t.data;if(!Q.isBytes(r)){let i;if(e)i=Ut.from(e).getActionType(t.name);else if(!r.constructor||void 0===r.constructor.abiName)throw new Error("Missing ABI definition when creating action with untyped action data");t={...t,data:ct({object:r,type:i,abi:e})}}return super.from(t)}equals(t){const e=Zt.from(t);return this.account.equals(e.account)&&this.name.equals(e.name)&&p(this.authorization,e.authorization)&&this.data.equals(e.data)}decodeData(t){if("string"===typeof t||t.abiName)return et({data:this.data,type:t});{const e=Ut.from(t),r=e.getActionType(this.name);if(!r)throw new Error(`Action ${this.name} does not exist in provided ABI`);return et({data:this.data,type:r,abi:e})}}};var Gt;u([ht.field("name")],Ht.prototype,"account",void 0),u([ht.field("name")],Ht.prototype,"name",void 0),u([ht.field(Kt,{array:!0})],Ht.prototype,"authorization",void 0),u([ht.field("bytes")],Ht.prototype,"data",void 0),Ht=Zt=u([ht.type("action")],Ht);let Xt=class extends ht{};u([ht.field("uint16")],Xt.prototype,"type",void 0),u([ht.field("bytes")],Xt.prototype,"data",void 0),Xt=u([ht.type("transaction_extension")],Xt);let Yt=class extends ht{static from(t){return super.from({max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,...t})}};u([ht.field("time_point_sec")],Yt.prototype,"expiration",void 0),u([ht.field("uint16")],Yt.prototype,"ref_block_num",void 0),u([ht.field("uint32")],Yt.prototype,"ref_block_prefix",void 0),u([ht.field("varuint32")],Yt.prototype,"max_net_usage_words",void 0),u([ht.field("uint8")],Yt.prototype,"max_cpu_usage_ms",void 0),u([ht.field("varuint32")],Yt.prototype,"delay_sec",void 0),Yt=u([ht.type("transaction_header")],Yt);let te=Gt=class extends Yt{static from(t,e){const r=t=>e?Array.isArray(e)?e.filter((e=>wt.from(e.contract).equals(t))).map((({abi:t})=>t))[0]:e:void 0,i=t=>Ht.from(t,r(t.account)),n=(t.actions||[]).map(i),o=(t.context_free_actions||[]).map(i),s={transaction_extensions:[],...t,context_free_actions:o,actions:n};return super.from(s)}equals(t){const e=Gt.from(t);return this.id.equals(e.id)}get id(){return E.hash(ct({object:this}))}signingDigest(t){const e=this.signingData(t);return E.hash(e)}signingData(t){let e=Q.from(E.from(t).array);return e=e.appending(ct({object:this})),e=e.appending(new Uint8Array(32)),e}};u([ht.field(Ht,{array:!0})],te.prototype,"context_free_actions",void 0),u([ht.field(Ht,{array:!0})],te.prototype,"actions",void 0),u([ht.field(Xt,{array:!0})],te.prototype,"transaction_extensions",void 0),te=Gt=u([ht.type("transaction")],te);let ee=class extends te{get transaction(){return te.from({...this,signatures:void 0,context_free_data:void 0})}get id(){return this.transaction.id}static from(t){return super.from({signatures:[],context_free_data:[],...t})}};u([ht.field("signature[]")],ee.prototype,"signatures",void 0),u([ht.field("bytes[]")],ee.prototype,"context_free_data",void 0),ee=u([ht.type("signed_transaction")],ee);let re=class extends ht{static from(t){return super.from({signatures:[],packed_context_free_data:"",compression:0,...t})}static fromSigned(t){const e=te.from(t);return this.from({signatures:t.signatures,packed_context_free_data:ct({object:t.context_free_data,type:"bytes[]"}),packed_trx:ct({object:e})})}getTransaction(){if(0!==Number(this.compression))throw new Error("Transaction compression not supported yet");return et({data:this.packed_trx,type:te})}getSignedTransaction(){const t=this.getTransaction();return ee.from({...t,signatures:this.signatures})}};u([ht.field("signature[]")],re.prototype,"signatures",void 0),u([ht.field("uint8")],re.prototype,"compression",void 0),u([ht.field("bytes")],re.prototype,"packed_context_free_data",void 0),u([ht.field("bytes")],re.prototype,"packed_trx",void 0),re=u([ht.type("packed_transaction")],re);let ie=class extends ht{};var ne;u([ht.field("string")],ie.prototype,"status",void 0),u([ht.field("uint32")],ie.prototype,"cpu_usage_us",void 0),u([ht.field("uint32")],ie.prototype,"net_usage_words",void 0),ie=u([ht.type("transaction_receipt")],ie);let oe=class extends C{};oe=u([dt("weight_type")],oe);let se=class extends ht{};u([ht.field(Ct)],se.prototype,"key",void 0),u([ht.field(oe)],se.prototype,"weight",void 0),se=u([ht.type("key_weight")],se);let ae=class extends ht{};u([ht.field(Kt)],ae.prototype,"permission",void 0),u([ht.field(oe)],ae.prototype,"weight",void 0),ae=u([ht.type("permission_level_weight")],ae);let ce=class extends ht{};u([ht.field(I)],ce.prototype,"wait_sec",void 0),u([ht.field(oe)],ce.prototype,"weight",void 0),ce=u([ht.type("wait_weight")],ce);let le=ne=class extends ht{static from(t){if(b(t,ne))return t;const e=super.from({keys:[],accounts:[],waits:[],...t});return e.sort(),e}get waitThreshold(){return this.waits.reduce(((t,e)=>t+e.weight.toNumber()),0)}get keyThreshold(){return this.threshold.toNumber()-this.waitThreshold}keyWeight(t){const e=this.keys.find((({key:e})=>e.equals(t)));return e?e.weight.toNumber():0}hasPermission(t,e=!1){const r=e?1:this.keyThreshold,i=this.keyWeight(t);return i>=r}sort(){this.keys.sort(((t,e)=>String(t.key).localeCompare(String(e.key)))),this.accounts.sort(((t,e)=>String(t.permission).localeCompare(String(e.permission)))),this.waits.sort(((t,e)=>String(t.wait_sec).localeCompare(String(e.wait_sec))))}};var ue;u([ht.field(I)],le.prototype,"threshold",void 0),u([ht.field(se,{array:!0})],le.prototype,"keys",void 0),u([ht.field(ae,{array:!0})],le.prototype,"accounts",void 0),u([ht.field(ce,{array:!0})],le.prototype,"waits",void 0),le=ne=u([ht.type("authority")],le),function(t){function e(t){return $(t).abi}function r(t){return JSON.stringify(t)}function i(t){const e=t=>{switch(typeof t){case"boolean":case"number":case"string":return t;case"object":{if(null===t)return t;if("function"===typeof t.toJSON)return e(t.toJSON());if(Array.isArray(t))return t.map(e);const r={};for(const i of Object.keys(t))r[i]=e(t[i]);return r}}};return e(t)}t.encode=ct,t.decode=et,t.synthesize=e,t.stringify=r,t.objectify=i}(ue||(ue={}));class he{constructor(t,e={}){if(t=t.trim(),t.endsWith("/")&&(t=t.slice(0,-1)),this.url=t,e.fetch)this.fetch=e.fetch;else if("undefined"!==typeof window&&window.fetch)this.fetch=window.fetch.bind(window);else{if("undefined"===typeof r.g||!r.g.fetch)throw new Error("Missing fetch");this.fetch=r.g.fetch.bind(r.g)}}async call(t,e){const r=this.url+t,i=await this.fetch(r,{method:"POST",body:void 0!==e?JSON.stringify(e):void 0}),n=await i.text();let o;try{o=JSON.parse(n)}catch{}const s={};for(const[a,c]of i.headers.entries())s[a]=c;return{headers:s,status:i.status,json:o,text:n}}}let de=class extends ht{};u([ht.field("name")],de.prototype,"perm_name",void 0),u([ht.field("name")],de.prototype,"parent",void 0),u([ht.field(le)],de.prototype,"required_auth",void 0),de=u([ht.type("account_permission")],de);let pe=class extends ht{};u([ht.field("int64")],pe.prototype,"used",void 0),u([ht.field("int64")],pe.prototype,"available",void 0),u([ht.field("int64")],pe.prototype,"max",void 0),pe=u([ht.type("account_resource_limit")],pe);let fe=class extends ht{};u([ht.field("name")],fe.prototype,"owner",void 0),u([ht.field("asset")],fe.prototype,"net_weight",void 0),u([ht.field("asset")],fe.prototype,"cpu_weight",void 0),u([ht.field("uint64")],fe.prototype,"ram_bytes",void 0),fe=u([ht.type("account_total_resources")],fe);let me=class extends ht{};u([ht.field("name")],me.prototype,"from",void 0),u([ht.field("name")],me.prototype,"to",void 0),u([ht.field("asset")],me.prototype,"net_weight",void 0),u([ht.field("asset")],me.prototype,"cpu_weight",void 0),me=u([ht.type("account_self_delegated_bandwidth")],me);let ye=class extends ht{};u([ht.field("name")],ye.prototype,"owner",void 0),u([ht.field("time_point")],ye.prototype,"request_time",void 0),u([ht.field("asset")],ye.prototype,"net_amount",void 0),u([ht.field("asset")],ye.prototype,"cpu_amount",void 0),ye=u([ht.type("account_refund_request")],ye);let ge=class extends ht{};u([ht.field("name")],ge.prototype,"owner",void 0),u([ht.field("name")],ge.prototype,"proxy",void 0),u([ht.field("name",{array:!0})],ge.prototype,"producers",void 0),u([ht.field("int64",{optional:!0})],ge.prototype,"staked",void 0),u([ht.field("bool")],ge.prototype,"is_proxy",void 0),u([ht.field("uint32",{optional:!0})],ge.prototype,"flags1",void 0),u([ht.field("uint32")],ge.prototype,"reserved2",void 0),u([ht.field("string")],ge.prototype,"reserved3",void 0),ge=u([ht.type("account_voter_info")],ge);let we=class extends ht{};u([ht.field("time_point",{optional:!0})],we.prototype,"key",void 0),u([ht.field("int64",{optional:!0})],we.prototype,"value",void 0),u([ht.field("time_point",{optional:!0})],we.prototype,"first",void 0),u([ht.field("int64",{optional:!0})],we.prototype,"second",void 0),we=u([ht.type("account_rex_info_maturities")],we);let ve=class extends ht{};u([ht.field("uint32")],ve.prototype,"version",void 0),u([ht.field("name")],ve.prototype,"owner",void 0),u([ht.field("asset")],ve.prototype,"vote_stake",void 0),u([ht.field("asset")],ve.prototype,"rex_balance",void 0),u([ht.field("int64")],ve.prototype,"matured_rex",void 0),u([ht.field(we,{array:!0})],ve.prototype,"rex_maturities",void 0),ve=u([ht.type("account_rex_info")],ve);let be=class extends ht{getPermission(t){const e=wt.from(t),r=this.permissions.find((t=>t.perm_name.equals(e)));if(!r)throw new Error(`Unknown permission ${e} on account ${this.account_name}.`);return r}};u([ht.field("name")],be.prototype,"account_name",void 0),u([ht.field("uint32")],be.prototype,"head_block_num",void 0),u([ht.field("time_point")],be.prototype,"head_block_time",void 0),u([ht.field("bool")],be.prototype,"privileged",void 0),u([ht.field("time_point")],be.prototype,"last_code_update",void 0),u([ht.field("time_point")],be.prototype,"created",void 0),u([ht.field("asset?")],be.prototype,"core_liquid_balance",void 0),u([ht.field("int64")],be.prototype,"ram_quota",void 0),u([ht.field("int64")],be.prototype,"net_weight",void 0),u([ht.field("int64")],be.prototype,"cpu_weight",void 0),u([ht.field(pe)],be.prototype,"net_limit",void 0),u([ht.field(pe)],be.prototype,"cpu_limit",void 0),u([ht.field("uint64")],be.prototype,"ram_usage",void 0),u([ht.field(de,{array:!0})],be.prototype,"permissions",void 0),u([ht.field(fe,{optional:!0})],be.prototype,"total_resources",void 0),u([ht.field(me,{optional:!0})],be.prototype,"self_delegated_bandwidth",void 0),u([ht.field(ye,{optional:!0})],be.prototype,"refund_request",void 0),u([ht.field(ge,{optional:!0})],be.prototype,"voter_info",void 0),u([ht.field(ve,{optional:!0})],be.prototype,"rex_info",void 0),be=u([ht.type("account_object")],be);let Qe=class extends ht{};u([ht.field("name")],Qe.prototype,"producer_name",void 0),u([ht.field("public_key")],Qe.prototype,"block_signing_key",void 0),Qe=u([ht.type("new_producers_entry")],Qe);let Be=class extends ht{};u([ht.field("uint32")],Be.prototype,"version",void 0),u([ht.field(Qe,{array:!0})],Be.prototype,"producers",void 0),Be=u([ht.type("new_producers")],Be);let Ee=class extends ht{};u([ht.field("uint16")],Ee.prototype,"type",void 0),u([ht.field("bytes")],Ee.prototype,"data",void 0),Ee=u([ht.type("block_extension")],Ee);let _e=class extends ht{};u([ht.field("uint16")],_e.prototype,"type",void 0),u([ht.field("bytes")],_e.prototype,"data",void 0),_e=u([ht.type("header_extension")],_e);class Ue{constructor(t,e){this.id=t,this.extra=e}static from(t){let e,r;return"string"===typeof t?(e=E.from(t),r={}):(e=E.from(t.id),r=t),new this(e,r)}get transaction(){if(this.extra.packed_trx)return ue.decode({data:this.extra.packed_trx,type:te})}get signatures(){if(this.extra.signatures)return this.extra.signatures.map(zt.from)}equals(t){return this.id.equals(t.id)}toJSON(){return this.id}}Ue.abiName="trx_variant";let xe=class extends ie{get id(){return this.trx.id}};u([ht.field(Ue)],xe.prototype,"trx",void 0),xe=u([ht.type("get_block_response_receipt")],xe);let Se=class extends ht{};u([ht.field("time_point")],Se.prototype,"timestamp",void 0),u([ht.field("name")],Se.prototype,"producer",void 0),u([ht.field("uint16")],Se.prototype,"confirmed",void 0),u([ht.field("checksum256")],Se.prototype,"previous",void 0),u([ht.field("checksum256")],Se.prototype,"transaction_mroot",void 0),u([ht.field("checksum256")],Se.prototype,"action_mroot",void 0),u([ht.field("uint32")],Se.prototype,"schedule_version",void 0),u([ht.field(Be,{optional:!0})],Se.prototype,"new_producers",void 0),u([ht.field("header_extension",{optional:!0})],Se.prototype,"header_extensions",void 0),u([ht.field("any",{optional:!0})],Se.prototype,"new_protocol_features",void 0),u([ht.field("signature")],Se.prototype,"producer_signature",void 0),u([ht.field(xe,{array:!0})],Se.prototype,"transactions",void 0),u([ht.field("block_extension",{optional:!0})],Se.prototype,"block_extensions",void 0),u([ht.field("checksum256")],Se.prototype,"id",void 0),u([ht.field("uint32")],Se.prototype,"block_num",void 0),u([ht.field("uint32")],Se.prototype,"ref_block_prefix",void 0),Se=u([ht.type("get_block_response")],Se);let Fe=class extends ht{};u([ht.field("name")],Fe.prototype,"producer_name",void 0),u([ht.field("any")],Fe.prototype,"authority",void 0),Fe=u([ht.type("active_schedule_producer_authority")],Fe);let ke=class extends ht{};u([ht.field("name")],ke.prototype,"producer_name",void 0),u([ht.field(Fe)],ke.prototype,"authority",void 0),ke=u([ht.type("active_schedule_producer")],ke);let Ne=class extends ht{};u([ht.field("uint32")],Ne.prototype,"version",void 0),u([ht.field(ke,{array:!0})],Ne.prototype,"producers",void 0),Ne=u([ht.type("active_schedule")],Ne);let Ae=class extends ht{};u([ht.field("time_point")],Ae.prototype,"timestamp",void 0),u([ht.field("name")],Ae.prototype,"producer",void 0),u([ht.field("uint16")],Ae.prototype,"confirmed",void 0),u([ht.field("checksum256")],Ae.prototype,"previous",void 0),u([ht.field("checksum256")],Ae.prototype,"transaction_mroot",void 0),u([ht.field("checksum256")],Ae.prototype,"action_mroot",void 0),u([ht.field("uint32")],Ae.prototype,"schedule_version",void 0),u([ht.field(_e,{array:!0,optional:!0})],Ae.prototype,"header_extensions",void 0),u([ht.field("signature")],Ae.prototype,"producer_signature",void 0),Ae=u([ht.type("block_state_header")],Ae);let Le=class extends ht{};u([ht.field("uint32")],Le.prototype,"block_num",void 0),u([ht.field("uint32")],Le.prototype,"dpos_proposed_irreversible_blocknum",void 0),u([ht.field("uint32")],Le.prototype,"dpos_irreversible_blocknum",void 0),u([ht.field("checksum256")],Le.prototype,"id",void 0),u([ht.field(Ae)],Le.prototype,"header",void 0),u([ht.field("any")],Le.prototype,"active_schedule",void 0),u([ht.field("any")],Le.prototype,"blockroot_merkle",void 0),u([ht.field("any")],Le.prototype,"producer_to_last_produced",void 0),u([ht.field("any")],Le.prototype,"producer_to_last_implied_irb",void 0),u([ht.field("any")],Le.prototype,"valid_block_signing_authority",void 0),u([ht.field("any")],Le.prototype,"confirm_count",void 0),u([ht.field("any")],Le.prototype,"pending_schedule",void 0),u([ht.field("any")],Le.prototype,"activated_protocol_features",void 0),u([ht.field("any")],Le.prototype,"additional_signatures",void 0),Le=u([ht.type("get_block_header_state_response")],Le);let De=class extends ht{getTransactionHeader(t=120){const e=Et.fromMilliseconds(this.head_block_time.toMilliseconds()+1e3*t),r=this.last_irreversible_block_id,i=r.array.subarray(8,12),n=new Uint32Array(i.buffer,i.byteOffset,1)[0];return Yt.from({expiration:e,ref_block_num:65535&Number(this.last_irreversible_block_num),ref_block_prefix:n})}};u([ht.field("string")],De.prototype,"server_version",void 0),u([ht.field("checksum256")],De.prototype,"chain_id",void 0),u([ht.field("uint32")],De.prototype,"head_block_num",void 0),u([ht.field("uint32")],De.prototype,"last_irreversible_block_num",void 0),u([ht.field("checksum256")],De.prototype,"last_irreversible_block_id",void 0),u([ht.field("checksum256")],De.prototype,"head_block_id",void 0),u([ht.field("time_point")],De.prototype,"head_block_time",void 0),u([ht.field("name")],De.prototype,"head_block_producer",void 0),u([ht.field("uint64")],De.prototype,"virtual_block_cpu_limit",void 0),u([ht.field("uint64")],De.prototype,"virtual_block_net_limit",void 0),u([ht.field("uint64")],De.prototype,"block_cpu_limit",void 0),u([ht.field("uint64")],De.prototype,"block_net_limit",void 0),u([ht.field("string?")],De.prototype,"server_version_string",void 0),u([ht.field("uint32?")],De.prototype,"fork_db_head_block_num",void 0),u([ht.field("checksum256?")],De.prototype,"fork_db_head_block_id",void 0),De=u([ht.type("get_info_response")],De);let Ce=class extends ht{};u([ht.field("name")],Ce.prototype,"code",void 0),u([ht.field("name")],Ce.prototype,"scope",void 0),u([ht.field("name")],Ce.prototype,"table",void 0),u([ht.field("name")],Ce.prototype,"payer",void 0),u([ht.field("uint32")],Ce.prototype,"count",void 0),Ce=u([ht.type("get_table_by_scope_response_row")],Ce);let Ie=class extends ht{};u([ht.field(Ce,{array:!0})],Ie.prototype,"rows",void 0),u([ht.field("string")],Ie.prototype,"more",void 0),Ie=u([ht.type("get_table_by_scope_response")],Ie);let Me=class extends ht{};u([ht.field(M)],Me.prototype,"global_action_seq",void 0),u([ht.field(A)],Me.prototype,"account_action_seq",void 0),u([ht.field(I)],Me.prototype,"block_num",void 0),u([ht.field(_t)],Me.prototype,"block_time",void 0),u([ht.field("any")],Me.prototype,"action_trace",void 0),u([ht.field("boolean?")],Me.prototype,"irrevirsible",void 0),Me=u([ht.type("ordered_action_result")],Me);let Te=class extends ht{};u([ht.field(Me,{array:!0})],Te.prototype,"actions",void 0),u([ht.field(N)],Te.prototype,"last_irreversible_block",void 0),u([ht.field(N)],Te.prototype,"head_block_num",void 0),u([ht.field("boolean?")],Te.prototype,"time_limit_exceeded_error",void 0),Te=u([ht.type("get_actions_response")],Te);let Re=class extends ht{};Re=u([ht.type("transaction_trace")],Re);let ze=class extends ht{};u([ht.field("any")],ze.prototype,"actions",void 0),u([ht.field("any")],ze.prototype,"context_free_actions",void 0),u([ht.field("any")],ze.prototype,"context_free_data",void 0),u([ht.field("number")],ze.prototype,"delay_sec",void 0),u([ht.field("string")],ze.prototype,"expiration",void 0),u([ht.field("number")],ze.prototype,"max_cpu_usage_ms",void 0),u([ht.field("number")],ze.prototype,"max_net_usage_words",void 0),u([ht.field("number")],ze.prototype,"ref_block_num",void 0),u([ht.field("number")],ze.prototype,"ref_block_prefix",void 0),u([ht.field("string",{array:!0})],ze.prototype,"signatures",void 0),ze=u([ht.type("trx")],ze);let Pe=class extends ht{};u([ht.field(ie)],Pe.prototype,"receipt",void 0),u([ht.field("trx")],Pe.prototype,"trx",void 0),Pe=u([ht.type("transaction_info")],Pe);let Oe=class extends ht{};u([ht.field(E)],Oe.prototype,"id",void 0),u([ht.field(I)],Oe.prototype,"block_num",void 0),u([ht.field(_t)],Oe.prototype,"block_time",void 0),u([ht.field(I)],Oe.prototype,"last_irreversible_block",void 0),u([ht.field("any?")],Oe.prototype,"traces",void 0),u([ht.field("any")],Oe.prototype,"trx",void 0),Oe=u([ht.type("get_transaction_response")],Oe);let je=class extends ht{};u([ht.field("name",{array:!0})],je.prototype,"account_names",void 0),je=u([ht.type("get_key_accounts_response")],je);let Je=class extends ht{};u([ht.field("name",{array:!0})],Je.prototype,"controlled_accounts",void 0),Je=u([ht.type("get_controlled_accounts_response")],Je);let $e=class extends ht{};u([ht.field("string")],$e.prototype,"state",void 0),u([ht.field("uint32")],$e.prototype,"head_number",void 0),u([ht.field("checksum256")],$e.prototype,"head_id",void 0),u([ht.field("time_point")],$e.prototype,"head_timestamp",void 0),u([ht.field("uint32")],$e.prototype,"irreversible_number",void 0),u([ht.field("checksum256")],$e.prototype,"irreversible_id",void 0),u([ht.field("time_point")],$e.prototype,"irreversible_timestamp",void 0),u([ht.field("checksum256")],$e.prototype,"earliest_tracked_block_id",void 0),u([ht.field("uint32")],$e.prototype,"earliest_tracked_block_number",void 0),$e=u([ht.type("get_transaction_status_response")],$e);class Ve{constructor(t){this.client=t}async get_abi(t){return this.client.call({path:"/v1/chain/get_abi",params:{account_name:wt.from(t)}})}async get_account(t){return this.client.call({path:"/v1/chain/get_account",params:{account_name:wt.from(t)},responseType:be})}async get_block(t){return this.client.call({path:"/v1/chain/get_block",params:{block_num_or_id:t},responseType:Se})}async get_block_header_state(t){return this.client.call({path:"/v1/chain/get_block_header_state",params:{block_num_or_id:t},responseType:Le})}async get_currency_balance(t,e,r){const i={account:wt.from(e),code:wt.from(t)};return r&&(i.symbol=r),this.client.call({path:"/v1/chain/get_currency_balance",params:i,responseType:"asset[]"})}async get_info(){return this.client.call({path:"/v1/chain/get_info",responseType:De})}async compute_transaction(t){return b(t,re)||(t=re.fromSigned(ee.from(t))),this.client.call({path:"/v1/chain/compute_transaction",params:{transaction:t}})}async push_transaction(t){return b(t,re)||(t=re.fromSigned(ee.from(t))),this.client.call({path:"/v1/chain/push_transaction",params:t})}async send_transaction(t){return b(t,re)||(t=re.fromSigned(ee.from(t))),this.client.call({path:"/v1/chain/send_transaction",params:t})}async send_transaction2(t,e){return b(t,re)||(t=re.fromSigned(ee.from(t))),this.client.call({path:"/v1/chain/send_transaction2",params:{return_failure_trace:!0,retry_trx:!1,retry_trx_num_blocks:0,transaction:t,...e}})}async get_table_rows(t){const e=t.type;let r=t.key_type;const i=t.lower_bound||t.upper_bound;!r&&i&&(b(i,M)?r="i64":b(i,T)?r="i128":b(i,E)?r="sha256":b(i,U)&&(r="ripemd160")),r||(r="name");let n=t.json;void 0===n&&(n=void 0===e);let o=t.upper_bound;o&&"string"!==typeof o&&(o=String(o));let s=t.lower_bound;s&&"string"!==typeof s&&(s=String(s));let a=t.scope;"undefined"===typeof a?a=String(wt.from(t.code)):"string"!==typeof a&&(a=String(a));let c,{rows:l,more:u,next_key:h}=await this.client.call({path:"/v1/chain/get_table_rows",params:{...t,code:wt.from(t.code),table:wt.from(t.table),limit:void 0!==t.limit?I.from(t.limit):void 0,scope:a,key_type:r,json:n,upper_bound:o,lower_bound:s}});if(t.show_payer&&(c=[],l=l.map((({data:t,payer:e})=>(c.push(wt.from(e)),t)))),e&&(l=n?l.map((t=>"string"===typeof t&&Q.isBytes(t)?ue.decode({data:Q.from(t),type:e}):ue.decode({object:t,type:e}))):l.map((t=>Q.from(t))).map((t=>ue.decode({data:t,type:e})))),h&&h.length>0){let t;switch(r){case"i64":t=M;break;case"i128":t=T;break;case"name":t=wt;break;case"float64":t=yt;break;case"float128":t=gt;break;case"sha256":t=E;break;case"ripemd160":t=U;break;default:throw new Error(`Unsupported key type: ${r}`)}h=t===wt?wt.from(ue.decode({object:h,type:M})):ue.decode({object:h,type:t})}else h=void 0;return{rows:l,more:u,next_key:h,ram_payers:c}}async get_table_by_scope(t){return this.client.call({path:"/v1/chain/get_table_by_scope",params:t,responseType:Ie})}async get_transaction_status(t){return this.client.call({path:"/v1/chain/get_transaction_status",params:{id:E.from(t)},responseType:$e})}}class qe{constructor(t){this.client=t}async get_actions(t,e,r){return this.client.call({path:"/v1/history/get_actions",params:{account_name:wt.from(t),pos:N.from(e),offset:N.from(r)},responseType:Te})}async get_transaction(t,e={}){return this.client.call({path:"/v1/history/get_transaction",params:{id:E.from(t),block_num_hint:e.blockNumHint&&I.from(e.blockNumHint),traces:!0!==e.excludeTraces&&void 0},responseType:Oe})}async get_key_accounts(t){return this.client.call({path:"/v1/history/get_key_accounts",params:{public_key:Ct.from(t)},responseType:je})}async get_controlled_accounts(t){return this.client.call({path:"/v1/history/get_controlled_accounts",params:{controlling_account:wt.from(t)},responseType:Je})}}class We extends Error{constructor(t,e){let r;r=e.json&&e.json.error?`${We.formatError(e.json.error)} at ${t}`:`HTTP ${e.status} at ${t}`,super(r),this.path=t,this.response=e}static formatError(t){return"unspecified"===t.what&&t.details[0].file&&"http_plugin.cpp"===t.details[0].file&&"unknown key"===t.details[0].message.slice(0,11)?"Account not found":"unspecified"===t.what&&t.details&&t.details.length>0?t.details[0].message:t.what&&t.what.length>0?t.what:"Unknown API error"}get error(){const{json:t}=this.response;return t?t.error:void 0}get name(){const{error:t}=this;return t?t.name:"unspecified"}get code(){const{error:t}=this;return t?t.code:0}get details(){const{error:t}=this;return t?t.details:[]}}We.__className="APIError";class Ke{constructor(t){if(this.v1={chain:new Ve(this),history:new qe(this)},t.provider)this.provider=t.provider;else{if(!t.url)throw new Error("Missing url or provider");this.provider=new he(t.url,t)}}async call(t){const e=await this.provider.call(t.path,t.params),{json:r}=e;if(2!==Math.floor(e.status/100)||r&&"object"===typeof r.error)throw new We(t.path,e);return t.responseType?et({type:t.responseType,object:e.json}):e.json||e.text}}Ke.__className="APIClient";function Ze(t,e,r,i){var n,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,r,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(o<3?n(s):o>3?n(e,r,s):n(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s}Object.create;Object.create;var He=r(40019);
/**
 * EOSIO Core v0.6.8
 * https://github.com/greymass/eosio-core
 *
 * @license
 * Copyright (c) 2020 FFF00 Agents AB & Greymass Inc. All Rights Reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 *  1. Redistribution of source code must retain the above copyright notice, this
 *     list of conditions and the following disclaimer.
 * 
 *  2. Redistribution in binary form must reproduce the above copyright notice,
 *     this list of conditions and the following disclaimer in the documentation
 *     and/or other materials provided with the distribution.
 * 
 *  3. Neither the name of the copyright holder nor the names of its contributors
 *     may be used to endorse or promote products derived from this software without
 *     specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
 * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
 */function Ge(t,e){const r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(t[i]!==e[i])return!1;return!0}function Xe(t,e){const r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(!t[i].equals(e[i]))return!1;return!0}const Ye={};function tr(){Ye.enc=new Array(255),Ye.dec={};for(let t=0;t<=255;++t){const e=t.toString(16).padStart(2,"0");Ye.enc[t]=e,Ye.dec[e]=t}}function er(t){Ye.enc||tr();const e=t.length,r=new Array(e);for(let i=0;i<e;++i)r[i]=Ye.enc[t[i]];return r.join("")}function rr(t){if(Ye.dec||tr(),"string"!==typeof t)throw new Error("Expected string containing hex digits");if(t.length%2)throw new Error("Odd number of hex digits");t=t.toLowerCase();const e=t.length/2,r=new Uint8Array(e);for(let i=0;i<e;i++){const e=Ye.dec[t[2*i]+t[2*i+1]];if(void 0===e)throw new Error("Expected hex string");r[i]=e}return r}function ir(t){return o()(t)}let nr=!1;function or(t,e){if(t instanceof e)return!0;if(null==t||"object"!==typeof t)return!1;const r=e["__className"]||e["abiName"];if(!r)return!1;let i=t.constructor,n=!1;while(i&&!n){const t=i["__className"]||i["abiName"];if(!t)break;n=r==t,i=Object.getPrototypeOf(i)}return n&&!nr&&(He.warn(`Detected alien instance of ${r}, this usually means more than one version of @greymass/eosio has been included in your bundle.`),nr=!0),n}class sr{constructor(t=new Uint8Array){this.array=t}static from(t,e){return or(t,this)?t:"string"===typeof t?this.fromString(t,e):ArrayBuffer.isView(t)?new this(new Uint8Array(t.buffer,t.byteOffset,t.byteLength)):or(t["array"],Uint8Array)?new this(t["array"]):new this(new Uint8Array(t))}static fromString(t,e="hex"){if("hex"===e){const e=rr(t);return new this(e)}if("utf8"==e){const e=new TextEncoder;return new this(e.encode(t))}throw new Error(`Unknown encoding: ${e}`)}static fromABI(t){const e=t.readVaruint32();return new this(t.readArray(e))}static abiDefault(){return new sr}static equal(t,e){return this.from(t).equals(this.from(e))}static random(t){return new this(ir(t))}static isBytes(t){return!(!or(t,sr)&&!or(t,Uint8Array))||(!(!Array.isArray(t)||!t.every((t=>"number"===typeof t)))||!("string"!==typeof t||!/[\da-f]/i.test(t)&&""!==t))}get length(){return this.array.byteLength}get hexString(){return er(this.array)}get utf8String(){return(new TextDecoder).decode(this.array)}append(t){t=sr.from(t);const e=this.array.byteLength+t.array.byteLength,r=new ArrayBuffer(e),i=new Uint8Array(r);i.set(this.array),i.set(t.array,this.array.byteLength),this.array=i}appending(t){const e=new sr(this.array);return e.append(t),e}zeropad(t,e=!1){const r=e?t:Math.max(t,this.array.byteLength),i=new ArrayBuffer(r),n=new Uint8Array(i);n.fill(0),e&&this.array.byteLength>r?n.set(this.array.slice(0,r),0):n.set(this.array,r-this.array.byteLength),this.array=n}zeropadded(t,e=!1){const r=new sr(this.array);return r.zeropad(t,e),r}dropFirst(t=1){this.array=this.array.subarray(t)}droppingFirst(t=1){return new sr(this.array.subarray(t))}copy(){const t=new ArrayBuffer(this.array.byteLength),e=new Uint8Array(t);return e.set(this.array),new sr(e)}equals(t){return Ge(this.array,sr.from(t).array)}toString(t="hex"){if("hex"===t)return this.hexString;if("utf8"===t)return this.utf8String;throw new Error(`Unknown encoding: ${t}`)}toABI(t){t.writeVaruint32(this.array.byteLength),t.writeArray(this.array)}toJSON(){return this.hexString}}sr.abiName="bytes";class ar{constructor(t){const e=this.constructor.byteSize;if(t.byteLength!==e)throw new Error(`Checksum size mismatch, expected ${e} bytes got ${t.byteLength}`);this.array=t}static from(t){return or(t,this)?t:or(t,ar)?new this(t.array):new this(sr.from(t).array)}static fromABI(t){return new this(t.readArray(this.byteSize))}static abiDefault(){return new this(new Uint8Array(this.byteSize))}equals(t){const e=this.constructor;try{return Ge(this.array,e.from(t).array)}catch{return!1}}get hexString(){return er(this.array)}toABI(t){t.writeArray(this.array)}toString(){return this.hexString}toJSON(){return this.toString()}}ar.abiName="__checksum";class cr extends ar{static from(t){return super.from(t)}static hash(t){const e=new Uint8Array((0,s.sha256)().update(sr.from(t).array).digest());return new cr(e)}}cr.abiName="checksum256",cr.byteSize=32;class lr extends ar{static from(t){return super.from(t)}static hash(t){const e=new Uint8Array((0,s.sha512)().update(sr.from(t).array).digest());return new lr(e)}}lr.abiName="checksum512",lr.byteSize=64;class ur extends ar{static from(t){return super.from(t)}static hash(t){const e=new Uint8Array((0,s.ripemd160)().update(sr.from(t).array).digest());return new ur(e)}}var hr;ur.abiName="checksum160",ur.byteSize=20,function(t){t["K1"]="K1",t["R1"]="R1",t["WA"]="WA"}(hr||(hr={})),function(t){function e(e){switch(e){case t.K1:return 0;case t.R1:return 1;case t.WA:return 2;default:throw new Error(`Unknown curve type: ${e}`)}}function r(e){let r;switch(r="number"!==typeof e?t.indexFor(e):e,r){case 0:return t.K1;case 1:return t.R1;case 2:return t.WA;default:throw new Error("Unknown curve type")}}t.indexFor=e,t.from=r}(hr||(hr={}));class dr{constructor(t){const e=this.constructor;if(void 0===e.isSigned||void 0===e.byteWidth)throw new Error("Cannot instantiate abstract class Int");if(t.gt(e.max))throw new Error(`Number ${t} overflows ${e.abiName}`);if(t.lt(e.min))throw new Error(`Number ${t} underflows ${e.abiName}`);this.value=t}static get max(){return new(c())(2).pow(new(c())(8*this.byteWidth-(this.isSigned?1:0))).isubn(1)}static get min(){return this.isSigned?this.max.ineg().isubn(1):new(c())(0)}static add(t,e,r="truncate"){return dr.operator(t,e,r,((t,e)=>t.add(e)))}static sub(t,e,r){return dr.operator(t,e,r,((t,e)=>t.sub(e)))}static mul(t,e,r){return dr.operator(t,e,r,((t,e)=>t.mul(e)))}static div(t,e,r){return dr.operator(t,e,r,((t,e)=>{if(e.isZero())throw new Error("Division by zero");return t.div(e)}))}static divRound(t,e,r){return dr.operator(t,e,r,((t,e)=>{if(e.isZero())throw new Error("Division by zero");return t.divRound(e)}))}static divCeil(t,e,r){return dr.operator(t,e,r,((t,e)=>{if(e.isZero())throw new Error("Division by zero");const r=t.divmod(e);return r.mod.isZero()?r.div:0!==r.div.negative?r.div.isubn(1):r.div.iaddn(1)}))}static operator(t,e,r="truncate",i){const{a:n,b:o}=Sr(t,e),s=n.constructor,a=i(n.value,o.value);return s.from(a,r)}static from(t,e){if(or(t,this))return t;let r,i=this;if(or(t,dr))i=t.constructor,r=t.value.clone();else if(t instanceof Uint8Array)r=new(c())(t,void 0,"le"),i.isSigned&&(r=r.fromTwos(8*i.byteWidth));else{if("string"===typeof t&&!/[0-9]+/.test(t)||"number"===typeof t&&!Number.isFinite(t))throw new Error("Invalid number");r=c().isBN(t)?t.clone():new(c())(t,10),r.isNeg()&&!i.isSigned&&(i={byteWidth:i.byteWidth,isSigned:!0})}switch(e){case"clamp":r=Ur(r,this.min,this.max);break;case"truncate":r=xr(r,i,this);break}return new this(r)}static fromABI(t){return this.from(t.readArray(this.byteWidth))}static abiDefault(){return this.from(0)}static random(){return this.from(ir(this.byteWidth))}cast(t,e="truncate"){return this.constructor===t?this:t.from(this,e)}get byteArray(){const t=this.constructor,e=t.isSigned?this.value.toTwos(8*t.byteWidth):this.value;return e.toArrayLike(Uint8Array,"le",t.byteWidth)}equals(t,e=!1){const r=this.constructor;if(!0===e&&or(t,dr)){const e=t.constructor;if(r.byteWidth!==e.byteWidth||r.isSigned!==e.isSigned)return!1}try{return this.value.eq(r.from(t).value)}catch{return!1}}add(t){this.value=this.operator(t,dr.add).value}adding(t){return this.operator(t,dr.add)}subtract(t){this.value=this.operator(t,dr.sub).value}subtracting(t){return this.operator(t,dr.sub)}multiply(t){this.value=this.operator(t,dr.mul).value}multiplying(t){return this.operator(t,dr.mul)}divide(t,e){this.value=this.dividing(t,e).value}dividing(t,e){let r=dr.div;switch(e){case"ceil":r=dr.divCeil;break;case"round":r=dr.divRound;break}return this.operator(t,r)}operator(t,e){let r;return r=or(t,dr)?t:yr.from(t,"truncate"),e(this,r).cast(this.constructor)}toNumber(){return this.value.toNumber()}toString(){return this.value.toString()}[Symbol.toPrimitive](t){return"number"===t?this.toNumber():this.toString()}toABI(t){t.writeArray(this.byteArray)}toJSON(){return this.value.bitLength()>32?this.value.toString():this.value.toNumber()}}dr.abiName="__int";class pr extends dr{}pr.abiName="int8",pr.byteWidth=1,pr.isSigned=!0;class fr extends dr{}fr.abiName="int16",fr.byteWidth=2,fr.isSigned=!0;class mr extends dr{}mr.abiName="int32",mr.byteWidth=4,mr.isSigned=!0;class yr extends dr{}yr.abiName="int64",yr.byteWidth=8,yr.isSigned=!0;class gr extends dr{}gr.abiName="int128",gr.byteWidth=16,gr.isSigned=!0;class wr extends dr{}wr.abiName="uint8",wr.byteWidth=1,wr.isSigned=!1;class vr extends dr{}vr.abiName="uint16",vr.byteWidth=2,vr.isSigned=!1;class br extends dr{}br.abiName="uint32",br.byteWidth=4,br.isSigned=!1;class Qr extends dr{}Qr.abiName="uint64",Qr.byteWidth=8,Qr.isSigned=!1;class Br extends dr{}Br.abiName="uint128",Br.byteWidth=16,Br.isSigned=!1;class Er extends dr{static fromABI(t){return new this(new(c())(t.readVarint32()))}toABI(t){t.writeVarint32(Number(this))}}Er.abiName="varint32",Er.byteWidth=32,Er.isSigned=!0;class _r extends dr{static fromABI(t){return new this(new(c())(t.readVaruint32()))}toABI(t){t.writeVaruint32(Number(this))}}function Ur(t,e,r){return c().min(c().max(t,e),r)}function xr(t,e,r){const i=t.isNeg()?255:0,n=e.isSigned?t.toTwos(8*e.byteWidth):t,o=n.toArrayLike(Uint8Array,"le"),s=new Uint8Array(r.byteWidth);s.fill(i),s.set(o.slice(0,r.byteWidth));const a=new(c())(s,void 0,"le");return r.isSigned?a.fromTwos(8*r.byteWidth):a}function Sr(t,e){t=Fr(t),e=Fr(e);const r=t.constructor,i=e.constructor;return r!==i&&(r.isSigned===i.isSigned?r.byteWidth>i.byteWidth?e=e.cast(r):i.byteWidth>r.byteWidth&&(t=t.cast(i)):!1===r.isSigned&&r.byteWidth>=i.byteWidth?e=e.cast(r):!1===i.isSigned&&i.byteWidth>=r.byteWidth?t=t.cast(i):!0===r.isSigned&&r.max.gte(i.max)&&r.min.lte(i.min)?e=e.cast(r):!0===i.isSigned&&i.max.gte(r.max)&&i.min.lte(r.min)&&(t=t.cast(i))),{a:t,b:e}}function Fr(t){let e=t;const r=t.constructor;return r.byteWidth<4&&(e=t.cast(mr)),e}function kr(t){const e=[],r=[],i=[],n=new Set,o=t=>{let e;return e="string"!==typeof t.type?s(t.type):t.type,!0===t.array&&(e+="[]"),!0===t.optional&&(e+="?"),!0===t.extension&&(e+="$"),e},s=t=>{if(!t.abiName)throw new Error("Encountered non-conforming type");if("__struct"===t.abiName)throw new Error("Misconfigured Struct subclass, did you forget @Struct.type?");if(n.has(t))return t.abiName;if(n.add(t),t.abiAlias)i.push({new_type_name:t.abiName,type:o(t.abiAlias)});else if(t.abiFields){const r=t.abiFields.map((t=>({name:t.name,type:o(t)}))),i={base:t.abiBase?s(t.abiBase):"",name:t.abiName,fields:r};e.push(i)}else if(t.abiVariant){const e={name:t.abiName,types:t.abiVariant.map(o)};r.push(e)}return t.abiName},a=s(t);return{abi:ui.from({structs:e,variants:r,types:i}),types:Array.from(n),root:a}}function Nr(t){let e="string"===typeof t.type?t.type:t.type.abiName;return!0===t.array&&(e+="[]"),!0===t.optional&&(e+="?"),!0===t.extension&&(e+="$"),e}function Ar(t){return"string"!==typeof t&&void 0===t.abiName&&void 0!==t.type}function Lr(t){return"string"===typeof t||"undefined"!==typeof t.abiName?{type:t}:t}_r.abiName="varuint32",_r.byteWidth=32,_r.isSigned=!1;const Dr={abiName:"string",abiDefault:()=>"",fromABI:t=>t.readString(),from:t=>t,toABI:(t,e)=>{e.writeString(t)}},Cr={abiName:"bool",abiDefault:()=>!1,fromABI:t=>1===t.readByte(),from:t=>t,toABI:(t,e)=>{e.writeByte(!0===t?1:0)}};function Ir(){return[Cr,Dr,hi,hi.Symbol,hi.SymbolCode,li,sr,ur,cr,lr,di,ri,ti,ei,gr,fr,mr,yr,pr,ii,vi,_i,ai,ci,Br,vr,br,Qr,wr,Er,_r]}function Mr(t=[]){const e={},r=Ir();for(const i of r)e[i.abiName]=i;for(const i of t){if(!i.abiName)throw new Error("Invalid type");e[i.abiName]=i}return e}function Tr(t){if(t.constructor&&void 0!==t.constructor.abiName)return t.constructor.abiName;if(Array.isArray(t)){const e=t.map(Tr),r=e[0];if(!r||!e.every((t=>t===r)))return;return r+"[]"}switch(typeof t){case"boolean":return"bool";case"string":return"string"}}function Rr(t,e="jsobj"){var r;if(t.constructor&&void 0!==t.constructor.abiName)return t.constructor;if(Array.isArray(t)){const r=t.map((t=>Rr(t,e))),i=r[0];if(!i)return;if(!r.every((t=>t&&t.abiName===i.abiName)))return;return i}const i=typeof t;if("object"===i&&null!==t){const i=Object.keys(t).map((r=>({name:r,type:Rr(t[r],e+"_nested")})));if(i.find((t=>!t.type)))return;return r=class extends Hr{},r.abiName=e,r.abiFields=i,r}switch(i){case"boolean":return Cr;case"string":return Dr}}class zr extends Error{constructor(t,e){const r=t.codingPath.map((({field:t,type:e})=>"number"===typeof t?t:`${t}<${e.typeName}>`)).join(".");super(`Decoding error at ${r}: ${e.message}`),this.stack=e.stack,this.ctx=t,this.underlyingError=e}}function Pr(t){const e=Lr(t.type),r=Nr(e),i=t.customTypes||[];let n;if(t.abi)n=ui.from(t.abi);else try{let t;if("string"===typeof e.type){const r=Mr(i),n=new ui.ResolvedType(e.type).name;if(t=r[n],!t)throw new Error(`Unknown type: ${e.type}`)}else t=e.type;const r=kr(t);n=r.abi,i.push(...r.types)}catch(a){throw Error(`Unable to synthesize ABI for: ${r} (${a.message}). To decode non-class types you need to pass the ABI definition manually.`)}const o=n.resolveType(r);"string"!==typeof e.type&&i.unshift(e.type);const s={types:Mr(i),strictExtensions:t.strictExtensions||!1,codingPath:[{field:"root",type:o}]};try{if(t.data||""===t.data){let e;if(or(t.data,Vr))e=t.data;else{const r=sr.from(t.data);e=new Vr(r.array)}return t.metadata&&(e.metadata=t.metadata),jr(o,e,s)}if(void 0!==t.object)return Jr(t.object,o,s);if(t.json)return Jr(JSON.parse(t.json),o,s);throw new Error("Nothing to decode, you must set one of data, json, object")}catch(a){throw new zr(s,a)}}zr.__className="DecodingError";const Or=Symbol("Resolved");function jr(t,e,r){if(r.codingPath.length>32)throw new Error("Maximum decoding depth exceeded");if(t.isExtension&&!e.canRead())return r.strictExtensions?$r(t,r):null;if(t.isOptional&&0===e.readByte())return null;if(t.isArray){const n=e.readVaruint32(),o=[];for(let e=0;e<n;e++)r.codingPath.push({field:e,type:t}),o.push(i()),r.codingPath.pop();return o}return i();function i(){const i=r.types[t.name];if(i&&i.fromABI)return i.fromABI(e);if(t.ref){r.codingPath.push({field:"",type:t.ref});const i=jr(t.ref,e,r);return r.codingPath.pop(),i}if(t.fields){const n=t.allFields;if(!n)throw new Error("Invalid struct fields");const o={};for(const t of n)r.codingPath.push({field:t.name,type:t.type}),o[t.name]=jr(t.type,e,r),r.codingPath.pop();return i?(o[Or]=!0,i.from(o)):o}if(t.variant){const n=e.readByte(),o=t.variant[n];if(!o)throw new Error(`Unknown variant idx: ${n}`);r.codingPath.push({field:`v${n}`,type:o});const s=[o.typeName,jr(o,e,r)];return r.codingPath.pop(),i?i.from(s):s}throw i?new Error("Invalid type"):new Error("any"===t.name?"Unable to decode 'any' type from binary":"Unknown type")}}function Jr(t,e,r){if(null===t||void 0===t){if(e.isOptional)return null;if(e.isExtension)return r.strictExtensions?$r(e,r):null;throw new Error(`Unexpectedly encountered ${t} for non-optional`)}if(e.isArray){if(!Array.isArray(t))throw new Error("Expected array");const n=[],o=t.length;for(let s=0;s<o;s++)r.codingPath.push({field:s,type:e}),n.push(i(t[s])),r.codingPath.pop();return n}return i(t);function i(t){const i=r.types[e.name];if(e.ref&&!i)return Jr(t,e.ref,r);if(e.fields){if("object"!==typeof t)throw new Error("Expected object");if("function"===typeof i&&or(t,i))return t;const n=e.allFields;if(!n)throw new Error("Invalid struct fields");const o={};for(const e of n)r.codingPath.push({field:e.name,type:e.type}),o[e.name]=Jr(t[e.name],e.type,r),r.codingPath.pop();return i?(o[Or]=!0,i.from(o)):o}if(e.variant){let n;Array.isArray(t)&&2===t.length&&"string"===typeof t[0]?(n=t[0],t=t[1]):or(t,Xr)?(n=t.variantName,t=t.value):n=Tr(t);const o=e.variant.findIndex((t=>t.typeName===n));if(-1===o)throw new Error(`Unknown variant type: ${n}`);const s=e.variant[o];r.codingPath.push({field:`v${o}`,type:s});const a=[s.typeName,Jr(t,s,r)];return r.codingPath.pop(),i?(a[Or]=!0,i.from(a)):a}if(!i){if("any"===e.name)return t;throw new Error("Unknown type")}return i.from(t)}}function $r(t,e,r=new Set){if(t.isArray)return[];if(t.isOptional)return null;const i=e.types[t.name];if(i&&i.abiDefault)return i.abiDefault();if(r.has(t.name))throw new Error("Circular type reference");if(r.add(t.name),t.allFields){const n={};for(const i of t.allFields)e.codingPath.push({field:i.name,type:i.type}),n[i.name]=$r(i.type,e,r),e.codingPath.pop();return i?(n[Or]=!0,i.from(n)):n}if(t.variant&&t.variant.length>0){const r=[t.variant[0].typeName,$r(t.variant[0],e)];return i?(r[Or]=!0,i.from(r)):r}if(t.ref){e.codingPath.push({field:"",type:t.ref});const i=$r(t.ref,e,r);return e.codingPath.pop(),i}throw new Error("Unable to determine default value")}class Vr{constructor(t){this.array=t,this.pos=0,this.textDecoder=new TextDecoder("utf-8",{fatal:!0}),this.metadata={},this.data=new DataView(t.buffer,t.byteOffset,t.byteLength)}canRead(t=1){return!(this.pos+t>this.array.byteLength)}ensure(t){if(!this.canRead(t))throw new Error("Read past end of buffer")}setPosition(t){if(t<0||t>this.array.byteLength)throw new Error("Invalid position");this.pos=t}getPosition(){return this.pos}advance(t){this.ensure(t),this.pos+=t}readByte(){return this.ensure(1),this.array[this.pos++]}readFloat(t){let e;switch(this.ensure(t),t){case 4:e=this.data.getFloat32(this.pos,!0);break;case 8:e=this.data.getFloat64(this.pos,!0);break;default:throw new Error("Invalid float size")}return this.pos+=t,e}readVaruint32(){let t=0,e=0;for(;;){const r=this.readByte();if(t|=(127&r)<<e,e+=7,!(128&r))break}return t>>>0}readVarint32(){const t=this.readVaruint32();return 1&t?~t>>1|2147483648:t>>>1}readArray(t){this.ensure(t);const e=this.array.subarray(this.pos,this.pos+t);return this.pos+=t,e}readString(){const t=this.readVaruint32();return this.textDecoder.decode(this.readArray(t))}}Vr.__className="ABIDecoder";class qr extends Error{constructor(t,e){const r=t.codingPath.map((({field:t,type:e})=>"number"===typeof t?t:`${t}<${e.typeName}>`)).join(".");super(`Encoding error at ${r}: ${e.message}`),this.stack=e.stack,this.ctx=t,this.underlyingError=e}}function Wr(t){let e,r;"string"===typeof t.type?r=t.type:t.type&&Ar(t.type)?("string"!==typeof t.type.type&&(e=t.type.type),r=Nr(t.type)):t.type&&void 0!==t.type.abiName?(e=t.type,r=t.type.abiName):(e=Rr(t.object),e&&(r=e.abiName,Array.isArray(t.object)&&(r+="[]")));const i=t.customTypes?t.customTypes.slice():[];if(e)i.unshift(e);else if(r){const t=new ui.ResolvedType(r).name;e=i.find((e=>e.abiName===t))}let n;if(t.abi&&r)n=ui.from(t.abi).resolveType(r);else if(e){const t=kr(e);n=t.abi.resolveType(r||e.abiName),i.push(...t.types)}else{if(!r)throw new Error("Unable to determine the type of the object to be encoded. To encode custom ABI types you must pass the type argument.");n=new ui.ResolvedType(r)}const o=Mr(i),s=t.encoder||new Zr;t.metadata&&(s.metadata=t.metadata);const a={types:o,encoder:s,codingPath:[{field:"root",type:n}]};try{Kr(t.object,n,a)}catch(c){throw new qr(a,c)}return sr.from(s.getData())}function Kr(t,e,r){const i=void 0!==t&&null!==t;if(!e.isOptional||(r.encoder.writeByte(i?1:0),i))if(e.isArray){if(!Array.isArray(t))throw new Error(`Expected array for: ${e.typeName}`);const i=t.length;r.encoder.writeVaruint32(i);for(let o=0;o<i;o++)r.codingPath.push({field:o,type:e}),n(t[o]),r.codingPath.pop()}else n(t);function n(t){const n=r.types[e.name];if(!e.ref||n){if(!i){if(e.isExtension)return;throw new Error(`Found ${t} for non-optional type: ${e.typeName}`)}if(n&&n.toABI)n.toABI(t,r.encoder);else if("function"===typeof t.toABI&&t.constructor.abiName===e.name)t.toABI(r.encoder);else if(e.fields){if("object"!==typeof t)throw new Error(`Expected object for: ${e.name}`);const i=e.allFields;if(!i)throw new Error("Invalid struct fields");for(const e of i)r.codingPath.push({field:e.name,type:e.type}),Kr(t[e.name],e.type,r),r.codingPath.pop()}else if(e.variant){let i;Array.isArray(t)&&2===t.length&&"string"===typeof t[0]?(i=t[0],t=t[1]):or(t,Xr)?(i=t.variantName,t=t.value):i=Tr(t);const n=e.variant.findIndex((t=>t.typeName===i));if(-1===n){const t=e.variant.map((t=>`'${t.typeName}'`)).join(", ");throw new Error(`Unknown variant type '${i}', expected one of ${t}`)}const o=e.variant[n];r.encoder.writeVaruint32(n),r.codingPath.push({field:`v${n}`,type:o}),Kr(t,o,r),r.codingPath.pop()}else{if(!n)throw new Error("any"===e.name?"Unable to encode any type to binary":"Unknown type");const i=n.from(t);if(!i.toABI)throw new Error(`Invalid type ${e.name}, no encoding methods implemented`);i.toABI(r.encoder)}}else Kr(t,e.ref,r)}}qr.__className="EncodingError";class Zr{constructor(t=1024){this.pageSize=t,this.pos=0,this.textEncoder=new TextEncoder,this.metadata={};const e=new ArrayBuffer(t);this.data=new DataView(e),this.array=new Uint8Array(e)}ensure(t){if(this.data.byteLength>=this.pos+t)return;const e=Math.ceil(t/this.pageSize),r=this.data.byteLength+this.pageSize*e,i=new ArrayBuffer(r),n=new DataView(i),o=new Uint8Array(i);o.set(this.array),this.data=n,this.array=o}writeByte(t){this.ensure(1),this.array[this.pos++]=t}writeArray(t){const e=t.length;this.ensure(e),this.array.set(t,this.pos),this.pos+=e}writeFloat(t,e){switch(this.ensure(e),e){case 4:this.data.setFloat32(this.pos,t,!0);break;case 8:this.data.setFloat64(this.pos,t,!0);break;default:throw new Error("Invalid float size")}this.pos+=e}writeVaruint32(t){for(this.ensure(4);;){if(!(t>>>7)){this.array[this.pos++]=t;break}this.array[this.pos++]=128|127&t,t>>>=7}}writeVarint32(t){this.writeVaruint32(t<<1^t>>31)}writeString(t){const e=this.textEncoder.encode(t);this.writeVaruint32(e.byteLength),this.writeArray(e)}getData(){return new Uint8Array(this.array.buffer,this.array.byteOffset,this.pos)}getBytes(){return new sr(this.getData())}}Zr.__className="ABIEncoder";class Hr{constructor(t){const e=this.constructor;for(const r of e.structFields)this[r.name]=t[r.name]}static from(t){return!0===t[Or]?new this(t):or(t,this)?t:Pr({object:t,type:this})}static get structFields(){const t=[],e=r=>{r.abiBase&&e(r.abiBase);for(const e of r.abiFields||[])t.push(e)};return e(this),t}equals(t){const e=this.constructor;return(!t.constructor||"string"!==typeof t.constructor.abiName||t.constructor.abiName===e.abiName)&&Wr({object:this}).equals(Wr({object:e.from(t)}))}toJSON(){const t=this.constructor,e={};for(const r of t.structFields)e[r.name]=this[r.name];return e}}function Gr(t){return function(e){return e.abiAlias={type:Object.getPrototypeOf(e.prototype).constructor},e.abiName=t,e}}Hr.abiName="__struct",function(t){const e=Symbol("FieldsOwner");function r(t){return function(e){return e.abiName=t,e}}function i(t,r={}){return(i,n)=>{const o=i.constructor;o.abiFields?o.abiFields[e]!==o&&(o.abiBase=o.abiFields[e],o.abiFields=[],o.abiFields[e]=o):(o.abiFields=[],o.abiFields[e]=o),o.abiFields.push({...r,name:n,type:t})}}t.type=r,t.field=i}(Hr||(Hr={}));class Xr{constructor(t){const e=this.constructor.abiVariant;this.value=t[1];const r=e.map(Nr).findIndex((e=>e===t[0]));if(0>r||e.length<=r)throw new Error(`Unknown variant ${t[0]}`);this.variantIdx=r}static from(t){return t[Or]?new this(t):or(t,this)?t:Pr({object:t,type:this})}equals(t){const e=this.constructor,r=e.from(t);return this.variantIdx===r.variantIdx&&Wr({object:this}).equals(Wr({object:r}))}get variantName(){const t=this.constructor.abiVariant[this.variantIdx];return Nr(t)}toJSON(){return[this.variantName,this.value]}}Xr.abiName="__variant",Xr.abiVariant=[],function(t){function e(t,e){return function(r){return r.abiName=t,r.abiVariant=e.map(Lr),r}}t.type=e}(Xr||(Xr={}));class Yr{constructor(t){if(!Number.isFinite(t))throw new Error("Invalid number");this.value=t}static from(t){return or(t,this)?t:("string"===typeof t?t=Number.parseFloat(t):or(t,Yr)&&(t=t.value),new this(t))}static fromABI(t){return new this(t.readFloat(this.byteWidth))}static abiDefault(){return this.from(0)}static random(){const t=ir(this.byteWidth),e=new Vr(t);return this.fromABI(e)}equals(t){const e=this.constructor;return this.value===e.from(t).value}toABI(t){const e=this.constructor;t.writeFloat(this.value,e.byteWidth)}toString(){return this.value.toString()}toJSON(){return this.toString()}}Yr.abiName="__float";class ti extends Yr{toString(){return this.value.toFixed(7)}}ti.abiName="float32",ti.byteWidth=4;class ei extends Yr{}ei.abiName="float64",ei.byteWidth=8;class ri{constructor(t){if(16!==t.array.length)throw new Error("Invalid float128");this.data=t}static from(t){return or(t,this)?t:("string"===typeof t&&t.startsWith("0x")&&(t=t.slice(2)),new this(sr.from(t)))}static fromABI(t){return new this(new sr(t.readArray(this.byteWidth)))}static random(){const t=ir(16),e=new Vr(t);return this.fromABI(e)}equals(t){const e=this.constructor;return this.data.equals(e.from(t).data)}toABI(t){t.writeArray(this.data.array)}toString(){return"0x"+this.data.hexString}toJSON(){return this.toString()}}ri.abiName="float128",ri.byteWidth=16;class ii{constructor(t){this.value=t}get rawValue(){return this.value}static from(t){if(or(t,ii))return t;if("string"===typeof t)return new ii(ni(t));if(or(t,Qr))return new ii(t);throw new Error("Invalid name")}static fromABI(t){return new ii(Qr.fromABI(t))}static abiDefault(){return new this(Qr.from(0))}equals(t){return this.value.equals(ii.from(t).value)}toString(){return oi(this.value)}toABI(t){this.value.toABI(t)}toJSON(){return this.toString()}}function ni(t){function e(t){return t>="a".charCodeAt(0)&&t<="z".charCodeAt(0)?t-"a".charCodeAt(0)+6:t>="1".charCodeAt(0)&&t<="5".charCodeAt(0)?t-"1".charCodeAt(0)+1:0}const r=new Uint8Array(8);let i=63;for(let n=0;n<t.length;++n){let o=e(t.charCodeAt(n));i<5&&(o<<=1);for(let t=4;t>=0;--t)i>=0&&(r[Math.floor(i/8)]|=(o>>t&1)<<i%8,--i)}return Qr.from(r)}function oi(t){const e=t.value.toArray("le",8);let r="";for(let i=63;i>=0;){let t=0;for(let r=0;r<5;++r)i>=0&&(t=t<<1|e[Math.floor(i/8)]>>i%8&1,--i);r+=t>=6?String.fromCharCode(t+"a".charCodeAt(0)-6):t>=1?String.fromCharCode(t+"1".charCodeAt(0)-1):"."}while(r.endsWith("."))r=r.substr(0,r.length-1);return r}ii.abiName="name",ii.pattern=/^[a-z1-5.]{0,13}$/;class si{static from(t){return or(t,this)?t:or(t,si)?this.fromMilliseconds(t.toMilliseconds()):or(t,Date)?this.fromDate(t):"string"===typeof t?this.fromString(t):this.fromInteger(t)}static fromString(t){const e=Date.parse(t+"Z");if(!Number.isFinite(e))throw new Error("Invalid date string");return this.fromMilliseconds(e)}static fromDate(t){return this.fromMilliseconds(t.getTime())}static abiDefault(){return this.from(0)}toABI(t){const e=this;e.value.toABI(t)}equals(t){const e=this.constructor;return this.toMilliseconds()===e.from(t).toMilliseconds()}toMilliseconds(){throw new Error("Not implemented")}toDate(){return new Date(this.toMilliseconds())}toJSON(){return this.toString()}}si.abiName="__time_point_base";class ai extends si{constructor(t){super(),this.value=t}static fromMilliseconds(t){return new this(yr.from(Math.round(1e3*t)))}static fromInteger(t){return new this(yr.from(t))}static fromABI(t){return new this(yr.fromABI(t))}toString(){return this.toDate().toISOString().slice(0,-1)}toMilliseconds(){return Number(this.value.dividing(1e3,"round"))}}ai.abiName="time_point";class ci extends si{constructor(t){super(),this.value=t}static fromMilliseconds(t){return new this(br.from(Math.round(t/1e3)))}static fromInteger(t){return new this(br.from(t))}static fromABI(t){return new this(br.fromABI(t))}toString(){return this.toDate().toISOString().slice(0,-5)}toMilliseconds(){return Number(this.value.cast(Qr).multiplying(1e3))}}ci.abiName="time_point_sec";class li extends si{constructor(t){super(),this.value=t}static fromMilliseconds(t){return new this(br.from(Math.round((t-9466848e5)/500)))}static fromInteger(t){return new this(br.from(t))}static fromABI(t){return new this(br.fromABI(t))}toString(){return this.toDate().toISOString().slice(0,-1)}toMilliseconds(){return Number(this.value.cast(Qr).multiplying(500).adding(9466848e5))}}li.abiName="block_timestamp_type";class ui{constructor(t){this.version=t.version||ui.version,this.types=t.types||[],this.variants=t.variants||[],this.structs=t.structs||[],this.actions=t.actions||[],this.tables=t.tables||[],this.ricardian_clauses=t.ricardian_clauses||[]}static from(t){return or(t,ui)?t:new ui("string"===typeof t?JSON.parse(t):t)}static fromABI(t){const e=t.readString(),r=[],i=t.readVaruint32();for(let m=0;m<i;m++)r.push({new_type_name:t.readString(),type:t.readString()});const n=[],o=t.readVaruint32();for(let m=0;m<o;m++){const e=t.readString(),r=t.readString(),i=t.readVaruint32(),o=[];for(let n=0;n<i;n++)o.push({name:t.readString(),type:t.readString()});n.push({base:r,name:e,fields:o})}const s=[],a=t.readVaruint32();for(let m=0;m<a;m++){const e=ii.fromABI(t),r=t.readString(),i=t.readString();s.push({name:e,type:r,ricardian_contract:i})}const c=[],l=t.readVaruint32();for(let m=0;m<l;m++){const e=ii.fromABI(t),r=t.readString(),i=[],n=t.readVaruint32();for(let c=0;c<n;c++)i.push(t.readString());const o=[],s=t.readVaruint32();for(let c=0;c<s;c++)o.push(t.readString());const a=t.readString();c.push({name:e,index_type:r,key_names:i,key_types:o,type:a})}const u=[],h=t.readVaruint32();for(let m=0;m<h;m++){const e=t.readString(),r=t.readString();u.push({id:e,body:r})}const d=t.readVaruint32();for(let m=0;m<d;m++)t.advance(8),t.advance(t.readVaruint32());const p=t.readVaruint32();for(let m=0;m<p;m++)t.advance(2),t.advance(t.readVaruint32());const f=[];if(t.canRead()){const e=t.readVaruint32();for(let r=0;r<e;r++){const e=t.readString(),r=[],i=t.readVaruint32();for(let n=0;n<i;n++)r.push(t.readString());f.push({name:e,types:r})}}return new ui({version:e,types:r,structs:n,actions:s,tables:c,ricardian_clauses:u,variants:f})}toABI(t){t.writeString(this.version),t.writeVaruint32(this.types.length);for(const e of this.types)t.writeString(e.new_type_name),t.writeString(e.type);t.writeVaruint32(this.structs.length);for(const e of this.structs){t.writeString(e.name),t.writeString(e.base),t.writeVaruint32(e.fields.length);for(const r of e.fields)t.writeString(r.name),t.writeString(r.type)}t.writeVaruint32(this.actions.length);for(const e of this.actions)ii.from(e.name).toABI(t),t.writeString(e.type),t.writeString(e.ricardian_contract);t.writeVaruint32(this.tables.length);for(const e of this.tables){ii.from(e.name).toABI(t),t.writeString(e.index_type),t.writeVaruint32(e.key_names.length);for(const r of e.key_names)t.writeString(r);t.writeVaruint32(e.key_types.length);for(const r of e.key_types)t.writeString(r);t.writeString(e.type)}t.writeVaruint32(this.ricardian_clauses.length);for(const e of this.ricardian_clauses)t.writeString(e.id),t.writeString(e.body);t.writeVaruint32(0),t.writeVaruint32(0),t.writeVaruint32(this.variants.length);for(const e of this.variants){t.writeString(e.name),t.writeVaruint32(e.types.length);for(const r of e.types)t.writeString(r)}}resolveType(t){const e={};return this.resolve({name:t,types:e},{id:0})}resolveAll(){const t={},e={id:0};return{types:this.types.map((r=>this.resolve({name:r.new_type_name,types:t},e))),variants:this.variants.map((r=>this.resolve({name:r.name,types:t},e))),structs:this.structs.map((r=>this.resolve({name:r.name,types:t},e)))}}resolve({name:t,types:e},r){const i=e[t];if(i)return i;const n=new ui.ResolvedType(t,++r.id);e[n.typeName]=n;const o=this.types.find((t=>t.new_type_name==n.name));if(o)return n.ref=this.resolve({name:o.type,types:e},r),n;const s=this.getStruct(n.name);if(s)return s.base&&(n.base=this.resolve({name:s.base,types:e},r)),n.fields=s.fields.map((t=>({name:t.name,type:this.resolve({name:t.type,types:e},r)}))),n;const a=this.getVariant(n.name);return a?(n.variant=a.types.map((t=>this.resolve({name:t,types:e},r))),n):n}getStruct(t){return this.structs.find((e=>e.name==t))}getVariant(t){return this.variants.find((e=>e.name==t))}getActionType(t){const e=ii.from(t).toString(),r=this.actions.find((t=>t.name.toString()===e));if(r)return r.type}equals(t){const e=ui.from(t);return this.version==e.version&&this.types.length==e.types.length&&this.structs.length==e.structs.length&&this.actions.length==e.actions.length&&this.tables.length==e.tables.length&&this.ricardian_clauses.length==e.ricardian_clauses.length&&this.variants.length==e.variants.length&&Wr({object:this}).equals(Wr({object:e}))}toJSON(){return{version:this.version,types:this.types,structs:this.structs,actions:this.actions,tables:this.tables,ricardian_clauses:this.ricardian_clauses,error_messages:[],abi_extensions:[],variants:this.variants}}}ui.abiName="abi",ui.version="eosio::abi/1.1",function(t){class e{constructor(t,e=0){let r=t;r.endsWith("$")?(r=r.slice(0,-1),this.isExtension=!0):this.isExtension=!1,r.endsWith("?")?(r=r.slice(0,-1),this.isOptional=!0):this.isOptional=!1,r.endsWith("[]")?(r=r.slice(0,-2),this.isArray=!0):this.isArray=!1,this.id=e,this.name=r}get typeName(){let t=this.name;return this.isArray&&(t+="[]"),this.isOptional&&(t+="?"),this.isExtension&&(t+="$"),t}get allFields(){let t=this;const e=[],r=new Set;do{if(!t.fields)return;if(r.has(t.name))return;for(let r=t.fields.length-1;r>=0;r--)e.unshift(t.fields[r]);r.add(t.name),t=t.base}while(void 0!==t);return e}}t.ResolvedType=e}(ui||(ui={}));class hi{constructor(t,e){this.units=t,this.symbol=e}static from(t,e){if(or(t,hi))return t;switch(typeof t){case"number":if(!e)throw new Error("Symbol is required when creating Asset from number");return this.fromFloat(t,e);case"string":return this.fromString(t);default:throw new Error("Invalid asset")}}static fromString(t){const e=("string"===typeof t?t:"").split(" ");if(2!==e.length)throw new Error("Invalid asset string");const r=e[0].replace(".",""),i=(e[0].split(".")[1]||"").length,n=hi.Symbol.fromParts(e[1],i);return new hi(yr.from(r),n)}static fromFloat(t,e){const r=hi.Symbol.from(e);return new hi(r.convertFloat(t),r)}static fromUnits(t,e){return new hi(yr.from(t),hi.Symbol.from(e))}static fromABI(t){const e=yr.fromABI(t),r=hi.Symbol.fromABI(t);return new hi(e,r)}static abiDefault(){return new this(yr.from(0),hi.Symbol.abiDefault())}equals(t){const{symbol:e,units:r}=hi.from(t);return this.symbol.value.equals(e.value)&&this.units.equals(r)}get value(){return this.symbol.convertUnits(this.units)}set value(t){this.units=this.symbol.convertFloat(t)}toABI(t){this.units.toABI(t),this.symbol.toABI(t)}toString(){const t=this.units.toString().split("");let e=!1;"-"===t[0]&&(e=!0,t.shift());const r=this.symbol.precision;while(t.length<=r)t.unshift("0");r>0&&t.splice(t.length-r,0,".");let i=t.join("");return e&&(i="-"+i),i+" "+this.symbol.name}toJSON(){return this.toString()}}hi.abiName="asset",function(t){class e{constructor(t){if(pi(t)>e.maxPrecision)throw new Error("Invalid asset symbol, precision too large");if(!e.symbolNamePattern.test(fi(t)))throw new Error("Invalid asset symbol, name must be uppercase A-Z");this.value=t}static from(t){if(or(t,e))return t;if(or(t,Qr))return new e(t);const r=t.split(",");if(2!==r.length)throw new Error("Invalid symbol string");const i=Number.parseInt(r[0]);return e.fromParts(r[1],i)}static fromParts(t,r){return new e(yi(t,r))}static fromABI(t){return new e(Qr.fromABI(t))}static abiDefault(){return this.from("4,SYS")}equals(t){return this.value.equals(e.from(t).value)}get name(){return fi(this.value)}get precision(){return pi(this.value)}get code(){return new r(Qr.from(this.value.value.clone().iushrn(8)))}toABI(t){this.value.toABI(t)}convertUnits(t){return t.value.toNumber()/Math.pow(10,this.precision)}convertFloat(t){return yr.from(t.toFixed(this.precision).replace(".",""))}toString(){return`${this.precision},${this.name}`}toJSON(){return this.toString()}}e.abiName="symbol",e.symbolNamePattern=/^[A-Z]{0,7}$/,e.maxPrecision=18,t.Symbol=e;class r{constructor(t){this.value=t}static from(t){return or(t,r)?t:("string"===typeof t&&(t=Qr.from(gi(t))),new this(Qr.from(t)))}static fromABI(t){return new r(Qr.fromABI(t))}static abiDefault(){return this.from("SYS")}equals(t){return this.value.equals(r.from(t).value)}toABI(t){this.value.toABI(t)}toString(){return mi(this.value.value.toArray("be"))}toJSON(){return this.toString()}}r.abiName="symbol_code",t.SymbolCode=r}(hi||(hi={}));class di{constructor(t,e){this.quantity=t,this.contract=e}static from(t){return or(t,di)?t:new this(hi.from(t.quantity),ii.from(t.contract))}static fromABI(t){return new di(hi.fromABI(t),ii.fromABI(t))}equals(t){return this.quantity.equals(t.quantity)&&this.contract.equals(t.contract)}toABI(t){this.quantity.toABI(t),this.contract.toABI(t)}toJSON(){return{quantity:this.quantity,contract:this.contract}}}function pi(t){return t.value.and(Qr.from(255).value).toNumber()}function fi(t){const e=t.value.toArray("be").slice(0,-1);return mi(e)}function mi(t){return t.map((t=>String.fromCharCode(t))).reverse().join("")}function yi(t,e){const r=gi(t),i=new Uint8Array(r.length+1);return i[0]=e,i.set(r,1),Qr.from(i)}function gi(t){const e=Math.min(t.length,7),r=new Uint8Array(e);for(let i=0;i<e;i++)r[i]=t.charCodeAt(i);return r}var wi;di.abiName="extended_asset",function(t){let e;(function(t){t["E_CHECKSUM"]="E_CHECKSUM",t["E_INVALID"]="E_INVALID"})(e=t.ErrorCode||(t.ErrorCode={}));class r extends Error{constructor(t,e,r={}){super(t),this.code=e,this.info=r}}r.__className="DecodingError",t.DecodingError=r;const i="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",n=new Int16Array(255).fill(-1);for(let s=0;s<58;++s)n[i.charCodeAt(s)]=s;function o(t,i){if(null==i)return d(t);const o=new Uint8Array(i);for(let s=0;s<t.length;++s){let a=n[t.charCodeAt(s)];if(a<0)throw new r("Invalid Base58 character encountered",e.E_INVALID,{char:t[s]});for(let t=0;t<i;++t){const e=58*o[t]+a;o[t]=e,a=e>>8}if(a)throw new r("Base58 value is out of range",e.E_INVALID)}return o.reverse(),new sr(o)}function a(t,i){const n=o(t,null!=i?i+4:i),s=n.array.subarray(0,-4),a=n.array.subarray(-4),c=f(s);if(!Ge(a,c))throw new r("Checksum mismatch",e.E_CHECKSUM,{actual:c,expected:a,data:s,hash:"double_sha256"});return new sr(s)}function c(t,i,n){const s=o(t,null!=i?i+4:i),a=s.array.subarray(0,-4),c=s.array.subarray(-4),l=p(a,n);if(!Ge(c,l))throw new r("Checksum mismatch",e.E_CHECKSUM,{actual:l,expected:c,data:a,hash:"ripemd160"});return new sr(a)}function l(t){t=sr.from(t);const e=[];for(const r of t.array){let t=r;for(let r=0;r<e.length;++r){const o=(n[e[r]]<<8)+t;e[r]=i.charCodeAt(o%58),t=o/58|0}while(t)e.push(i.charCodeAt(t%58)),t=t/58|0}for(const r of t.array){if(r)break;e.push("1".charCodeAt(0))}return e.reverse(),String.fromCharCode(...e)}function u(t){return t=sr.from(t),t=t.appending(f(t.array)),l(t)}function h(t,e){return t=sr.from(t),t=t.appending(p(t.array,e)),l(t)}function d(t){const i=[];for(let o=0;o<t.length;++o){let s=n[t.charCodeAt(o)];if(s<0)throw new r("Invalid Base58 character encountered",e.E_INVALID,{char:t[o]});for(let t=0;t<i.length;++t){const e=58*i[t]+s;i[t]=255&e,s=e>>8}s&&i.push(s)}for(const e of t){if("1"!==e)break;i.push(0)}return i.reverse(),sr.from(i)}function p(t,e){const r=(0,s.ripemd160)().update(t);return e&&r.update(e),new Uint8Array(r.digest().slice(0,4))}function f(t){const e=(0,s.sha256)().update(t).digest(),r=(0,s.sha256)().update(e).digest();return new Uint8Array(r.slice(0,4))}t.decode=o,t.decodeCheck=a,t.decodeRipemd160Check=c,t.encode=l,t.encodeCheck=u,t.encodeRipemd160Check=h}(wi||(wi={}));class vi{constructor(t,e){this.type=t,this.data=e}static from(t){if(or(t,vi))return t;if("object"===typeof t&&t.type&&t.compressed)return new vi(hr.from(t.type),new sr(t.compressed));if("string"!==typeof t)throw new Error("Invalid public key");if(t.startsWith("PUB_")){const e=t.split("_");if(3!==e.length)throw new Error("Invalid public key string");const r=hr.from(e[1]),i=r===hr.K1||r===hr.R1?33:void 0,n=wi.decodeRipemd160Check(e[2],i,r);return new vi(r,n)}if(t.length>=50){const e=wi.decodeRipemd160Check(t.slice(-50));return new vi(hr.K1,e)}throw new Error("Invalid public key string")}static fromABI(t){const e=hr.from(t.readByte());if(e==hr.WA){const e=t.getPosition();t.advance(33),t.advance(1),t.advance(t.readVaruint32());const r=t.getPosition()-e;t.setPosition(e);const i=sr.from(t.readArray(r));return new vi(hr.WA,i)}return new vi(e,new sr(t.readArray(33)))}equals(t){const e=vi.from(t);return this.type===e.type&&this.data.equals(e.data)}toLegacyString(t="EOS"){if(this.type!==hr.K1)throw new Error("Unable to create legacy formatted string for non-K1 key");return`${t}${wi.encodeRipemd160Check(this.data)}`}toString(){return`PUB_${this.type}_${wi.encodeRipemd160Check(this.data,this.type)}`}toABI(t){t.writeByte(hr.indexFor(this.type)),t.writeArray(this.data.array)}toJSON(){return this.toString()}}vi.abiName="public_key";const bi={};function Qi(t){let e=bi[t];if(!e)if("K1"===t)e=bi[t]=new l.ec("secp256k1");else{if("R1"!==t)throw new Error(`Unknown curve type: ${t}`);e=bi[t]=new l.ec("p256")}return e}function Bi(t,e,r){const i=Qi(r),n=t[0]-31,o=t.subarray(1,33),s=t.subarray(33),a=i.recoverPubKey(e,{r:o,s},n);return new Uint8Array(a.encodeCompressed())}function Ei(t,e,r,i){const n=Qi(i),o=t.subarray(1,33),s=t.subarray(33);return n.verify(e,{r:o,s},r)}class _i{constructor(t,e){this.type=t,this.data=e}static from(t){if(or(t,_i))return t;if("object"===typeof t&&t.r&&t.s){const e=new Uint8Array(65);let r=t.recid;const i=hr.from(t.type);return t.type!==hr.K1&&t.type!==hr.R1||(r+=31),e[0]=r,e.set(t.r,1),e.set(t.s,33),new _i(i,new sr(e))}if("string"!==typeof t)throw new Error("Invalid signature");if(t.startsWith("SIG_")){const e=t.split("_");if(3!==e.length)throw new Error("Invalid signature string");const r=hr.from(e[1]),i=r===hr.K1||r===hr.R1?65:void 0,n=wi.decodeRipemd160Check(e[2],i,r);return new _i(r,n)}throw new Error("Invalid signature string")}static fromABI(t){const e=hr.from(t.readByte());if(e===hr.WA){const e=t.getPosition();t.advance(65),t.advance(t.readVaruint32()),t.advance(t.readVaruint32());const r=t.getPosition()-e;t.setPosition(e);const i=sr.from(t.readArray(r));return new _i(hr.WA,i)}return new _i(e,new sr(t.readArray(65)))}equals(t){const e=_i.from(t);return this.type===e.type&&this.data.equals(e.data)}recoverDigest(t){t=cr.from(t);const e=Bi(this.data.array,t.array,this.type);return vi.from({compressed:e,type:this.type})}recoverMessage(t){return this.recoverDigest(cr.hash(t))}verifyDigest(t,e){return t=cr.from(t),Ei(this.data.array,t.array,e.data.array,this.type)}verifyMessage(t,e){return this.verifyDigest(cr.hash(t),e)}toString(){return`SIG_${this.type}_${wi.encodeRipemd160Check(this.data,this.type)}`}toABI(t){t.writeByte(hr.indexFor(this.type)),t.writeArray(this.data.array)}toJSON(){return this.toString()}}_i.abiName="signature";var Ui;let xi=Ui=class extends Hr{static from(t){if("string"===typeof t){const e=t.split("@");if(2!==e.length&&e[0].length>0&&e[1].length>0)throw new Error("Invalid permission level string, should be in the format <actor>@<permission>");t={actor:e[0],permission:e[1]}}return super.from(t)}equals(t){const e=Ui.from(t);return this.actor.equals(e.actor)&&this.permission.equals(e.permission)}toString(){return`${this.actor}@${this.permission}`}};var Si;Ze([Hr.field("name")],xi.prototype,"actor",void 0),Ze([Hr.field("name")],xi.prototype,"permission",void 0),xi=Ui=Ze([Hr.type("permission_level")],xi);let Fi=Si=class extends Hr{static from(t,e){const r=t.data;if(!sr.isBytes(r)){let i;if(e)i=ui.from(e).getActionType(t.name);else if(!r.constructor||void 0===r.constructor.abiName)throw new Error("Missing ABI definition when creating action with untyped action data");t={...t,data:Wr({object:r,type:i,abi:e})}}return super.from(t)}equals(t){const e=Si.from(t);return this.account.equals(e.account)&&this.name.equals(e.name)&&Xe(this.authorization,e.authorization)&&this.data.equals(e.data)}decodeData(t){if("string"===typeof t||t.abiName)return Pr({data:this.data,type:t});{const e=ui.from(t),r=e.getActionType(this.name);if(!r)throw new Error(`Action ${this.name} does not exist in provided ABI`);return Pr({data:this.data,type:r,abi:e})}}};var ki;Ze([Hr.field("name")],Fi.prototype,"account",void 0),Ze([Hr.field("name")],Fi.prototype,"name",void 0),Ze([Hr.field(xi,{array:!0})],Fi.prototype,"authorization",void 0),Ze([Hr.field("bytes")],Fi.prototype,"data",void 0),Fi=Si=Ze([Hr.type("action")],Fi);let Ni=class extends Hr{};Ze([Hr.field("uint16")],Ni.prototype,"type",void 0),Ze([Hr.field("bytes")],Ni.prototype,"data",void 0),Ni=Ze([Hr.type("transaction_extension")],Ni);let Ai=class extends Hr{static from(t){return super.from({max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,...t})}};Ze([Hr.field("time_point_sec")],Ai.prototype,"expiration",void 0),Ze([Hr.field("uint16")],Ai.prototype,"ref_block_num",void 0),Ze([Hr.field("uint32")],Ai.prototype,"ref_block_prefix",void 0),Ze([Hr.field("varuint32")],Ai.prototype,"max_net_usage_words",void 0),Ze([Hr.field("uint8")],Ai.prototype,"max_cpu_usage_ms",void 0),Ze([Hr.field("varuint32")],Ai.prototype,"delay_sec",void 0),Ai=Ze([Hr.type("transaction_header")],Ai);let Li=ki=class extends Ai{static from(t,e){const r=t=>e?Array.isArray(e)?e.filter((e=>ii.from(e.contract).equals(t))).map((({abi:t})=>t))[0]:e:void 0,i=t=>Fi.from(t,r(t.account)),n=(t.actions||[]).map(i),o=(t.context_free_actions||[]).map(i),s={transaction_extensions:[],...t,context_free_actions:o,actions:n};return super.from(s)}equals(t){const e=ki.from(t);return this.id.equals(e.id)}get id(){return cr.hash(Wr({object:this}))}signingDigest(t){const e=this.signingData(t);return cr.hash(e)}signingData(t){let e=sr.from(cr.from(t).array);return e=e.appending(Wr({object:this})),e=e.appending(new Uint8Array(32)),e}};Ze([Hr.field(Fi,{array:!0})],Li.prototype,"context_free_actions",void 0),Ze([Hr.field(Fi,{array:!0})],Li.prototype,"actions",void 0),Ze([Hr.field(Ni,{array:!0})],Li.prototype,"transaction_extensions",void 0),Li=ki=Ze([Hr.type("transaction")],Li);let Di=class extends Li{get transaction(){return Li.from({...this,signatures:void 0,context_free_data:void 0})}get id(){return this.transaction.id}static from(t){return super.from({signatures:[],context_free_data:[],...t})}};Ze([Hr.field("signature[]")],Di.prototype,"signatures",void 0),Ze([Hr.field("bytes[]")],Di.prototype,"context_free_data",void 0),Di=Ze([Hr.type("signed_transaction")],Di);let Ci=class extends Hr{static from(t){return super.from({signatures:[],packed_context_free_data:"",compression:0,...t})}static fromSigned(t){const e=Li.from(t);return this.from({signatures:t.signatures,packed_context_free_data:Wr({object:t.context_free_data,type:"bytes[]"}),packed_trx:Wr({object:e})})}getTransaction(){if(0!==Number(this.compression))throw new Error("Transaction compression not supported yet");return Pr({data:this.packed_trx,type:Li})}getSignedTransaction(){const t=this.getTransaction();return Di.from({...t,signatures:this.signatures})}};Ze([Hr.field("signature[]")],Ci.prototype,"signatures",void 0),Ze([Hr.field("uint8")],Ci.prototype,"compression",void 0),Ze([Hr.field("bytes")],Ci.prototype,"packed_context_free_data",void 0),Ze([Hr.field("bytes")],Ci.prototype,"packed_trx",void 0),Ci=Ze([Hr.type("packed_transaction")],Ci);let Ii=class extends Hr{};var Mi;Ze([Hr.field("string")],Ii.prototype,"status",void 0),Ze([Hr.field("uint32")],Ii.prototype,"cpu_usage_us",void 0),Ze([Hr.field("uint32")],Ii.prototype,"net_usage_words",void 0),Ii=Ze([Hr.type("transaction_receipt")],Ii);let Ti=class extends vr{};Ti=Ze([Gr("weight_type")],Ti);let Ri=class extends Hr{};Ze([Hr.field(vi)],Ri.prototype,"key",void 0),Ze([Hr.field(Ti)],Ri.prototype,"weight",void 0),Ri=Ze([Hr.type("key_weight")],Ri);let zi=class extends Hr{};Ze([Hr.field(xi)],zi.prototype,"permission",void 0),Ze([Hr.field(Ti)],zi.prototype,"weight",void 0),zi=Ze([Hr.type("permission_level_weight")],zi);let Pi=class extends Hr{};Ze([Hr.field(br)],Pi.prototype,"wait_sec",void 0),Ze([Hr.field(Ti)],Pi.prototype,"weight",void 0),Pi=Ze([Hr.type("wait_weight")],Pi);let Oi=Mi=class extends Hr{static from(t){if(or(t,Mi))return t;const e=super.from({keys:[],accounts:[],waits:[],...t});return e.sort(),e}get waitThreshold(){return this.waits.reduce(((t,e)=>t+e.weight.toNumber()),0)}get keyThreshold(){return this.threshold.toNumber()-this.waitThreshold}keyWeight(t){const e=this.keys.find((({key:e})=>e.equals(t)));return e?e.weight.toNumber():0}hasPermission(t,e=!1){const r=e?1:this.keyThreshold,i=this.keyWeight(t);return i>=r}sort(){this.keys.sort(((t,e)=>String(t.key).localeCompare(String(e.key)))),this.accounts.sort(((t,e)=>String(t.permission).localeCompare(String(e.permission)))),this.waits.sort(((t,e)=>String(t.wait_sec).localeCompare(String(e.wait_sec))))}};var ji;Ze([Hr.field(br)],Oi.prototype,"threshold",void 0),Ze([Hr.field(Ri,{array:!0})],Oi.prototype,"keys",void 0),Ze([Hr.field(zi,{array:!0})],Oi.prototype,"accounts",void 0),Ze([Hr.field(Pi,{array:!0})],Oi.prototype,"waits",void 0),Oi=Mi=Ze([Hr.type("authority")],Oi),function(t){function e(t){return kr(t).abi}function r(t){return JSON.stringify(t)}function i(t){const e=t=>{switch(typeof t){case"boolean":case"number":case"string":return t;case"object":{if(null===t)return t;if("function"===typeof t.toJSON)return e(t.toJSON());if(Array.isArray(t))return t.map(e);const r={};for(const i of Object.keys(t))r[i]=e(t[i]);return r}}};return e(t)}t.encode=Wr,t.decode=Pr,t.synthesize=e,t.stringify=r,t.objectify=i}(ji||(ji={}));class Ji{constructor(t,e={}){if(t=t.trim(),t.endsWith("/")&&(t=t.slice(0,-1)),this.url=t,e.fetch)this.fetch=e.fetch;else if("undefined"!==typeof window&&window.fetch)this.fetch=window.fetch.bind(window);else{if("undefined"===typeof r.g||!r.g.fetch)throw new Error("Missing fetch");this.fetch=r.g.fetch.bind(r.g)}}async call(t,e){const r=this.url+t,i=await this.fetch(r,{method:"POST",body:void 0!==e?JSON.stringify(e):void 0}),n=await i.text();let o;try{o=JSON.parse(n)}catch{}const s={};for(const[a,c]of i.headers.entries())s[a]=c;return{headers:s,status:i.status,json:o,text:n}}}let $i=class extends Hr{};Ze([Hr.field("name")],$i.prototype,"perm_name",void 0),Ze([Hr.field("name")],$i.prototype,"parent",void 0),Ze([Hr.field(Oi)],$i.prototype,"required_auth",void 0),$i=Ze([Hr.type("account_permission")],$i);let Vi=class extends Hr{};Ze([Hr.field("int64")],Vi.prototype,"used",void 0),Ze([Hr.field("int64")],Vi.prototype,"available",void 0),Ze([Hr.field("int64")],Vi.prototype,"max",void 0),Vi=Ze([Hr.type("account_resource_limit")],Vi);let qi=class extends Hr{};Ze([Hr.field("name")],qi.prototype,"owner",void 0),Ze([Hr.field("asset")],qi.prototype,"net_weight",void 0),Ze([Hr.field("asset")],qi.prototype,"cpu_weight",void 0),Ze([Hr.field("uint64")],qi.prototype,"ram_bytes",void 0),qi=Ze([Hr.type("account_total_resources")],qi);let Wi=class extends Hr{};Ze([Hr.field("name")],Wi.prototype,"from",void 0),Ze([Hr.field("name")],Wi.prototype,"to",void 0),Ze([Hr.field("asset")],Wi.prototype,"net_weight",void 0),Ze([Hr.field("asset")],Wi.prototype,"cpu_weight",void 0),Wi=Ze([Hr.type("account_self_delegated_bandwidth")],Wi);let Ki=class extends Hr{};Ze([Hr.field("name")],Ki.prototype,"owner",void 0),Ze([Hr.field("time_point")],Ki.prototype,"request_time",void 0),Ze([Hr.field("asset")],Ki.prototype,"net_amount",void 0),Ze([Hr.field("asset")],Ki.prototype,"cpu_amount",void 0),Ki=Ze([Hr.type("account_refund_request")],Ki);let Zi=class extends Hr{};Ze([Hr.field("name")],Zi.prototype,"owner",void 0),Ze([Hr.field("name")],Zi.prototype,"proxy",void 0),Ze([Hr.field("name",{array:!0})],Zi.prototype,"producers",void 0),Ze([Hr.field("int64",{optional:!0})],Zi.prototype,"staked",void 0),Ze([Hr.field("bool")],Zi.prototype,"is_proxy",void 0),Ze([Hr.field("uint32",{optional:!0})],Zi.prototype,"flags1",void 0),Ze([Hr.field("uint32")],Zi.prototype,"reserved2",void 0),Ze([Hr.field("string")],Zi.prototype,"reserved3",void 0),Zi=Ze([Hr.type("account_voter_info")],Zi);let Hi=class extends Hr{};Ze([Hr.field("time_point",{optional:!0})],Hi.prototype,"key",void 0),Ze([Hr.field("int64",{optional:!0})],Hi.prototype,"value",void 0),Ze([Hr.field("time_point",{optional:!0})],Hi.prototype,"first",void 0),Ze([Hr.field("int64",{optional:!0})],Hi.prototype,"second",void 0),Hi=Ze([Hr.type("account_rex_info_maturities")],Hi);let Gi=class extends Hr{};Ze([Hr.field("uint32")],Gi.prototype,"version",void 0),Ze([Hr.field("name")],Gi.prototype,"owner",void 0),Ze([Hr.field("asset")],Gi.prototype,"vote_stake",void 0),Ze([Hr.field("asset")],Gi.prototype,"rex_balance",void 0),Ze([Hr.field("int64")],Gi.prototype,"matured_rex",void 0),Ze([Hr.field(Hi,{array:!0})],Gi.prototype,"rex_maturities",void 0),Gi=Ze([Hr.type("account_rex_info")],Gi);let Xi=class extends Hr{getPermission(t){const e=ii.from(t),r=this.permissions.find((t=>t.perm_name.equals(e)));if(!r)throw new Error(`Unknown permission ${e} on account ${this.account_name}.`);return r}};Ze([Hr.field("name")],Xi.prototype,"account_name",void 0),Ze([Hr.field("uint32")],Xi.prototype,"head_block_num",void 0),Ze([Hr.field("time_point")],Xi.prototype,"head_block_time",void 0),Ze([Hr.field("bool")],Xi.prototype,"privileged",void 0),Ze([Hr.field("time_point")],Xi.prototype,"last_code_update",void 0),Ze([Hr.field("time_point")],Xi.prototype,"created",void 0),Ze([Hr.field("asset?")],Xi.prototype,"core_liquid_balance",void 0),Ze([Hr.field("int64")],Xi.prototype,"ram_quota",void 0),Ze([Hr.field("int64")],Xi.prototype,"net_weight",void 0),Ze([Hr.field("int64")],Xi.prototype,"cpu_weight",void 0),Ze([Hr.field(Vi)],Xi.prototype,"net_limit",void 0),Ze([Hr.field(Vi)],Xi.prototype,"cpu_limit",void 0),Ze([Hr.field("uint64")],Xi.prototype,"ram_usage",void 0),Ze([Hr.field($i,{array:!0})],Xi.prototype,"permissions",void 0),Ze([Hr.field(qi,{optional:!0})],Xi.prototype,"total_resources",void 0),Ze([Hr.field(Wi,{optional:!0})],Xi.prototype,"self_delegated_bandwidth",void 0),Ze([Hr.field(Ki,{optional:!0})],Xi.prototype,"refund_request",void 0),Ze([Hr.field(Zi,{optional:!0})],Xi.prototype,"voter_info",void 0),Ze([Hr.field(Gi,{optional:!0})],Xi.prototype,"rex_info",void 0),Xi=Ze([Hr.type("account_object")],Xi);let Yi=class extends Hr{};Ze([Hr.field("name")],Yi.prototype,"producer_name",void 0),Ze([Hr.field("public_key")],Yi.prototype,"block_signing_key",void 0),Yi=Ze([Hr.type("new_producers_entry")],Yi);let tn=class extends Hr{};Ze([Hr.field("uint32")],tn.prototype,"version",void 0),Ze([Hr.field(Yi,{array:!0})],tn.prototype,"producers",void 0),tn=Ze([Hr.type("new_producers")],tn);let en=class extends Hr{};Ze([Hr.field("uint16")],en.prototype,"type",void 0),Ze([Hr.field("bytes")],en.prototype,"data",void 0),en=Ze([Hr.type("block_extension")],en);let rn=class extends Hr{};Ze([Hr.field("uint16")],rn.prototype,"type",void 0),Ze([Hr.field("bytes")],rn.prototype,"data",void 0),rn=Ze([Hr.type("header_extension")],rn);class nn{constructor(t,e){this.id=t,this.extra=e}static from(t){let e,r;return"string"===typeof t?(e=cr.from(t),r={}):(e=cr.from(t.id),r=t),new this(e,r)}get transaction(){if(this.extra.packed_trx)return ji.decode({data:this.extra.packed_trx,type:Li})}get signatures(){if(this.extra.signatures)return this.extra.signatures.map(_i.from)}equals(t){return this.id.equals(t.id)}toJSON(){return this.id}}nn.abiName="trx_variant";let on=class extends Ii{get id(){return this.trx.id}};Ze([Hr.field(nn)],on.prototype,"trx",void 0),on=Ze([Hr.type("get_block_response_receipt")],on);let sn=class extends Hr{};Ze([Hr.field("time_point")],sn.prototype,"timestamp",void 0),Ze([Hr.field("name")],sn.prototype,"producer",void 0),Ze([Hr.field("uint16")],sn.prototype,"confirmed",void 0),Ze([Hr.field("checksum256")],sn.prototype,"previous",void 0),Ze([Hr.field("checksum256")],sn.prototype,"transaction_mroot",void 0),Ze([Hr.field("checksum256")],sn.prototype,"action_mroot",void 0),Ze([Hr.field("uint32")],sn.prototype,"schedule_version",void 0),Ze([Hr.field(tn,{optional:!0})],sn.prototype,"new_producers",void 0),Ze([Hr.field("header_extension",{optional:!0})],sn.prototype,"header_extensions",void 0),Ze([Hr.field("any",{optional:!0})],sn.prototype,"new_protocol_features",void 0),Ze([Hr.field("signature")],sn.prototype,"producer_signature",void 0),Ze([Hr.field(on,{array:!0})],sn.prototype,"transactions",void 0),Ze([Hr.field("block_extension",{optional:!0})],sn.prototype,"block_extensions",void 0),Ze([Hr.field("checksum256")],sn.prototype,"id",void 0),Ze([Hr.field("uint32")],sn.prototype,"block_num",void 0),Ze([Hr.field("uint32")],sn.prototype,"ref_block_prefix",void 0),sn=Ze([Hr.type("get_block_response")],sn);let an=class extends Hr{};Ze([Hr.field("name")],an.prototype,"producer_name",void 0),Ze([Hr.field("any")],an.prototype,"authority",void 0),an=Ze([Hr.type("active_schedule_producer_authority")],an);let cn=class extends Hr{};Ze([Hr.field("name")],cn.prototype,"producer_name",void 0),Ze([Hr.field(an)],cn.prototype,"authority",void 0),cn=Ze([Hr.type("active_schedule_producer")],cn);let ln=class extends Hr{};Ze([Hr.field("uint32")],ln.prototype,"version",void 0),Ze([Hr.field(cn,{array:!0})],ln.prototype,"producers",void 0),ln=Ze([Hr.type("active_schedule")],ln);let un=class extends Hr{};Ze([Hr.field("time_point")],un.prototype,"timestamp",void 0),Ze([Hr.field("name")],un.prototype,"producer",void 0),Ze([Hr.field("uint16")],un.prototype,"confirmed",void 0),Ze([Hr.field("checksum256")],un.prototype,"previous",void 0),Ze([Hr.field("checksum256")],un.prototype,"transaction_mroot",void 0),Ze([Hr.field("checksum256")],un.prototype,"action_mroot",void 0),Ze([Hr.field("uint32")],un.prototype,"schedule_version",void 0),Ze([Hr.field(rn,{array:!0,optional:!0})],un.prototype,"header_extensions",void 0),Ze([Hr.field("signature")],un.prototype,"producer_signature",void 0),un=Ze([Hr.type("block_state_header")],un);let hn=class extends Hr{};Ze([Hr.field("uint32")],hn.prototype,"block_num",void 0),Ze([Hr.field("uint32")],hn.prototype,"dpos_proposed_irreversible_blocknum",void 0),Ze([Hr.field("uint32")],hn.prototype,"dpos_irreversible_blocknum",void 0),Ze([Hr.field("checksum256")],hn.prototype,"id",void 0),Ze([Hr.field(un)],hn.prototype,"header",void 0),Ze([Hr.field("any")],hn.prototype,"active_schedule",void 0),Ze([Hr.field("any")],hn.prototype,"blockroot_merkle",void 0),Ze([Hr.field("any")],hn.prototype,"producer_to_last_produced",void 0),Ze([Hr.field("any")],hn.prototype,"producer_to_last_implied_irb",void 0),Ze([Hr.field("any")],hn.prototype,"valid_block_signing_authority",void 0),Ze([Hr.field("any")],hn.prototype,"confirm_count",void 0),Ze([Hr.field("any")],hn.prototype,"pending_schedule",void 0),Ze([Hr.field("any")],hn.prototype,"activated_protocol_features",void 0),Ze([Hr.field("any")],hn.prototype,"additional_signatures",void 0),hn=Ze([Hr.type("get_block_header_state_response")],hn);let dn=class extends Hr{getTransactionHeader(t=120){const e=ci.fromMilliseconds(this.head_block_time.toMilliseconds()+1e3*t),r=this.last_irreversible_block_id,i=r.array.subarray(8,12),n=new Uint32Array(i.buffer,i.byteOffset,1)[0];return Ai.from({expiration:e,ref_block_num:65535&Number(this.last_irreversible_block_num),ref_block_prefix:n})}};Ze([Hr.field("string")],dn.prototype,"server_version",void 0),Ze([Hr.field("checksum256")],dn.prototype,"chain_id",void 0),Ze([Hr.field("uint32")],dn.prototype,"head_block_num",void 0),Ze([Hr.field("uint32")],dn.prototype,"last_irreversible_block_num",void 0),Ze([Hr.field("checksum256")],dn.prototype,"last_irreversible_block_id",void 0),Ze([Hr.field("checksum256")],dn.prototype,"head_block_id",void 0),Ze([Hr.field("time_point")],dn.prototype,"head_block_time",void 0),Ze([Hr.field("name")],dn.prototype,"head_block_producer",void 0),Ze([Hr.field("uint64")],dn.prototype,"virtual_block_cpu_limit",void 0),Ze([Hr.field("uint64")],dn.prototype,"virtual_block_net_limit",void 0),Ze([Hr.field("uint64")],dn.prototype,"block_cpu_limit",void 0),Ze([Hr.field("uint64")],dn.prototype,"block_net_limit",void 0),Ze([Hr.field("string?")],dn.prototype,"server_version_string",void 0),Ze([Hr.field("uint32?")],dn.prototype,"fork_db_head_block_num",void 0),Ze([Hr.field("checksum256?")],dn.prototype,"fork_db_head_block_id",void 0),dn=Ze([Hr.type("get_info_response")],dn);let pn=class extends Hr{};Ze([Hr.field("name")],pn.prototype,"code",void 0),Ze([Hr.field("name")],pn.prototype,"scope",void 0),Ze([Hr.field("name")],pn.prototype,"table",void 0),Ze([Hr.field("name")],pn.prototype,"payer",void 0),Ze([Hr.field("uint32")],pn.prototype,"count",void 0),pn=Ze([Hr.type("get_table_by_scope_response_row")],pn);let fn=class extends Hr{};Ze([Hr.field(pn,{array:!0})],fn.prototype,"rows",void 0),Ze([Hr.field("string")],fn.prototype,"more",void 0),fn=Ze([Hr.type("get_table_by_scope_response")],fn);let mn=class extends Hr{};Ze([Hr.field(Qr)],mn.prototype,"global_action_seq",void 0),Ze([Hr.field(yr)],mn.prototype,"account_action_seq",void 0),Ze([Hr.field(br)],mn.prototype,"block_num",void 0),Ze([Hr.field(li)],mn.prototype,"block_time",void 0),Ze([Hr.field("any")],mn.prototype,"action_trace",void 0),Ze([Hr.field("boolean?")],mn.prototype,"irrevirsible",void 0),mn=Ze([Hr.type("ordered_action_result")],mn);let yn=class extends Hr{};Ze([Hr.field(mn,{array:!0})],yn.prototype,"actions",void 0),Ze([Hr.field(mr)],yn.prototype,"last_irreversible_block",void 0),Ze([Hr.field(mr)],yn.prototype,"head_block_num",void 0),Ze([Hr.field("boolean?")],yn.prototype,"time_limit_exceeded_error",void 0),yn=Ze([Hr.type("get_actions_response")],yn);let gn=class extends Hr{};gn=Ze([Hr.type("transaction_trace")],gn);let wn=class extends Hr{};Ze([Hr.field("any")],wn.prototype,"actions",void 0),Ze([Hr.field("any")],wn.prototype,"context_free_actions",void 0),Ze([Hr.field("any")],wn.prototype,"context_free_data",void 0),Ze([Hr.field("number")],wn.prototype,"delay_sec",void 0),Ze([Hr.field("string")],wn.prototype,"expiration",void 0),Ze([Hr.field("number")],wn.prototype,"max_cpu_usage_ms",void 0),Ze([Hr.field("number")],wn.prototype,"max_net_usage_words",void 0),Ze([Hr.field("number")],wn.prototype,"ref_block_num",void 0),Ze([Hr.field("number")],wn.prototype,"ref_block_prefix",void 0),Ze([Hr.field("string",{array:!0})],wn.prototype,"signatures",void 0),wn=Ze([Hr.type("trx")],wn);let vn=class extends Hr{};Ze([Hr.field(Ii)],vn.prototype,"receipt",void 0),Ze([Hr.field("trx")],vn.prototype,"trx",void 0),vn=Ze([Hr.type("transaction_info")],vn);let bn=class extends Hr{};Ze([Hr.field(cr)],bn.prototype,"id",void 0),Ze([Hr.field(br)],bn.prototype,"block_num",void 0),Ze([Hr.field(li)],bn.prototype,"block_time",void 0),Ze([Hr.field(br)],bn.prototype,"last_irreversible_block",void 0),Ze([Hr.field("any?")],bn.prototype,"traces",void 0),Ze([Hr.field("any")],bn.prototype,"trx",void 0),bn=Ze([Hr.type("get_transaction_response")],bn);let Qn=class extends Hr{};Ze([Hr.field("name",{array:!0})],Qn.prototype,"account_names",void 0),Qn=Ze([Hr.type("get_key_accounts_response")],Qn);let Bn=class extends Hr{};Ze([Hr.field("name",{array:!0})],Bn.prototype,"controlled_accounts",void 0),Bn=Ze([Hr.type("get_controlled_accounts_response")],Bn);let En=class extends Hr{};Ze([Hr.field("string")],En.prototype,"state",void 0),Ze([Hr.field("uint32")],En.prototype,"head_number",void 0),Ze([Hr.field("checksum256")],En.prototype,"head_id",void 0),Ze([Hr.field("time_point")],En.prototype,"head_timestamp",void 0),Ze([Hr.field("uint32")],En.prototype,"irreversible_number",void 0),Ze([Hr.field("checksum256")],En.prototype,"irreversible_id",void 0),Ze([Hr.field("time_point")],En.prototype,"irreversible_timestamp",void 0),Ze([Hr.field("checksum256")],En.prototype,"earliest_tracked_block_id",void 0),Ze([Hr.field("uint32")],En.prototype,"earliest_tracked_block_number",void 0),En=Ze([Hr.type("get_transaction_status_response")],En);class _n{constructor(t){this.client=t}async get_abi(t){return this.client.call({path:"/v1/chain/get_abi",params:{account_name:ii.from(t)}})}async get_account(t){return this.client.call({path:"/v1/chain/get_account",params:{account_name:ii.from(t)},responseType:Xi})}async get_block(t){return this.client.call({path:"/v1/chain/get_block",params:{block_num_or_id:t},responseType:sn})}async get_block_header_state(t){return this.client.call({path:"/v1/chain/get_block_header_state",params:{block_num_or_id:t},responseType:hn})}async get_currency_balance(t,e,r){const i={account:ii.from(e),code:ii.from(t)};return r&&(i.symbol=r),this.client.call({path:"/v1/chain/get_currency_balance",params:i,responseType:"asset[]"})}async get_info(){return this.client.call({path:"/v1/chain/get_info",responseType:dn})}async compute_transaction(t){return or(t,Ci)||(t=Ci.fromSigned(Di.from(t))),this.client.call({path:"/v1/chain/compute_transaction",params:{transaction:t}})}async push_transaction(t){return or(t,Ci)||(t=Ci.fromSigned(Di.from(t))),this.client.call({path:"/v1/chain/push_transaction",params:t})}async send_transaction(t){return or(t,Ci)||(t=Ci.fromSigned(Di.from(t))),this.client.call({path:"/v1/chain/send_transaction",params:t})}async send_transaction2(t,e){return or(t,Ci)||(t=Ci.fromSigned(Di.from(t))),this.client.call({path:"/v1/chain/send_transaction2",params:{return_failure_trace:!0,retry_trx:!1,retry_trx_num_blocks:0,transaction:t,...e}})}async get_table_rows(t){const e=t.type;let r=t.key_type;const i=t.lower_bound||t.upper_bound;!r&&i&&(or(i,Qr)?r="i64":or(i,Br)?r="i128":or(i,cr)?r="sha256":or(i,ur)&&(r="ripemd160")),r||(r="name");let n=t.json;void 0===n&&(n=void 0===e);let o=t.upper_bound;o&&"string"!==typeof o&&(o=String(o));let s=t.lower_bound;s&&"string"!==typeof s&&(s=String(s));let a=t.scope;"undefined"===typeof a?a=String(ii.from(t.code)):"string"!==typeof a&&(a=String(a));let c,{rows:l,more:u,next_key:h}=await this.client.call({path:"/v1/chain/get_table_rows",params:{...t,code:ii.from(t.code),table:ii.from(t.table),limit:void 0!==t.limit?br.from(t.limit):void 0,scope:a,key_type:r,json:n,upper_bound:o,lower_bound:s}});if(t.show_payer&&(c=[],l=l.map((({data:t,payer:e})=>(c.push(ii.from(e)),t)))),e&&(l=n?l.map((t=>"string"===typeof t&&sr.isBytes(t)?ji.decode({data:sr.from(t),type:e}):ji.decode({object:t,type:e}))):l.map((t=>sr.from(t))).map((t=>ji.decode({data:t,type:e})))),h&&h.length>0){let t;switch(r){case"i64":t=Qr;break;case"i128":t=Br;break;case"name":t=ii;break;case"float64":t=ei;break;case"float128":t=ri;break;case"sha256":t=cr;break;case"ripemd160":t=ur;break;default:throw new Error(`Unsupported key type: ${r}`)}h=t===ii?ii.from(ji.decode({object:h,type:Qr})):ji.decode({object:h,type:t})}else h=void 0;return{rows:l,more:u,next_key:h,ram_payers:c}}async get_table_by_scope(t){return this.client.call({path:"/v1/chain/get_table_by_scope",params:t,responseType:fn})}async get_transaction_status(t){return this.client.call({path:"/v1/chain/get_transaction_status",params:{id:cr.from(t)},responseType:En})}}class Un{constructor(t){this.client=t}async get_actions(t,e,r){return this.client.call({path:"/v1/history/get_actions",params:{account_name:ii.from(t),pos:mr.from(e),offset:mr.from(r)},responseType:yn})}async get_transaction(t,e={}){return this.client.call({path:"/v1/history/get_transaction",params:{id:cr.from(t),block_num_hint:e.blockNumHint&&br.from(e.blockNumHint),traces:!0!==e.excludeTraces&&void 0},responseType:bn})}async get_key_accounts(t){return this.client.call({path:"/v1/history/get_key_accounts",params:{public_key:vi.from(t)},responseType:Qn})}async get_controlled_accounts(t){return this.client.call({path:"/v1/history/get_controlled_accounts",params:{controlling_account:ii.from(t)},responseType:Bn})}}class xn extends Error{constructor(t,e){let r;r=e.json&&e.json.error?`${xn.formatError(e.json.error)} at ${t}`:`HTTP ${e.status} at ${t}`,super(r),this.path=t,this.response=e}static formatError(t){return"unspecified"===t.what&&t.details[0].file&&"http_plugin.cpp"===t.details[0].file&&"unknown key"===t.details[0].message.slice(0,11)?"Account not found":"unspecified"===t.what&&t.details&&t.details.length>0?t.details[0].message:t.what&&t.what.length>0?t.what:"Unknown API error"}get error(){const{json:t}=this.response;return t?t.error:void 0}get name(){const{error:t}=this;return t?t.name:"unspecified"}get code(){const{error:t}=this;return t?t.code:0}get details(){const{error:t}=this;return t?t.details:[]}}xn.__className="APIError";class Sn{constructor(t){if(this.v1={chain:new _n(this),history:new Un(this)},t.provider)this.provider=t.provider;else{if(!t.url)throw new Error("Missing url or provider");this.provider=new Ji(t.url,t)}}async call(t){const e=await this.provider.call(t.path,t.params),{json:r}=e;if(2!==Math.floor(e.status/100)||r&&"object"===typeof r.error)throw new xn(t.path,e);return t.responseType?Pr({type:t.responseType,object:e.json}):e.json||e.text}}Sn.__className="APIClient";
/**
 * EOSIO Signing Request v4.2.7
 * https://github.com/ProtonProtocol/proton-signing-request
 *
 * @license
 * Copyright © 2021 Greymass Inc.
 * 
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the “Software”), to deal in the Software without
 * restriction, including without limitation the rights to use,
 * copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following
 * conditions:
 * 
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR
 * INTENDED FOR USE IN THE DESIGN, CONSTRUCTION, OPERATION OR
 * MAINTENANCE OF ANY MILITARY FACILITY.
 */
function Fn(t,e,r,i){var n,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,r,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(o<3?n(s):o>3?n(e,r,s):n(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s}function kn(t,e,r,i){function n(t){return t instanceof r?t:new r((function(e){e(t)}))}return new(r||(r=Promise))((function(r,o){function s(t){try{c(i.next(t))}catch(e){o(e)}}function a(t){try{c(i["throw"](t))}catch(e){o(e)}}function c(t){t.done?r(t.value):n(t.value).then(s,a)}c((i=i.apply(t,e||[])).next())}))}const Nn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",An=new Uint8Array(256);for(let tu=0;tu<62;tu++)An[Nn.charCodeAt(tu)]=tu;function Ln(t,e=!0){const r=t.byteLength,i=r%3,n=r-i,o=Nn+(e?"-_":"+/"),s=[];let a,c,l,u,h;for(let d=0;d<n;d+=3)h=t[d]<<16|t[d+1]<<8|t[d+2],a=(16515072&h)>>18,c=(258048&h)>>12,l=(4032&h)>>6,u=63&h,s.push(o[a]+o[c]+o[l]+o[u]);return 1===i?(h=t[n],a=(252&h)>>2,c=(3&h)<<4,s.push(o[a]+o[c])):2===i&&(h=t[n]<<8|t[n+1],a=(64512&h)>>10,c=(1008&h)>>4,l=(15&h)<<2,s.push(o[a]+o[c]+o[l])),s.join("")}function Dn(t){const e=.75*t.length,r=new Uint8Array(e);let i,n,o,s,a=0;for(let c=0;c<t.length;c+=4)i=An[t.charCodeAt(c)],n=An[t.charCodeAt(c+1)],o=An[t.charCodeAt(c+2)],s=An[t.charCodeAt(c+3)],r[a++]=i<<2|n>>4,r[a++]=(15&n)<<4|o>>2,r[a++]=(3&o)<<6|63&s;return r}An[43]=An[45]=62,An[47]=An[95]=63;var Cn,In=Object.freeze({__proto__:null,encode:Ln,decode:Dn});(function(t){t[t["UNKNOWN"]=0]="UNKNOWN",t[t["EOS"]=1]="EOS",t[t["TELOS"]=2]="TELOS",t[t["JUNGLE"]=3]="JUNGLE",t[t["KYLIN"]=4]="KYLIN",t[t["WORBLI"]=5]="WORBLI",t[t["BOS"]=6]="BOS",t[t["MEETONE"]=7]="MEETONE",t[t["INSIGHTS"]=8]="INSIGHTS",t[t["BEOS"]=9]="BEOS",t[t["WAX"]=10]="WAX",t[t["PROTON"]=11]="PROTON",t[t["FIO"]=12]="FIO",t[t["PROTON_TEST"]=13]="PROTON_TEST"})(Cn||(Cn={}));let Mn=class extends cr{static from(t){if(or(t,this))return t;if("number"===typeof t&&(t=zn.get(t),!t))throw new Error("Unknown chain id alias");return super.from(t)}get chainVariant(){return this.chainName,Rn.from(this)}get chainName(){const t=this.hexString;for(const[e,r]of zn)if(r===t)return e;return Cn.UNKNOWN}};Mn=Fn([Gr("chain_id")],Mn);let Tn=class extends wr{};Tn=Fn([Gr("chain_alias")],Tn);let Rn=class extends Xr{get chainId(){return or(this.value,Mn)?this.value:Mn.from(Number(this.value.value))}};Rn=Fn([Xr.type("variant_id",[Tn,Mn])],Rn);const zn=new Map([[Cn.EOS,"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"],[Cn.TELOS,"4667b205c6838ef70ff7988f6e8257e8be0e1284a2f59699054a018f743b1d11"],[Cn.JUNGLE,"e70aaab8997e1dfce58fbfac80cbbb8fecec7b99cf982a9444273cbc64c41473"],[Cn.KYLIN,"5fff1dae8dc8e2fc4d5b23b2c7665c97f9e9d8edf2b6485a86ba311c25639191"],[Cn.WORBLI,"73647cde120091e0a4b85bced2f3cfdb3041e266cbbe95cee59b73235a1b3b6f"],[Cn.BOS,"d5a3d18fbb3c084e3b1f3fa98c21014b5f3db536cc15d08f9f6479517c6a3d86"],[Cn.MEETONE,"cfe6486a83bad4962f232d48003b1824ab5665c36778141034d75e57b956e422"],[Cn.INSIGHTS,"b042025541e25a472bffde2d62edd457b7e70cee943412b1ea0f044f88591664"],[Cn.BEOS,"b912d19a6abd2b1b05611ae5be473355d64d95aeff0c09bedc8c166cd6468fe4"],[Cn.WAX,"1064487b3cd1a897ce03ae5b6a865651747e2e152090f99c1d19d44e01aea5a4"],[Cn.PROTON,"384da888112027f0321850a169f737c33e53b388aad48b5adace4bab97f437e0"],[Cn.FIO,"21dcae42c0182200e93f954a074011f9048a7624c6fe81d3c9541a614a88bd1c"],[Cn.PROTON_TEST,"71ee83bcf52142d61019d95f9cc5427ba6a0d7ff8accd9e2088ae2abeaf3d3dd"]]);var Pn;let On=class extends ii{};On=Fn([Gr("account_name")],On);let jn=class extends ii{};jn=Fn([Gr("permission_name")],jn);let Jn=class extends Hr{};Fn([Hr.field(xi,{optional:!0})],Jn.prototype,"permission",void 0),Jn=Fn([Hr.type("identity")],Jn);let $n=class extends Hr{};Fn([Hr.field(xi,{optional:!0})],$n.prototype,"permission",void 0),$n=Fn([Hr.type("identity")],$n);let Vn=class extends Xr{};Vn=Fn([Xr.type("variant_req",[Fi,{type:Fi,array:!0},Li,Jn])],Vn);let qn=class extends Xr{};qn=Fn([Xr.type("variant_req",[Fi,{type:Fi,array:!0},Li,$n])],qn);let Wn=Pn=class extends wr{get broadcast(){return 0!==(Number(this)&Pn.broadcast)}set broadcast(t){this.setFlag(Pn.broadcast,t)}get background(){return 0!==(Number(this)&Pn.background)}set background(t){this.setFlag(Pn.background,t)}setFlag(t,e){this.value=e?wr.from(Number(this)|t).value:wr.from(Number(this)&~t).value}};Wn.broadcast=1,Wn.background=2,Wn=Pn=Fn([Gr("request_flags")],Wn);let Kn=class extends Hr{};Fn([Hr.field("string")],Kn.prototype,"key",void 0),Fn([Hr.field("bytes")],Kn.prototype,"value",void 0),Kn=Fn([Hr.type("info_pair")],Kn);let Zn=class extends Hr{};Fn([Hr.field(Rn)],Zn.prototype,"chain_id",void 0),Fn([Hr.field(Vn)],Zn.prototype,"req",void 0),Fn([Hr.field(Wn)],Zn.prototype,"flags",void 0),Fn([Hr.field("string")],Zn.prototype,"callback",void 0),Fn([Hr.field(Kn,{array:!0})],Zn.prototype,"info",void 0),Zn=Fn([Hr.type("signing_request")],Zn);let Hn=class extends Hr{};Fn([Hr.field(Rn)],Hn.prototype,"chain_id",void 0),Fn([Hr.field(qn)],Hn.prototype,"req",void 0),Fn([Hr.field(Wn)],Hn.prototype,"flags",void 0),Fn([Hr.field("string")],Hn.prototype,"callback",void 0),Fn([Hr.field(Kn,{array:!0})],Hn.prototype,"info",void 0),Hn=Fn([Hr.type("signing_request")],Hn);let Gn=class extends Hr{};var Xn;Fn([Hr.field("name")],Gn.prototype,"signer",void 0),Fn([Hr.field("signature")],Gn.prototype,"signature",void 0),Gn=Fn([Hr.type("request_signature")],Gn);let Yn=Xn=class extends Hr{static from(t){return or(t,Xn)?t:"string"===typeof t?Xn.fromString(t):super.from(t)}static fromString(t){const e=t.split(" ");if(2!==e.length||"EOSIO"!==e[0])throw new Error("Invalid IdentityProof string");const r=Dn(e[1]);return ji.decode({data:r,type:Xn})}static fromPayload(t,e={scheme:to}){const r=no.from(t.req,e);if(!(r.version>=3&&r.isIdentity()))throw new Error("Not an identity request");return this.from({chainId:t.cid||r.getChainId(),expiration:t.ex,signer:{actor:t.sa,permission:t.sp},signature:t.sig})}get transaction(){const t=Fi.from({account:"",name:"identity",authorization:[this.signer],data:$n.from({permission:this.signer})});return Li.from({ref_block_num:0,ref_block_prefix:0,expiration:this.expiration,actions:[t]})}recover(){return this.signature.recoverDigest(this.transaction.signingDigest(this.chainId))}verify(t,e){const r=ci.from(e||new Date).toMilliseconds();return r<this.expiration.toMilliseconds()&&Oi.from(t).hasPermission(this.recover())}toString(){const t=ji.encode({object:this});return`EOSIO ${Ln(t.array,!1)}`}};Fn([Hr.field(Mn)],Yn.prototype,"chainId",void 0),Fn([Hr.field(ci)],Yn.prototype,"expiration",void 0),Fn([Hr.field(xi)],Yn.prototype,"signer",void 0),Fn([Hr.field(_i)],Yn.prototype,"signature",void 0),Yn=Xn=Fn([Hr.type("identity_proof")],Yn);const to="esr",eo=ii.from("............1"),ro=ii.from("............2"),io=xi.from({actor:eo,permission:ro});class no{constructor(t,e,r,i,n,o){if(this.scheme=to,e.flags.broadcast&&"identity"===e.req.variantName)throw new Error("Invalid request (identity request cannot be broadcast)");this.version=t,this.data=e,this.zlib=i,this.abiProvider=n,this.signature=o,this.scheme=r||this.scheme}static identityAbi(t){const e=ji.synthesize(this.identityType(t));return e.actions=[{name:"identity",type:"identity",ricardian_contract:""}],e}static identityType(t){return 2===t?Jn:$n}static storageType(t){return 2===t?Zn:Hn}static create(t,e={scheme:to}){return kn(this,void 0,void 0,(function*(){let r;r=t.action?[t.action]:t.actions?t.actions:t.transaction&&t.transaction.actions||[];const i=r.filter((t=>!sr.isBytes(t.data)&&void 0===t.data.constructor.abiName)).map((t=>ii.from(t.account))),n={};if(i.length>0){const t=e.abiProvider;if(!t)throw new Error("Missing abi provider");const r=yield Promise.all(i.map((e=>t.getAbi(e))));for(const[e,o]of r.entries())n[i[e].toString()]=o}return this.createSync(t,e,n)}))}static createSync(t,e={scheme:to},r={}){let i=2;const n={},o=t=>so(t,r);if(void 0!==t.identity)n.req=["identity",this.identityType(i).from(t.identity)];else if(!t.action||t.actions||t.transaction)if(!t.actions||t.action||t.transaction){if(!t.transaction||t.action||t.actions)throw new TypeError("Invalid arguments: Must have exactly one of action, actions or transaction");{const e=t.transaction;void 0===e.expiration&&(e.expiration="1970-01-01T00:00:00.000"),void 0===e.ref_block_num&&(e.ref_block_num=0),void 0===e.ref_block_prefix&&(e.ref_block_prefix=0),void 0===e.context_free_actions&&(e.context_free_actions=[]),void 0===e.transaction_extensions&&(e.transaction_extensions=[]),void 0===e.delay_sec&&(e.delay_sec=0),void 0===e.max_cpu_usage_ms&&(e.max_cpu_usage_ms=0),void 0===e.max_net_usage_words&&(e.max_net_usage_words=0),void 0===e.actions&&(e.actions=[]),void 0===e.context_free_actions&&(e.context_free_actions=[]),e.actions=e.actions.map(o),n.req=["transaction",e]}}else 1===t.actions.length?n.req=["action",o(t.actions[0])]:n.req=["action[]",t.actions.map(o)];else n.req=["action",o(t.action)];null===t.chainId?n.chain_id=Rn.from(["chain_alias",0]):n.chain_id=Mn.from(t.chainId||Cn.EOS).chainVariant;const s=Wn.from(0);let a="";if(s.broadcast=void 0!==t.broadcast?t.broadcast:"identity"!==n.req[0],"string"===typeof t.callback?a=t.callback:"object"===typeof t.callback&&(a=t.callback.url,s.background=t.callback.background||!1),n.flags=s,n.callback=a,n.info=[],"object"===typeof t.info)for(const l in t.info){const e=Object.prototype.hasOwnProperty.call(t.info,l);if(e){let e=t.info[l];"string"===typeof e?e=sr.from(e,"utf8"):e instanceof sr||(e=ji.encode({object:e})),n.info.push({key:l,value:e})}}if(t.chainIds&&null===t.chainId){const e=t.chainIds.map((t=>Mn.from(t).chainVariant));n.info.push({key:"chain_ids",value:ji.encode({object:e,type:{type:Rn,array:!0}})})}const c=new no(i,this.storageType(i).from(n),e.scheme,e.zlib,e.abiProvider);return e.signatureProvider&&c.sign(e.signatureProvider),c}static identity(t,e={scheme:to}){let r={actor:t.account||eo,permission:t.permission||ro};return r.actor===eo&&r.permission===ro&&(r=void 0),this.createSync(Object.assign(Object.assign({},t),{identity:{permission:r},broadcast:!1}),e)}static fromTransaction(t,e,r={scheme:to}){const i=Mn.from(t);e=sr.from(e);const n=new Zr;return n.writeByte(2),n.writeArray(ji.encode({object:i.chainVariant}).array),n.writeByte(2),n.writeArray(sr.from(e).array),n.writeByte(Wn.broadcast),n.writeByte(0),n.writeByte(0),no.fromData(n.getData(),r)}static from(t,e={scheme:to}){if("string"!==typeof t)throw new Error("Invalid request uri");const[r,i]=t.split(":");if(r!==(e.scheme||to)&&r!==`web+${e.scheme||to}`)throw new Error("Invalid scheme");const n=Dn(i.startsWith("//")?i.slice(2):i);return no.fromData(n,e)}static fromData(t,e={scheme:to}){t=sr.from(t);const r=t.array[0],i=-129&r;if(2!==i&&3!==i)throw new Error(`Unsupported protocol version ${i}`);let n=t.droppingFirst(1);if(0!==(128&r)){if(!e.zlib)throw new Error("Compressed URI needs zlib");n=sr.from(e.zlib.inflateRaw(n.array))}const o=new Vr(n.array),s=ji.decode({data:o,type:this.storageType(i)});let a;return o.canRead()&&(a=ji.decode({data:o,type:Gn})),new no(i,s,e.scheme,e.zlib,e.abiProvider,a)}sign(t){const e=this.getSignatureDigest();this.signature=Gn.from(t.sign(e))}getSignatureDigest(){const t=[this.version,114,101,113,117,101,115,116];return cr.hash(sr.from(t).appending(this.getData()))}setSignature(t,e){this.signature=Gn.from({signer:t,signature:e})}setCallback(t,e){this.data.callback=t,this.data.flags.background=e}setBroadcast(t){this.data.flags.broadcast=t}encode(t,e){const r=void 0!==t?t:void 0!==this.zlib;if(r&&void 0===this.zlib)throw new Error("Need zlib to compress");let i=this.version;const n=this.getData(),o=this.getSignatureData();let s=new Uint8Array(n.byteLength+o.byteLength);if(s.set(n,0),s.set(o,n.byteLength),r){const t=this.zlib.deflateRaw(s);s.byteLength>t.byteLength&&(i|=128,s=t)}const a=new Uint8Array(1+s.byteLength);a[0]=i,a.set(s,1);let c=`${this.scheme}:`;return!1!==e&&(c+="//"),c+Ln(a)}getData(){return ji.encode({object:this.data}).array}getSignatureData(){return this.signature?ji.encode({object:this.signature}).array:new Uint8Array(0)}getRequiredAbis(){return this.getRawActions().filter((t=>!ao(t))).map((t=>t.account)).filter(((t,e,r)=>r.indexOf(t)===e))}requiresTapos(){const t=this.getRawTransaction();return!this.isIdentity()&&!co(t)}fetchAbis(t){return kn(this,void 0,void 0,(function*(){const e=this.getRequiredAbis();if(e.length>0){const r=t||this.abiProvider;if(!r)throw new Error("Missing ABI provider");const i=new Map;return yield Promise.all(e.map((t=>kn(this,void 0,void 0,(function*(){i.set(t.toString(),ui.from(yield r.getAbi(t)))}))))),i}return new Map}))}resolveActions(t,e){return this.getRawActions().map((r=>{let i;if(ao(r))i=this.constructor.identityAbi(this.version);else{const e=t.get(r.account.toString());if(!e)throw new Error(`Missing ABI definition for ${r.account}`);i=ui.from(e)}const n=i.getActionType(r.name);if(!n)throw new Error(`Missing type for action ${r.account}:${r.name} in ABI`);let o=r.decodeData(i),s=r.authorization;if(e){const t=xi.from(e),r=e=>{if(e instanceof ii)return e.equals(eo)?t.actor:e.equals(ro)?t.permission:e;if(Array.isArray(e))return e.map(r);if("object"===typeof e&&null!==e){for(const t of Object.keys(e))e[t]=r(e[t]);return e}return e};o=r(o),s=s.map((e=>{let{actor:r,permission:i}=e;return r.equals(eo)&&(r=t.actor),i.equals(ro)&&(i=t.permission),i.equals(eo)&&(i=t.permission),xi.from({actor:r,permission:i})}))}return Object.assign(Object.assign({},r),{authorization:s,data:o})}))}resolveTransaction(t,e,r={}){const i=this.getRawTransaction();if(this.isIdentity()||co(i))this.isIdentity()&&this.version>2&&(i.expiration=r.expiration?ci.from(r.expiration):lo(r.timestamp,r.expire_seconds));else if(void 0!==r.expiration&&void 0!==r.ref_block_num&&void 0!==r.ref_block_prefix)i.expiration=ci.from(r.expiration),i.ref_block_num=vr.from(r.ref_block_num),i.ref_block_prefix=br.from(r.ref_block_prefix);else{if(void 0===r.block_num||void 0===r.ref_block_prefix||void 0===r.timestamp)throw new Error("Invalid transaction context, need either a reference block or explicit TaPoS values");i.expiration=lo(r.timestamp,r.expire_seconds),i.ref_block_num=vr.from(r.block_num),i.ref_block_prefix=br.from(r.ref_block_prefix)}const n=this.resolveActions(t,e),o=i.context_free_actions;return Object.assign(Object.assign({},i),{context_free_actions:o,actions:n})}resolve(t,e,r={}){const i=this.resolveTransaction(t,e,r),n=i.actions.map((e=>{let r;if(r=ao(e)?this.constructor.identityAbi(this.version):t.get(e.account.toString()),!r)throw new Error(`Missing ABI definition for ${e.account}`);const i=r.getActionType(e.name),n=ji.encode({object:e.data,type:i,abi:r});return Fi.from(Object.assign(Object.assign({},e),{data:n}))})),o=Li.from(Object.assign(Object.assign({},i),{actions:n}));let s;if(this.isMultiChain()){if(!r.chainId)throw new Error("Missing chosen chain ID for multi-chain request");s=Mn.from(r.chainId);const t=this.getChainIds();if(t&&!t.some((t=>s.equals(t))))throw new Error("Trying to resolve for chain ID not defined in request")}else s=this.getChainId();return new oo(this,xi.from(e),o,i,s)}getScheme(){return this.scheme}getChainId(){return this.data.chain_id.chainId}getChainIds(){if(!this.isMultiChain())return null;const t=this.getInfoKey("chain_ids",{type:Rn,array:!0});return t?t.map((t=>t.chainId)):null}setChainIds(t){const e=t.map((t=>Mn.from(t).chainVariant));this.setInfoKey("chain_ids",e,{type:Rn,array:!0})}isMultiChain(){return 0===this.data.chain_id.variantIdx&&this.data.chain_id.value.equals(Cn.UNKNOWN)}getRawActions(){const t=this.data.req;switch(t.variantName){case"action":return[t.value];case"action[]":return t.value;case"identity":if(2===this.version){const e=t.value;let r="0101000000000000000200000000000000",i=[io];return e.permission&&(r=ji.encode({object:e}),i=[e.permission]),[Fi.from({account:"",name:"identity",authorization:i,data:r})]}{let{permission:e}=t.value;e||(e=io);const r=ji.encode({object:{permission:e},type:$n});return[Fi.from({account:"",name:"identity",authorization:[e],data:r})]}case"transaction":return t.value.actions;default:throw new Error("Invalid signing request data")}}getRawTransaction(){const t=this.data.req;switch(t.variantName){case"transaction":return Li.from(Object.assign({},t.value));case"action":case"action[]":case"identity":return Li.from({actions:this.getRawActions(),context_free_actions:[],transaction_extensions:[],expiration:"1970-01-01T00:00:00.000",ref_block_num:0,ref_block_prefix:0,max_cpu_usage_ms:0,max_net_usage_words:0,delay_sec:0});default:throw new Error("Invalid signing request data")}}isIdentity(){return"identity"===this.data.req.variantName}shouldBroadcast(){return!this.isIdentity()&&this.data.flags.broadcast}getIdentity(){if(!this.isIdentity())return null;const t=this.data.req.value;return t.permission&&!t.permission.actor.equals(eo)?t.permission.actor:null}getIdentityPermission(){if(!this.isIdentity())return null;const t=this.data.req.value;return t.permission&&!t.permission.permission.equals(ro)?t.permission.permission:null}getRawInfo(){const t={};for(const{key:e,value:r}of this.data.info)t[e]=r;return t}getRawInfoKey(t){const e=this.data.info.find((e=>e.key===t));if(e)return e.value}setRawInfoKey(t,e){let r=this.data.info.find((e=>e.key===t));r?r.value=sr.from(e):(r=Kn.from({key:t,value:e}),this.data.info.push(r))}setInfoKey(t,e,r){let i;i="string"!==typeof e||r?ji.encode({object:e,type:r}):sr.from(e,"utf8"),this.setRawInfoKey(t,i)}getInfoKey(t,e){const r=this.getRawInfoKey(t);if(r)return e?ji.decode({data:r,type:e}):r.utf8String}clone(){let t;this.signature&&(t=Gn.from(JSON.parse(JSON.stringify(this.signature))));const e=this.constructor.storageType(this.version),r=e.from(JSON.parse(JSON.stringify(this.data)));return new no(this.version,r,this.scheme,this.zlib,this.abiProvider,t)}toString(){return this.encode()}toJSON(){return this.encode()}}class oo{constructor(t,e,r,i,n){this.request=t,this.signer=e,this.transaction=r,this.resolvedTransaction=i,this.chainId=n}static fromPayload(t,e={scheme:to}){return kn(this,void 0,void 0,(function*(){const r=no.from(t.req,e),i=yield r.fetchAbis();return r.resolve(i,{actor:t.sa,permission:t.sp},{ref_block_num:t.rbn,ref_block_prefix:t.rid,expiration:t.ex,chainId:t.cid||r.getChainId()})}))}get serializedTransaction(){return ji.encode({object:this.transaction}).array}get signingDigest(){return this.transaction.signingDigest(this.chainId)}getCallback(t,e){const{callback:r,flags:i}=this.request.data;if(!r||0===r.length)return null;if(!t||0===t.length)throw new Error("Must have at least one signature to resolve callback");const n=t.map((t=>_i.from(t))),o={sig:String(n[0]),tx:String(this.transaction.id),rbn:String(this.transaction.ref_block_num),rid:String(this.transaction.ref_block_prefix),ex:String(this.transaction.expiration),req:this.request.encode(),sa:String(this.signer.actor),sp:String(this.signer.permission),cid:String(this.chainId)};for(const[a,c]of n.slice(1).entries())o[`sig${a}`]=String(c);e&&(o.bn=String(br.from(e)));const s=r.replace(/({{([a-z0-9]+)}})/g,((t,e,r)=>o[r]||""));return{background:i.background,payload:o,url:s}}getIdentityProof(t){if(!this.request.isIdentity())throw new Error("Not a identity request");return Yn.from({chainId:this.chainId,expiration:this.transaction.expiration,signer:this.signer,signature:t})}}function so(t,e){if(sr.isBytes(t.data)||void 0!==t.data.constructor.abiName)return Fi.from(t);const r=e[String(ii.from(t.account))];if(!r)throw new Error(`Missing ABI for ${t.account}`);return Fi.from(t,r)}function ao(t){const e=ii.from(t.account),r=ii.from(t.name);return e.rawValue.equals(0)&&r.equals("identity")}function co(t){return!(t.expiration.equals(0)&&t.ref_block_num.equals(0)&&t.ref_block_prefix.equals(0))}function lo(t,e=60){const r=ci.from(t||new Date),i=br.from(e);return ci.fromInteger(r.value.adding(i))}var uo,ho=r(33134),po=r.n(ho),fo=r(93664),mo=r(44259),yo=r(35276),go=r.n(yo),wo=r(51365),vo=r(40019);
/**
 * Proton Link v4.2.7
 * https://github.com/protonprotocol/proton-link
 *
 * @license
 * Copyright (c) 2020 Greymass Inc. All Rights Reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 *  1. Redistribution of source code must retain the above copyright notice, this
 *     list of conditions and the following disclaimer.
 * 
 *  2. Redistribution in binary form must reproduce the above copyright notice,
 *     this list of conditions and the following disclaimer in the documentation
 *     and/or other materials provided with the distribution.
 * 
 *  3. Neither the name of the copyright holder nor the names of its contributors
 *     may be used to endorse or promote products derived from this software without
 *     specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
 * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
 */
function bo(t,e,r,i){var n,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,r,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(o<3?n(s):o>3?n(e,r,s):n(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s}function Qo(t,e,r,i){function n(t){return t instanceof r?t:new r((function(e){e(t)}))}return new(r||(r=Promise))((function(r,o){function s(t){try{c(i.next(t))}catch(e){o(e)}}function a(t){try{c(i["throw"](t))}catch(e){o(e)}}function c(t){t.done?r(t.value):n(t.value).then(s,a)}c((i=i.apply(t,e||[])).next())}))}class Bo extends Error{constructor(t){super("Request cancelled "+(t?"("+t+")":"")),this.code="E_CANCEL"}}class Eo extends Error{constructor(t){super("Unable to verify identity "+(t?"("+t+")":"")),this.code="E_IDENTITY"}}class _o extends Error{constructor(t,e,r){super(t),this.code=e,this.session=r}}(function(t){t.defaults={service:"https://cb.anchor.link",verifyProofs:!1,encodeChainIds:!0}})(uo||(uo={}));let Uo=class extends ht{};bo([ht.field("public_key")],Uo.prototype,"from",void 0),bo([ht.field("uint64")],Uo.prototype,"nonce",void 0),bo([ht.field("bytes")],Uo.prototype,"ciphertext",void 0),bo([ht.field("uint32")],Uo.prototype,"checksum",void 0),Uo=bo([ht.type("sealed_message")],Uo);let xo=class extends ht{};bo([ht.field("name")],xo.prototype,"session_name",void 0),bo([ht.field("public_key")],xo.prototype,"request_key",void 0),bo([ht.field("string",{extension:!0})],xo.prototype,"user_agent",void 0),xo=bo([ht.type("link_create")],xo);let So=class extends ht{};bo([ht.field("time_point_sec")],So.prototype,"expiration",void 0),So=bo([ht.type("link_info")],So);const Fo=po()().fetch;function ko(t,e,r,i){const n=e.sharedSecret(r);i||(i=M.from(I.random()));const o=_.hash(ue.encode({object:i}).appending(n.array)),s=new fo.zW(o.array.slice(0,32),o.array.slice(32,48)),a=Q.from(s.encrypt(Q.from(t,"utf8").array)),c=new DataView(E.hash(o.array).array.buffer),l=c.getUint32(0,!0);return Uo.from({from:e.toPublic(),nonce:i,ciphertext:a,checksum:l})}function No(t,e){const r={sameDevice:void 0!==e.getRawInfo()["return_path"]};if(t.link_meta)try{const e=JSON.parse(t.link_meta);for(const t of Object.keys(e))r[Lo(t)]=e[t]}catch(i){Do("Unable to parse link metadata",i,t.link_meta)}return r}function Ao(t){return t.split("_").map((t=>(t[0]?t[0].toUpperCase():"_")+t.slice(1))).join("")}function Lo(t){const e=Ao(t);return e[0].toLowerCase()+e.slice(1)}function Do(...t){vo.warn("[anchor-link]",...t)}class Co{constructor(){}remove(){return Qo(this,void 0,void 0,(function*(){this.link.storage&&(yield this.link.removeSession(this.identifier,this.auth,this.chainId))}))}get client(){return this.link.getChain(this.chainId).client}static restore(t,e){switch(e.type){case"channel":return new Io(t,e.data,e.metadata);case"fallback":return new Mo(t,e.data,e.metadata);default:throw new Error("Unable to restore, session data invalid")}}}class Io extends Co{constructor(t,e,r){super(),this.type="channel",this.timeout=12e4,this.link=t,this.chainId=Mn.from(e.chainId),this.auth=Kt.from(e.auth),this.publicKey=Ct.from(e.publicKey),this.identifier=wt.from(e.identifier);const i=Vt.from(e.requestKey);this.channelKey=Ct.from(e.channel.key),this.channelUrl=e.channel.url,this.channelName=e.channel.name,this.encrypt=t=>ko(t.encode(!0,!1),i,this.channelKey),this.metadata=Object.assign(Object.assign({},r||{}),{timeout:this.timeout,name:this.channelName,request_key:i.toPublic()}),this.serialize=()=>({type:"channel",data:Object.assign(Object.assign({},e),{channel:{url:this.channelUrl,key:this.channelKey,name:this.channelName}}),metadata:this.metadata})}onSuccess(t,e){this.link.transport.onSuccess&&this.link.transport.onSuccess(t,e)}onFailure(t,e){this.link.transport.onFailure&&this.link.transport.onFailure(t,e)}onRequest(t,e){const r=So.from({expiration:new Date(Date.now()+this.timeout)});this.link.transport.onSessionRequest&&this.link.transport.onSessionRequest(this,t,e);const i=setTimeout((()=>{e(new _o("Wallet did not respond in time","E_TIMEOUT",this))}),this.timeout);t.setInfoKey("link",r);const n=ue.encode({object:this.encrypt(t)});Fo(this.channelUrl,{method:"POST",headers:{"X-Buoy-Wait":(this.timeout/1e3).toFixed(0)},body:n.array}).then((t=>{2!==Math.floor(t.status/100)&&(clearTimeout(i),202===t.status&&vo.warn("Missing delivery ack from session channel"),e(new _o("Unable to push message","E_DELIVERY",this)))})).catch((t=>{clearTimeout(i),e(new _o(`Unable to reach link service (${t.message||String(t)})`,"E_DELIVERY",this))}))}addLinkInfo(t){const e=xo.from({session_name:this.identifier,request_key:this.metadata.request_key,user_agent:this.link.getUserAgent()});t.setInfoKey("link",e)}prepare(t){return this.link.transport.prepare?this.link.transport.prepare(t,this):Promise.resolve(t)}showLoading(){if(this.link.transport.showLoading)return this.link.transport.showLoading()}recoverError(t,e){return!!this.link.transport.recoverError&&this.link.transport.recoverError(t,e)}makeSignatureProvider(){return this.link.makeSignatureProvider([this.publicKey.toString()],this.chainId,this)}transact(t,e){return Qo(this,void 0,void 0,(function*(){const r=yield this.link.transact(t,Object.assign(Object.assign({},e),{chain:this.chainId}),this);if(r.payload.link_ch&&r.payload.link_key&&r.payload.link_name)try{const t=Object.assign(Object.assign({},this.metadata),No(r.payload,r.resolved.request));this.channelUrl=r.payload.link_ch,this.channelKey=Ct.from(r.payload.link_key),this.channelName=r.payload.link_name,t.name=r.payload.link_name,this.metadata=t}catch(i){Do("Unable to recover link session",i)}return r}))}}class Mo extends Co{constructor(t,e,r){super(),this.type="fallback",this.link=t,this.auth=Kt.from(e.auth),this.publicKey=Ct.from(e.publicKey),this.chainId=Mn.from(e.chainId),this.metadata=r||{},this.identifier=wt.from(e.identifier),this.serialize=()=>({type:this.type,data:e,metadata:this.metadata})}onSuccess(t,e){this.link.transport.onSuccess&&this.link.transport.onSuccess(t,e)}onFailure(t,e){this.link.transport.onFailure&&this.link.transport.onFailure(t,e)}onRequest(t,e){this.link.transport.onSessionRequest?this.link.transport.onSessionRequest(this,t,e):this.link.transport.onRequest(t,e)}prepare(t){return this.link.transport.prepare?this.link.transport.prepare(t,this):Promise.resolve(t)}showLoading(){if(this.link.transport.showLoading)return this.link.transport.showLoading()}makeSignatureProvider(){return this.link.makeSignatureProvider([this.publicKey.toString()],this.chainId,this)}transact(t,e){return this.link.transact(t,Object.assign(Object.assign({},e),{chain:this.chainId}),this)}}class To{constructor(t){this.address=t.trim().replace(/\/$/,"")}create(){const t=`${this.address}/${(0,mo.Z)()}`;return new Ro(t)}}class Ro{constructor(t){this.url=t,this.ctx={}}wait(){return this.url.includes("hyperbuoy")?Po(this.url,this.ctx):zo(this.url,this.ctx)}cancel(){this.ctx.cancel&&this.ctx.cancel()}}function zo(t,e){return new Promise(((r,i)=>{let n=!0,o=0;const s=t.replace(/^http/,"ws"),a=t=>{try{r(JSON.parse(t))}catch(e){e.message="Unable to parse callback JSON: "+e.message,i(e)}},c=()=>{const t=new(go())(s);"undefined"!=typeof navigator&&"ReactNative"==navigator.product&&(t.binaryType="blob"),e.cancel=()=>{n=!1,t.readyState!==go().OPEN&&t.readyState!==go().CONNECTING||t.close()},t.onmessage=e=>{if(n=!1,t.readyState===go().OPEN&&t.close(),"undefined"!==typeof Blob&&e.data instanceof Blob){const t=new FileReader;t.onload=()=>{a(t.result)},t.onerror=t=>{i(t)},t.readAsText(e.data)}else"string"===typeof e.data?a(e.data):a(e.data.toString())},t.onopen=()=>{o=0},t.onclose=()=>{n&&setTimeout(c,Oo(o++))}};c()}))}function Po(t,e){return Qo(this,void 0,void 0,(function*(){let r=!0;e.cancel=()=>{r=!1};while(r){try{const e=yield Fo(t);if(408===e.status)continue;if(200===e.status)return yield e.json();throw new Error(`HTTP ${e.status}: ${e.statusText}`)}catch(i){Do("Unexpected hyperbuoy error",i)}yield jo(1e3)}return null}))}function Oo(t){return Math.min(Math.pow(10*t,2),1e4)}function jo(t){return new Promise((e=>{setTimeout(e,t)}))}class Jo{constructor(t,e){this.abiCache=new Map,this.pendingAbis=new Map,this.chainId=Mn.from(t),this.client="string"===typeof e?new wo.JsonRpc(e):e}getAbi(t){return Qo(this,void 0,void 0,(function*(){const e=String(t);let r=this.abiCache.get(e);if(!r){let i=this.pendingAbis.get(e);i||(i=this.client.get_abi(t.toString()),this.pendingAbis.set(e,i)),r=(yield i).abi,this.pendingAbis.delete(e),r&&this.abiCache.set(e,r)}return r}))}}class $o{constructor(t){if("object"!==typeof t)throw new TypeError("Missing options object");if(!t.transport)throw new TypeError("options.transport is required");let e=t.chains||[];if(t.chainId&&t.client&&(e=[{chainId:t.chainId,nodeUrl:t.client}]),0===e.length)throw new TypeError("options.chains is required");this.chains=e.map((({chainId:t,nodeUrl:e})=>{if(!t)throw new Error("options.chains[].chainId is required");if(!e)throw new Error("options.chains[].nodeUrl is required");return new Jo(t,e)})),void 0===t.service||"string"===typeof t.service?this.callbackService=new To(t.service||uo.defaults.service):this.callbackService=t.service,this.transport=t.transport,null!==t.storage&&(this.storage=t.storage||this.transport.storage),this.verifyProofs=void 0!==t.verifyProofs?t.verifyProofs:uo.defaults.verifyProofs,this.encodeChainIds=void 0!==t.encodeChainIds?t.encodeChainIds:uo.defaults.encodeChainIds,this.scheme=t.scheme,t.walletType&&t.walletType.length>0&&(this.walletType=t.walletType||"")}get client(){return this.chains[0].client}getChain(t){if(t instanceof Jo)return t;if("number"===typeof t){const e=this.chains[t];if(!e)throw new Error(`Invalid chain index: ${t}`);return e}const e=Mn.from(t),r=this.chains.find((t=>t.chainId.equals(e)));if(!r)throw new Error(`Unsupported chain: ${e}`);return r}createRequest(t,e,r){return Qo(this,void 0,void 0,(function*(){const n=r||this.transport;let o;if(e||1===this.chains.length){const r=e||this.chains[0];o=yield no.create(Object.assign(Object.assign({},t),{chainId:r.chainId,broadcast:!1}),{abiProvider:r,zlib:i.ZP,scheme:this.scheme})}else o=yield no.create(Object.assign(Object.assign({},t),{chainId:null,chainIds:this.encodeChainIds?this.chains.map((t=>t.chainId)):void 0,broadcast:!1}),{abiProvider:this.chains[0],zlib:i.ZP,scheme:this.scheme});n.prepare&&(o=yield n.prepare(o));const s=this.callbackService.create();return o.setCallback(s.url,!0),{request:o,callback:s}}))}sendRequest(t,e,r,n,o=!1){return Qo(this,void 0,void 0,(function*(){const s=n||this.transport;try{const n=t.data.callback;if(n!==e.url)throw new Error("Invalid request callback");if(!0===t.data.flags.broadcast||!1===t.data.flags.background)throw new Error("Invalid request flags");let a=!1;const c=new Promise(((r,i)=>{s.onRequest(t,(r=>{if(a)return;const n="string"===typeof r?new Bo(r):r;s.recoverError&&!0===s.recoverError(n,t)||(e.cancel(),i(n))}))})),l=yield Promise.race([e.wait(),c]);if(a=!0,"string"===typeof l.rejected)throw new Bo(l.rejected);const u=l,h=Kt.from({actor:u.sa,permission:u.sp}),d=Object.keys(u).filter((t=>t.startsWith("sig")&&"sig0"!==t)).map((t=>zt.from(u[t])));let p;if(!r&&this.chains.length>1){if(!u.cid)throw new Error("Multi chain response payload must specify resolved chain id (cid)");p=this.getChain(u.cid)}else if(p=r||this.getChain(0),u.cid&&!p.chainId.equals(u.cid))throw new Error("Got response for wrong chain id");const f=yield oo.fromPayload(u,{zlib:i.ZP,abiProvider:p,scheme:this.scheme}),m=f.request.getInfoKey("cosig",{type:zt,array:!0});m&&d.unshift(...m);const y={resolved:f,chain:p,transaction:f.transaction,resolvedTransaction:f.resolvedTransaction,signatures:d,payload:u,signer:h};if(o){const t=ee.from(Object.assign(Object.assign({},f.transaction),{signatures:d})).toJSON(),e=ue.objectify(t),r=re.fromSigned(t),i=yield p.client.push_transaction({serializedTransaction:r.packed_trx.array,serializedContextFreeData:r.packed_context_free_data.array,signatures:e.signatures,transactionHeader:e});y.processed=i.processed}return s.onSuccess&&s.onSuccess(t,y),y}catch(a){throw s.onFailure&&s.onFailure(t,a),a}}))}transact(t,e,r){return Qo(this,void 0,void 0,(function*(){const i=e||{},n=r||this.transport,o=void 0!==i.chain?this.getChain(i.chain):void 0,s=!1!==i.broadcast,a=void 0!==i.noModify?i.noModify:!s;n&&n.showLoading&&n.showLoading();const c=t;t.actions&&(c.expiration||c.ref_block_num||c.ref_block_prefix||c.max_net_usage_words||c.max_cpu_usage_ms||c.delay_sec)&&(t={transaction:Object.assign({expiration:"1970-01-01T00:00:00",ref_block_num:0,ref_block_prefix:0,max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0},c)});const{request:l,callback:u}=yield this.createRequest(t,o,n);a&&l.setInfoKey("no_modify",!0,"bool");const h=yield this.sendRequest(l,u,o,n,s);return h}))}identify(t){return Qo(this,void 0,void 0,(function*(){const{request:e,callback:r}=yield this.createRequest({identity:{permission:t.requestPermission},info:t.info}),i=yield this.sendRequest(e,r);if(!i.resolved.request.isIdentity())throw new Eo("Unexpected response");let n;const o=i.resolved.getIdentityProof(i.signatures[0]);if(this.verifyProofs){if(n=yield i.chain.client.get_account(i.signer.actor.toString()),!n)throw new Eo(`Signature from unknown account: ${o.signer.actor}`);const t=n.permissions.find((({perm_name:t})=>o.signer.permission.equals(t)));if(!t)throw new Eo(`${o.signer.actor} signed for unknown permission: ${o.signer.permission}`);const e=o.verify(t.required_auth,n.head_block_time);if(!e)throw new Eo(`Invalid identify proof for: ${o.signer}`)}if(t.requestPermission){const e=Kt.from(t.requestPermission);if(!e.actor.equals(eo)&&!e.actor.equals(o.signer.actor)||!e.permission.equals(ro)&&!e.permission.equals(o.signer.permission))throw new Eo(`Identity proof singed by ${o.signer}, expected: ${Vo(e)} `)}return Object.assign(Object.assign({},i),{account:n,proof:o})}))}login(t){return Qo(this,void 0,void 0,(function*(){const e=Vt.generate("K1"),r=e.toPublic(),i=xo.from({session_name:t,request_key:r,user_agent:this.getUserAgent()}),n=yield this.identify({info:{link:i}}),o=No(n.payload,n.resolved.request),s=n.proof.recover();let a;return a=n.payload.link_ch&&n.payload.link_key&&n.payload.link_name?new Io(this,{identifier:t,chainId:n.chain.chainId,auth:n.signer,publicKey:s,channel:{url:n.payload.link_ch,key:n.payload.link_key,name:n.payload.link_name},requestKey:e},o):new Mo(this,{identifier:t,chainId:n.chain.chainId,auth:n.signer,publicKey:s},o),yield this.storeSession(a),Object.assign(Object.assign({},n),{session:a})}))}restoreSession(t,e,r){return Qo(this,void 0,void 0,(function*(){if(!this.storage)throw new Error("Unable to restore session: No storage adapter configured");let i;if(e&&r)i=this.sessionKey(t,Vo(Kt.from(e)),String(Mn.from(r)));else{let n=yield this.listSessions(t);if(e&&(n=n.filter((t=>t.auth.equals(e)))),r){const t=Mn.from(r);n=n.filter((e=>e.chainId.equals(t)))}const o=n[0];if(!o)return null;i=this.sessionKey(t,Vo(o.auth),String(o.chainId))}const n=yield this.storage.read(i);if(!n)return null;let o;try{o=JSON.parse(n)}catch(a){throw new Error(`Unable to restore session: Stored JSON invalid (${a.message||String(a)})`)}const s=Co.restore(this,o);return(e||r)&&(yield this.touchSession(t,s.auth,s.chainId)),s}))}listSessions(t){return Qo(this,void 0,void 0,(function*(){if(!this.storage)throw new Error("Unable to list sessions: No storage adapter configured");const e=this.sessionKey(t,"list");let r;try{r=JSON.parse((yield this.storage.read(e))||"[]")}catch(i){throw new Error(`Unable to list sessions: ${i.message||String(i)}`)}return r.map((({auth:t,chainId:e})=>({auth:Kt.from(t),chainId:Mn.from(e)})))}))}removeSession(t,e,r){return Qo(this,void 0,void 0,(function*(){if(!this.storage)throw new Error("Unable to remove session: No storage adapter configured");const i=this.sessionKey(t,Vo(e),String(r));yield this.storage.remove(i),yield this.touchSession(t,e,r,!0),(yield this.storage.read("wallet-type"))&&this.storage.remove("wallet-type"),(yield this.storage.read("user-auth"))&&this.storage.remove("user-auth")}))}clearSessions(t){return Qo(this,void 0,void 0,(function*(){if(!this.storage)throw new Error("Unable to clear sessions: No storage adapter configured");for(const{auth:e,chainId:r}of yield this.listSessions(t))yield this.removeSession(t,e,r)}))}makeSignatureProvider(t,e,r){return{getAvailableKeys:()=>Qo(this,void 0,void 0,(function*(){return t})),sign:t=>Qo(this,void 0,void 0,(function*(){const n=r||this.transport,o=e?this.getChain(e):this.chains[0];let s=no.fromTransaction(t.chainId,t.serializedTransaction,{abiProvider:o,zlib:i.ZP,scheme:this.scheme});const a=this.callbackService.create();s.setCallback(a.url,!0),s.setBroadcast(!1),n.prepare&&(s=yield n.prepare(s));const{transaction:c,signatures:l}=yield this.sendRequest(s,a,o,n),u=ue.encode({object:c});return Object.assign(Object.assign({},t),{serializedTransaction:u,signatures:l})}))}}touchSession(t,e,r,i=!1){return Qo(this,void 0,void 0,(function*(){const n=yield this.listSessions(t),o=n.findIndex((t=>t.auth.equals(e)&&t.chainId.equals(r)));o>=0&&n.splice(o,1),!1===i&&n.unshift({auth:e,chainId:r});const s=this.sessionKey(t,"list");yield this.storage.write(s,JSON.stringify(n))}))}storeSession(t){return Qo(this,void 0,void 0,(function*(){if(this.storage){const e=this.sessionKey(t.identifier,Vo(t.auth),String(t.chainId)),r=JSON.stringify(t.serialize());yield this.storage.write(e,r),yield this.touchSession(t.identifier,t.auth,t.chainId),this.walletType&&this.storage.write("wallet-type",this.walletType)}}))}sessionKey(t,...e){return[String(wt.from(t)),...e].join("-")}getUserAgent(){let t=`AnchorLink/${$o.version}`;return this.transport.userAgent&&(t+=" "+this.transport.userAgent()),t}}function Vo(t){const e=Kt.from(t),r=e.actor.equals(eo)?"<any>":String(e.actor);let i;return i=e.permission.equals(eo)||e.permission.equals(ro)?"<any>":String(e.permission),`${r}@${i}`}$o.version="4.2.7";var qo=r(40019);
/**
 * Proton Browser Transport v4.2.12
 * https://github.com/protonprotocol/proton-browser-transport
 *
 * @license
 * Copyright (c) 2020 Greymass Inc. All Rights Reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 *  1. Redistribution of source code must retain the above copyright notice, this
 *     list of conditions and the following disclaimer.
 * 
 *  2. Redistribution in binary form must reproduce the above copyright notice,
 *     this list of conditions and the following disclaimer in the documentation
 *     and/or other materials provided with the distribution.
 * 
 *  3. Neither the name of the copyright holder nor the names of its contributors
 *     may be used to endorse or promote products derived from this software without
 *     specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
 * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
 */function Wo(t,e,r,i){function n(t){return t instanceof r?t:new r((function(e){e(t)}))}return new(r||(r=Promise))((function(r,o){function s(t){try{c(i.next(t))}catch(e){o(e)}}function a(t){try{c(i["throw"](t))}catch(e){o(e)}}function c(t){t.done?r(t.value):n(t.value).then(s,a)}c((i=i.apply(t,e||[])).next())}))}function Ko(){}function Zo(t,e){for(const r in e)t[r]=e[r];return t}function Ho(t,e,r,i,n){t.__svelte_meta={loc:{file:e,line:r,column:i,char:n}}}function Go(t){return t()}function Xo(){return Object.create(null)}function Yo(t){t.forEach(Go)}function ts(t){return"function"===typeof t}function es(t,e){return t!=t?e==e:t!==e||t&&"object"===typeof t||"function"===typeof t}let rs,is;function ns(t,e){return rs||(rs=document.createElement("a")),rs.href=e,t===rs.href}function os(t){return 0===Object.keys(t).length}function ss(t,e){t.appendChild(e)}function as(t,e,r){const i=cs(t);if(!i.getElementById(e)){const t=ds("style");t.id=e,t.textContent=r,ls(i,t)}}function cs(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function ls(t,e){ss(t.head||t,e)}function us(t,e,r){t.insertBefore(e,r||null)}function hs(t){t.parentNode.removeChild(t)}function ds(t){return document.createElement(t)}function ps(t){return document.createTextNode(t)}function fs(){return ps(" ")}function ms(t,e,r,i){return t.addEventListener(e,r,i),()=>t.removeEventListener(e,r,i)}function ys(t){return function(e){return e.preventDefault(),t.call(this,e)}}function gs(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function ws(t){return function(e){e.target===this&&t.call(this,e)}}function vs(t,e,r){null==r?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function bs(t){return Array.from(t.childNodes)}function Qs(t,e,r){t.classList[r?"add":"remove"](e)}function Bs(t,e,{bubbles:r=!1,cancelable:i=!1}={}){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,r,i,e),n}function Es(t){is=t}function _s(){if(!is)throw new Error("Function called outside component initialization");return is}function Us(){const t=_s();return(e,r,{cancelable:i=!1}={})=>{const n=t.$$.callbacks[e];if(n){const o=Bs(e,r,{cancelable:i});return n.slice().forEach((e=>{e.call(t,o)})),!o.defaultPrevented}return!0}}const xs=[],Ss=[],Fs=[],ks=[],Ns=Promise.resolve();let As=!1;function Ls(){As||(As=!0,Ns.then(Ms))}function Ds(t){Fs.push(t)}const Cs=new Set;let Is=0;function Ms(){const t=is;do{while(Is<xs.length){const t=xs[Is];Is++,Es(t),Ts(t.$$)}Es(null),xs.length=0,Is=0;while(Ss.length)Ss.pop()();for(let t=0;t<Fs.length;t+=1){const e=Fs[t];Cs.has(e)||(Cs.add(e),e())}Fs.length=0}while(xs.length);while(ks.length)ks.pop()();As=!1,Cs.clear(),Es(t)}function Ts(t){if(null!==t.fragment){t.update(),Yo(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ds)}}const Rs=new Set;let zs;function Ps(){zs={r:0,c:[],p:zs}}function Os(){zs.r||Yo(zs.c),zs=zs.p}function js(t,e){t&&t.i&&(Rs.delete(t),t.i(e))}function Js(t,e,r,i){if(t&&t.o){if(Rs.has(t))return;Rs.add(t),zs.c.push((()=>{Rs.delete(t),i&&(r&&t.d(1),i())})),t.o(e)}else i&&i()}function $s(t,e){const r={},i={},n={$$scope:1};let o=t.length;while(o--){const s=t[o],a=e[o];if(a){for(const t in s)t in a||(i[t]=1);for(const t in a)n[t]||(r[t]=a[t],n[t]=1);t[o]=a}else for(const t in s)n[t]=1}for(const s in i)s in r||(r[s]=void 0);return r}function Vs(t){return"object"===typeof t&&null!==t?t:{}}function qs(t){t&&t.c()}function Ws(t,e,r,i){const{fragment:n,on_mount:o,on_destroy:s,after_update:a}=t.$$;n&&n.m(e,r),i||Ds((()=>{const e=o.map(Go).filter(ts);s?s.push(...e):Yo(e),t.$$.on_mount=[]})),a.forEach(Ds)}function Ks(t,e){const r=t.$$;null!==r.fragment&&(Yo(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function Zs(t,e){-1===t.$$.dirty[0]&&(xs.push(t),Ls(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Hs(t,e,r,i,n,o,s,a=[-1]){const c=is;Es(t);const l=t.$$={fragment:null,ctx:null,props:o,update:Ko,not_equal:n,bound:Xo(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Xo(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};s&&s(l.root);let u=!1;if(l.ctx=r?r(t,e.props||{},((e,r,...i)=>{const o=i.length?i[0]:r;return l.ctx&&n(l.ctx[e],l.ctx[e]=o)&&(!l.skip_bound&&l.bound[e]&&l.bound[e](o),u&&Zs(t,e)),r})):[],l.update(),u=!0,Yo(l.before_update),l.fragment=!!i&&i(l.ctx),e.target){if(e.hydrate){const t=bs(e.target);l.fragment&&l.fragment.l(t),t.forEach(hs)}else l.fragment&&l.fragment.c();e.intro&&js(t.$$.fragment),Ws(t,e.target,e.anchor,e.customElement),Ms()}Es(c)}class Gs{$destroy(){Ks(this,1),this.$destroy=Ko}$on(t,e){const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(e),()=>{const t=r.indexOf(e);-1!==t&&r.splice(t,1)}}$set(t){this.$$set&&!os(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Xs(t,e){document.dispatchEvent(Bs(t,Object.assign({version:"3.49.0"},e),{bubbles:!0}))}function Ys(t,e){Xs("SvelteDOMInsert",{target:t,node:e}),ss(t,e)}function ta(t,e,r){Xs("SvelteDOMInsert",{target:t,node:e,anchor:r}),us(t,e,r)}function ea(t){Xs("SvelteDOMRemove",{node:t}),hs(t)}function ra(t,e,r,i,n,o){const s=!0===i?["capture"]:i?Array.from(Object.keys(i)):[];n&&s.push("preventDefault"),o&&s.push("stopPropagation"),Xs("SvelteDOMAddEventListener",{node:t,event:e,handler:r,modifiers:s});const a=ms(t,e,r,i);return()=>{Xs("SvelteDOMRemoveEventListener",{node:t,event:e,handler:r,modifiers:s}),a()}}function ia(t,e,r){vs(t,e,r),null==r?Xs("SvelteDOMRemoveAttribute",{node:t,attribute:e}):Xs("SvelteDOMSetAttribute",{node:t,attribute:e,value:r})}function na(t,e){e=""+e,t.wholeText!==e&&(Xs("SvelteDOMSetData",{node:t,data:e}),t.data=e)}function oa(t,e,r){for(const i of Object.keys(e))~r.indexOf(i)||qo.warn(`<${t}> received an unexpected slot "${i}".`)}class sa extends Gs{constructor(t){if(!t||!t.target&&!t.$$inline)throw new Error("'target' is a required option");super()}$destroy(){super.$destroy(),this.$destroy=()=>{qo.warn("Component was already destroyed")}}$capture_state(){}$inject_state(){}}function aa(){return/iP(ad|od|hone)/i.test(navigator.userAgent)||navigator.userAgent.toLowerCase().indexOf("macintosh")>-1&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2}function ca(){return/CriOS/.test(navigator.userAgent)}function la(){return/Chrome\/[.0-9]* Mobile/i.test(navigator.userAgent)}function ua(){return/Firefox/i.test(navigator.userAgent)}function ha(){return/FxiOS/.test(navigator.userAgent)}function da(){return/OPR/.test(navigator.userAgent)||/Opera/.test(navigator.userAgent)}function pa(){return/Edg/.test(navigator.userAgent)}function fa(){return navigator["brave"]&&"function"===typeof navigator["brave"].isBrave}function ma(){return/Android/.test(navigator.userAgent)}function ya(){return/wv/.test(navigator.userAgent)||/Android.*AppleWebKit/.test(navigator.userAgent)}function ga(){return"undefined"!==typeof window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")}function wa(){if(ca())return"googlechrome://";if(ha())return"firefox:://";if(aa()&&fa())return"brave://";if(aa()){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let e=window.location.href.split("#")[0]+"#";for(let r=0;r<8;r++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}return ma()&&ua()?"android-intent://org.mozilla.firefox":ma()&&pa()?"android-intent://com.microsoft.emmx":ma()&&da()?"android-intent://com.opera.browser":ma()&&fa()?"android-intent://com.brave.browser":ma()&&ya()?"android-intent://webview":ma()&&la()?"android-intent://com.android.chrome":window.location.href}function va(t){let e;if(t.json&&t.json.error&&(t=t.json.error),t.error&&(t=t.error),t.details){const{code:r,details:i,name:n,what:o}=t;e="eosio_assert_message_exception"===n?i[0].message.replace("assertion failure with message: ",""):i.length>0?i.map((t=>t.message)).join("\n"):o||String(t)}else e=t.message||String(t);return e}const ba={proton:"https://protonchain.com/wallet",anchor:"https://greymass.com/en/anchor/"};function Qa(t){return ba[t]||""}const Ba="src/views/CountDown.svelte";function Ea(t){as(t,"svelte-8ofljp",".proton-link-countdown{width:104px;height:104px;display:flex;align-items:center;justify-content:center;margin:40px auto 5px;border-radius:100%;background-color:white;font-size:28px;line-height:40px}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ291bnREb3duLnN2ZWx0ZSIsIm1hcHBpbmdzIjoiQUFDSSxzQkFBQSxBQUFBLENBQUEsQUFDSSxLQUFBLENBQUEsS0FBQSxDQUNBLE1BQUEsQ0FBQSxLQUFBLENBQ0EsT0FBQSxDQUFBLElBQUEsQ0FDQSxXQUFBLENBQUEsTUFBQSxDQUNBLGVBQUEsQ0FBQSxNQUFBLENBQ0EsTUFBQSxDQUFBLElBQUEsQ0FBQSxJQUFBLENBQUEsR0FBQSxDQUNBLGFBQUEsQ0FBQSxJQUFBLENBQ0EsZ0JBQUEsQ0FBQSxLQUFBLENBQ0EsU0FBQSxDQUFBLElBQUEsQ0FDQSxXQUFBLENBQUEsSUFBQSxBQ01SLENBRUEiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiZmlsZTovLy9Vc2Vycy9qYWZyaS9Xb3JrL3Byb3Rvbi9wcm90b24td2ViLXNkay9wYWNrYWdlcy9wcm90b24tYnJvd3Nlci10cmFuc3BvcnQvc3JjL3ZpZXdzL0NvdW50RG93bi5zdmVsdGUiLCJDb3VudERvd24uc3ZlbHRlIl19 */")}function _a(t){let e,r;const i={c:function(){e=ds("div"),r=ps(t[0]),ia(e,"class","proton-link-countdown"),Ho(e,Ba,3,0,61)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,i){ta(t,e,i),Ys(e,r)},p:function(t,[e]){1&e&&na(r,t[0])},i:Ko,o:Ko,d:function(t){t&&ea(e)}};return Xs("SvelteRegisterBlock",{block:i,id:_a.name,type:"component",source:"",ctx:t}),i}function Ua(t,e,r){let{$$slots:i={},$$scope:n}=e;oa("CountDown",i,[]);let{countDown:o="00:00"}=e;const s=["countDown"];return Object.keys(e).forEach((t=>{~s.indexOf(t)||"$$"===t.slice(0,2)||"slot"===t||qo.warn(`<CountDown> was created with unknown prop '${t}'`)})),t.$$set=t=>{"countDown"in t&&r(0,o=t.countDown)},t.$capture_state=()=>({countDown:o}),t.$inject_state=t=>{"countDown"in t&&r(0,o=t.countDown)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[o]}class xa extends sa{constructor(t){super(t),Hs(this,t,Ua,_a,es,{countDown:0},Ea),Xs("SvelteRegisterComponent",{component:this,tagName:"CountDown",options:t,id:_a.name})}get countDown(){throw new Error("<CountDown>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set countDown(t){throw new Error("<CountDown>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Sa="src/views/QRCode.svelte";function Fa(t){as(t,"svelte-1xxtybb",'.proton-link-actions{display:flex;flex-direction:column;align-items:center;position:relative}.proton-link-background{width:250px;height:250px;border-radius:10px;box-shadow:0 4px 8px -2px rgba(141, 141, 148, 0.28), 0 0 2px 0 rgba(141, 141, 148, 0.16);background-color:#ffffff;position:relative;z-index:10}.proton-link-qr{width:100%;height:100%;padding:10px}.proton-link-separator{margin-top:20px;width:100%;font-size:12px;display:flex;align-items:center;text-align:center;color:white}.proton-link-separator::before,.proton-link-separator::after{content:"";flex:1;opacity:0.2;border-bottom:1px solid #d8d8d8}.proton-link-separator::before{margin-right:0.5em}.proton-link-separator::after{margin-left:0.5em}.proton-link-uri{width:100%;padding:20px 0px 0px 0px}.proton-link-uri a{width:100%;background-color:rgba(255, 255, 255, 0.3);font-family:"Circular Std Book", sans-serif;font-size:16px;font-weight:500;text-align:center;color:#ffffff;text-decoration:none;flex-grow:1;flex:1;padding:18px 0px 16px 0px;display:block;border-radius:10px}.proton-link-uri a:hover{background-color:rgba(255, 255, 255, 0.25);transition:0.2s ease}.proton-link-wskeepalive{display:none}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUVJDb2RlLnN2ZWx0ZSIsIm1hcHBpbmdzIjoiQUFFUSxvQkFBQSxBQUFBLENBQUEsQUFDSSxPQUFBLENBQUEsSUFBQSxDQUNBLGNBQUEsQ0FBQSxNQUFBLENBQ0EsV0FBQSxDQUFBLE1BQUEsQ0FDQSxRQUFBLENBQUEsUUFBQSxBQytCWixDQUFBLEFENUJRLHVCQUFBLEFBQUEsQ0FBQSxBQUNJLEtBQUEsQ0FBQSxLQUFBLENBQ0EsTUFBQSxDQUFBLEtBQUEsQ0FDQSxhQUFBLENBQUEsSUFBQSxDQUNBLFVBQUEsQ0FBQSxDQUFBLENBQUEsR0FBQSxDQUFBLEdBQUEsQ0FBQSxJQUFBLENBQUEsS0FBQSxHQUFBLENBQUEsQ0FBQSxHQUFBLENBQUEsQ0FBQSxHQUFBLENBQUEsQ0FBQSxJQUFBLENBQUEsQ0FBQSxDQUFBLENBQUEsQ0FBQSxDQUFBLENBQUEsR0FBQSxDQUFBLENBQUEsQ0FBQSxLQUFBLEdBQUEsQ0FBQSxDQUFBLEdBQUEsQ0FBQSxDQUFBLEdBQUEsQ0FBQSxDQUFBLElBQUEsQ0FBQSxDQUVBLGdCQUFBLENBQUEsT0FBQSxDQUNBLFFBQUEsQ0FBQSxRQUFBLENBQ0EsT0FBQSxDQUFBLEVBQUEsQUM2QlosQ0FBQSxBRDFCUSxlQUFBLEFBQUEsQ0FBQSxBQUNJLEtBQUEsQ0FBQSxJQUFBLENBQ0EsTUFBQSxDQUFBLElBQUEsQ0FDQSxPQUFBLENBQUEsSUFBQSxDQUdKLHNCQUFBLEFBQUEsQ0FBQSxBQUNJLFVBQUEsQ0FBQSxJQUFBLENBQ0EsS0FBQSxDQUFBLElBQUEsQ0FDQSxTQUFBLENBQUEsSUFBQSxDQUNBLE9BQUEsQ0FBQSxJQUFBLENBQ0EsV0FBQSxDQUFBLE1BQUEsQ0FDQSxVQUFBLENBQUEsTUFBQSxDQUNBLEtBQUEsQ0FBQSxLQUFBLEFDMkJaLENBQUEsQUR6QlksOEJBQUEsQUFBQSxDQUFBLDZCQUFBLEFBQUEsQ0FBQSxBQUVJLE9BQUEsQ0FBQSxFQUFBLENBQ0EsSUFBQSxDQUFBLENBQUEsQ0FDQSxPQUFBLENBQUEsR0FBQSxDQUNBLGFBQUEsQ0FBQSxHQUFBLENBQUEsS0FBQSxDQUFBLE9BQUEsQ0FHSiw4QkFBQSxBQUFBLENBQUEsQUFDSSxZQUFBLENBQUEsS0FBQSxBQ3lCaEIsQ0FBQSxBRHRCWSw2QkFBQSxBQUFBLENBQUEsQUFDSSxXQUFBLENBQUEsS0FBQSxBQ3dCaEIsQ0FBQSxBRHBCUSxnQkFBQSxBQUFBLENBQUEsQUFDSSxLQUFBLENBQUEsSUFBQSxDQUNBLE9BQUEsQ0FBQSxJQUFBLENBQUEsR0FBQSxDQUFBLEdBQUEsQ0FBQSxHQUFBLEFDc0JaLENBQUEsQURwQlksZ0JBQUEsQUFBQSxDQUFBLEFBQUEsQ0FBQSxBQUFBLENBQUEsQUFDSSxLQUFBLENBQUEsSUFBQSxDQUNBLGdCQUFBLENBQUEsS0FBQSxHQUFBLENBQUEsQ0FBQSxHQUFBLENBQUEsQ0FBQSxHQUFBLENBQUEsQ0FBQSxHQUFBLENBQUEsQ0FDQSxXQUFBLENBQUEsbUJBQUEsQ0FBQSxDQUFBLFVBQUEsQ0FDQSxTQUFBLENBQUEsSUFBQSxDQUNBLFdBQUEsQ0FBQSxHQUFBLENBQ0EsVUFBQSxDQUFBLE1BQUEsQ0FDQSxLQUFBLENBQUEsT0FBQSxDQUNBLGVBQUEsQ0FBQSxJQUFBLENBQ0EsU0FBQSxDQUFBLENBQUEsQ0FDQSxJQUFBLENBQUEsQ0FBQSxDQUNBLE9BQUEsQ0FBQSxJQUFBLENBQUEsR0FBQSxDQUFBLElBQUEsQ0FBQSxHQUFBLENBQ0EsT0FBQSxDQUFBLEtBQUEsQ0FDQSxhQUFBLENBQUEsSUFBQSxBQ3NCaEIsQ0FBQSxBRHBCZ0IsZ0JBQUEsQUFBQSxDQUFBLEFBQUEsT0FBQSxBQUFBLENBQUEsQUFDSSxnQkFBQSxDQUFBLEtBQUEsR0FBQSxDQUFBLENBQUEsR0FBQSxDQUFBLENBQUEsR0FBQSxDQUFBLENBQUEsSUFBQSxDQUFBLENBQ0EsVUFBQSxDQUFBLElBQUEsQ0FBQSxJQUFBLEFDc0JwQixDQUFBLEFEakJRLHdCQUFBLEFBQUEsQ0FBQSxBQUNJLE9BQUEsQ0FBQSxJQUFBLEFDbUJaLENBZ0JBIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbImZpbGU6Ly8vVXNlcnMvamFmcmkvV29yay9wcm90b24vcHJvdG9uLXdlYi1zZGsvcGFja2FnZXMvcHJvdG9uLWJyb3dzZXItdHJhbnNwb3J0L3NyYy92aWV3cy9RUkNvZGUuc3ZlbHRlIiwiUVJDb2RlLnN2ZWx0ZSJdfQ== */')}function ka(t){let e,r,i,n,o,s,a,c,l,u,h,d,p,f,m;const y={c:function(){e=ds("div"),r=ds("div"),i=ds("img"),o=fs(),s=ds("div"),s.textContent="OR",a=fs(),c=ds("div"),l=ds("a"),u=ps("Open Wallet"),h=fs(),d=ds("iframe"),ia(i,"class","proton-link-qr"),ns(i.src,n=t[0])||ia(i,"src",n),ia(i,"alt","auth link"),Ho(i,Sa,18,8,433),ia(r,"class","proton-link-background"),Ho(r,Sa,17,4,388),ia(s,"class","proton-link-separator"),Ho(s,Sa,20,4,506),ia(l,"class","proton-link-button"),ia(l,"href",t[1]),Ho(l,Sa,22,8,592),ia(c,"class","proton-link-uri"),Ho(c,Sa,21,4,554),ia(d,"class","proton-link-wskeepalive"),ns(d.src,p=t[2])||ia(d,"src",p),ia(d,"title","keepalive"),Ho(d,Sa,26,4,729),ia(e,"class","proton-link-actions"),Ho(e,Sa,16,0,350)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(n,p){ta(n,e,p),Ys(e,r),Ys(r,i),Ys(e,o),Ys(e,s),Ys(e,a),Ys(e,c),Ys(c,l),Ys(l,u),Ys(e,h),Ys(e,d),f||(m=ra(l,"click",ys(t[3]),!1,!0,!1),f=!0)},p:function(t,[e]){1&e&&!ns(i.src,n=t[0])&&ia(i,"src",n),2&e&&ia(l,"href",t[1]),4&e&&!ns(d.src,p=t[2])&&ia(d,"src",p)},i:Ko,o:Ko,d:function(t){t&&ea(e),f=!1,m()}};return Xs("SvelteRegisterBlock",{block:y,id:ka.name,type:"component",source:"",ctx:t}),y}function Na(t,e,r){let{$$slots:i={},$$scope:n}=e;oa("QRCode",i,[]);let{code:o=""}=e,{link:s=""}=e,a="about:blank";function c(){s&&(ua()||fa()?r(2,a=s):window.location.href=s)}const l=["code","link"];return Object.keys(e).forEach((t=>{~l.indexOf(t)||"$$"===t.slice(0,2)||"slot"===t||qo.warn(`<QRCode> was created with unknown prop '${t}'`)})),t.$$set=t=>{"code"in t&&r(0,o=t.code),"link"in t&&r(1,s=t.link)},t.$capture_state=()=>({isBrave:fa,isFirefox:ua,code:o,link:s,iframeUrl:a,protonLinkClick:c}),t.$inject_state=t=>{"code"in t&&r(0,o=t.code),"link"in t&&r(1,s=t.link),"iframeUrl"in t&&r(2,a=t.iframeUrl)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[o,s,a,c]}class Aa extends sa{constructor(t){super(t),Hs(this,t,Na,ka,es,{code:0,link:1},Fa),Xs("SvelteRegisterComponent",{component:this,tagName:"QRCode",options:t,id:ka.name})}get code(){throw new Error("<QRCode>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set code(t){throw new Error("<QRCode>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get link(){throw new Error("<QRCode>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set link(t){throw new Error("<QRCode>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const La="src/views/Dialog.svelte";function Da(t){as(t,"svelte-1qqw1l8",".proton-link{font-family:\"Circular Std Book\", -apple-system, system-ui, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif;font-size:13px;background:rgba(0, 0, 0, 0.65);position:fixed;top:0px;left:0px;width:100%;height:100%;z-index:2147483647;display:none;align-items:center;justify-content:center}.proton-link *{box-sizing:border-box;line-height:1}.proton-link-button{color:white;cursor:pointer;text-align:center;background-color:transparent;background-image:none;outline:none}.proton-link-subtitle{font-size:16px;line-height:24px;display:block;margin-top:10px;text-align:center;word-break:break-word}.proton-link--anchor .proton-link-inner{background:#3650a2;color:white}.proton-link--anchor .proton-link-logo{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAABnCAYAAAAuXxTZAAAXYklEQVR4Xu2de/BuVVnHv9/DQe4ghxHoOJgwSOpomYFhCd7QSSQvMUpe5nTMyaQYtWyyxmBKGqdsvBSSWCaRpkbewkRUhIwxCsUmkyzIQQ05gAQGchHEb7MO7895+Z137+dZa6+9373f37P/fdd6nmd91trr+66114WIJwgEgSAQBIJAAQEW5IksQSAIBIEgEAQQAhKNIAgEgSAQBIoITFZAJD0JwEkAXgrgoc7SXw3gvQAuJHmlM08kCwJBIAgEgQUEJiEgkg4G8CEASTT6eC4E8DyS9/ZhPGwGgSAQBFaRwGgFRNILAHwAwKaBwScR+WmSnx/Yb7gLAkEgCEyKwKgERNJuAG4FsN9IKN5I8tCRxBJhBIEgEARGRWAUAiLpaABj/scvAPuQvGtUtRfBBIEgEASWSGCpAiLpWACXL7H8Ja4PInlLScbIEwSCQBBYJQJLEZDZR/EbJw4yjUjunHgZIvwgEASCQDGBwQVEUvpIvbk44nFl3EFy67hCimiCQBAIAsMQGExAJD0r7b8YpliDezmc5NcG9xoOg0AQCAJLJDCIgEi6G8AeSyznEK6/TPKxQzgKH0EgCASBMRDoXUAkpRVMG+Yh2TvTDQMzChoEgsCoCfTW2Ul6OIBrR136noILEekJbJgNAkFgVAR6ERBJbwBw+qhKOnwwjyP5b8O7DY9BIAgEgWEIVBcQSemwwpcME/7ovbyK5FmjjzICDAJBIAgUEKgqIJIuAfDUgjhWOcsZJM9c5QJG2YJAENiYBKoJiKRzAWzfmBjNUm8j+R4zVSQIAkEgCEyIQBUBkfQyAO+eULmXEepRJK9ZhuPwGQSCQBDog0BnAZG0BcD/9hHcCtrcTPK+FSxXFCkIBIENSKCGgIxtn8epJM9JdSnpHQBeOaZ6jSW+Y6qNiCUIBIEuBDoJiKTvA+O5V31R5yxpbwB3dIFUOe/3SaZ7T+IJAkEgCEyaQLGASLoCwDEjKv25JH9xUTySPg7gxBHF+haSrx1RPBFKEAgCQSCbQJGAjPBfPaypobEdqWLFm12TkSEIBIEgMDCBUgEZ23eP95Fs3bwo6bMAjh+Yb6u7EJEx1UbEEgSCQC6BbAGR9EEAJ+c66jO9tyMe2ygEwGkkz+6TTdgOAkEgCPRFoERAxjb6uIDkcz2AJO0AcKgn7VBpvOI3VDzhJwgEgSDgJZAlIJK+C+BBXuNDpMvpgCVtAjC2fRifI/mkIViFjyAQBIJATQJuAZGUlp5+r6bzCrYuI5n1XUNSOmI+HTU/midHBEcTdAQSBILAhieQIyCj2vORaq6k4x2pEF5L8ogN3xoDQBAIApMikCMgY/v2cRXJx5TQlnQ1gEeU5O0rT4kY9hVL2A0CQSAIeAi4BETSvQA2ewwOlaZrhzvCFVlvIvm6ofiFn9UhMPu29xwAH2kp1ScAvJDkd1an5P2XRNI+ABK741q8pan9J5D81/4jGpcHr4CMbfTxFZKP7oJS0t0A9uhio3berqJYO54u9iRdDuDYORtHkvxqF5s5eSW9GcCvO/LsRjJNzxY91h+RvupU0v6zQ0xL/9g9muRXigp9/zlzqS7bpl0vJvmMDvZfCOBv2vL3yHYbgPNKYwdwG4AtfR6cWqn/ejuAN5P8WmlZTQGR9HgAV5Y66COf1XAkpatkLyX5mib/s38WY/s3thfJJGyTfSQdAuCGhgJ8l+SefRcud4rSak9t8Q4tIJLSH6erKjI8vKQDWUUBkZSuWziyIttk6sEk/6+mTavNdfD1SJL/lZPfIyBjG31cT/Khnpfa6hgk3Q5g3xxgfae1Yu7bf1f7jsb9RZI/0dWPp/4zfDSeo2bZsMpbsz4tX1asLb/fRDIJv/tZJQGRdAqAD7gLn59wB8mt+dkW5+ixHex0mNNmJycgVuEk/ePcfOXvkvy9poob410mVvlqNcI+7Ej6BoDDLNt9l7HkBSuNyfJVaneeoaQDAHzb4tr195xYV0VAJKW7jNKdRkM8ne8DkpT24aX9eH0/rtmQVgGR9HIA7+o70gz7t5FML1Pjs/6Ftl4KSWl4meaTR/FY8Y4iyIYgrM50LtuXSP5YX2XJiGM+hKLpNctX1/qUlDaZXtYXq3V2byb5EI+vVRCQJV1HsS/J4uslBhQQ10jEEpBRrb6yXkZJnwZwwroXYDvJxg9is4+RVecoPS9gS5r7SJZ+GO3oujy7pHcCeIXXglWXXjuL0lmdeovto0lmfe+zfHUpp6S04TVtfB3i+STJn/E6mrqALEk81vAWL9wYUkBSsFb7tQRkTN8/vkdy95zRx1paC4LVCXhfqlrprHhr+alpp4Dh80j+Xc0Y1mwVxPKDMHLZW75y7c3zsGxXZLeVZDonzv1MWUAk3QlgL3dhe0hY2i5CQAorwwIu6WMATmow/3SSlzS5lvRDAK4vDK16Nqus1R12NCjpqQAa+TaZ76ucHTveK0ke7UVi+Soto2V3fXyWH0k/AuA/c/O1vDOTXMYrKQlHEhDvcy9J8/w/SV8E8ONeoymdVWeLbElKf6LvafPjsZtxruHtJBun+BtHIJLSx+czcoD0mdaCYr1wjvxjOqrF9QGrT945ti32Lbb2INn6MuTEsZa2QzxrJnYn6Tr3zfJltbuGTuI3APyRs+zPInmRM23av3ELgAPTh9guS6qnOgKx6mueY2HdfROAd8VVdvv3jEC8cUv6UQBpy0Pr02avTUCGXJ1glWFPko0rDyT9BYCF19nOGT6KZFrnvfCR9FgAX7ICGej3a0geNZCvTm4K/tHN++vlfvicTqKp8BkvYes0r9fOfBwZ8T+IZPpOmfVIOp9k2qhX/ExRQCT9AQDXaQ8l9Tb3B+b5AD7sgZvrp9YIZC5W8zNFqYCYhj2AaqTJhVzqM+PFLXXhzTeZD+ldP0b2UbeV6nEbyfdYFWb5yi2fpF8C8GeWXwD7LfNYkokKiKtPy62zRXUl6TQAZ1n1mOurBwFJp0WkUyMan6kLyKEkb7QqosbvkkyYNfx4bOQ2LI/NPtIYHWgaNVrHxVxH0tw7khO71anPpnButWx66sDy5bExH4dlb5b2bJKpg1raMzUB8XS8CWZufbVVgPO4kRtIpm+wrqfmFFZyKOmHAbQeZTJpAalZoZ4acr7AHlOd0gxd7pJgJX0BQNuu8vTxMX2Au7n0H05hXOa0kqQkIA827JsjQau95NajZa92J1fCd9bxTOojuqR07tcjjfK+iGTVHem169MjhDltTlLaY9R6od2UBeRRJHdZOVLa6D35JP0cgA950vaZJqcR9BmH8Q/L7KhnnY01dXAeye21ymG9tGtsrXSeztqykVOPkh4HwDrR9UySS1/cMsERiNUGq44+1tqypLQYI13G1/hktpEqq7Dm4uvEZeFHdElpSiEdS7HUJwdszUCtTqGmryZbyyq7t2ySTgTw8Zb0nyG5c1OnpDMB/E6tl8iK0aq/OQF5MYC/tuy11YXXl+Vjxuk/ADxqKE6emJrSOASki3lX3px3xKonAH0t6Ejn9l1nFOhXSL7DU+iaIxAHkxTSPSQbp6GbBOQFAM73FKjHNE8jeWmP9htNS/plAOcsw/eaz5yXYxlxWo1vffxWegDPJ/nRGmWxfM3HZqWdxdN49IqVP6ceLVsplhx7NVhuIAF5Msl0jl71x1Gvnyf5BI9jzzcQj52MNK1LjZsE5A0ATs9wUj2p9aI4KqU1pr7tVwDycJJfr2CnuonZBUb3tRleICBpv0frSQJWnXgLYrWNdQKS3gHzPpCm2HJ8WfFbtgCYpzFYPmr9PqURiKR04nY6ebvxqdX2Fjlw1KtIbvLUjWcE4rHjTWNxaRKQNJx6pddJD+lOJtm4jlrSU9J9Hx39tp7TL+n1AH6/o48u2Y8l+S9dDPSV1zGvuw/JB+z2dZ58vD/J1hfdUybrhV0gbv8OwLoeeeFLnuurLX7LVtpJTrJ1isvDp0aaiQmIubrS6ii7MHPUq3tkOfAI5ACS6XKsZuFtUMw0L5zmh5fyWJXpqRBH4Nkn+zps1kzyXJIX1DRYy5bFv/Tfevpc4v0n1qUjXhSfVaaZv3Ql7N/O+7byWW05xxaAL5A8plY9drEzMQFJh0Sma2mbO0LSvNqilJfVRpJdbzsZcATyYZInW2Ue4wikdSmdpPRPMf1jrPG0bsaSlL6DpO8hy3ieSPKfl+HY6JzTB8G2C70aG57nxF7vi9SDgDwCwNUW79xvOznlcXQ0MQKZqyAvW0lPBPBPKyIgQ9wH8lqSb7HehZ3CtyiRZ9WMx3hJGqtROF6yHLd3kdy7S2eU4ywzbfYJqZn2i5Jb/CvU39dJpmPMi5/SGCWl7zrWXPQDNn6V+mp476wllXeTXOopsmtxT2wEkvYitV7ZYLXb4sZ4/ypEq17N/UZz3M1lvB1ibT04cZHdJgExL7TvEGRkdRDos0E73C9MIulcAK37Nay4PUdpWzas+K0Xtsuy3JnvH3zj6eJrfTksWzv/8fU41WJxnf/dISAXk3xGjs119s0+KIeFg21vI36H7ytI/qSHVU/fQIrOVNvZHhv+CY3qeHMP2FVLk/NyDFV2x4tQK5TXkXxTqTErTkNA3gjgty3faza6+FogIGnTbDp2vfEZS7tYQQG5g2RarVX1kXSQdRIDgNNInu1x7BGQ3GnWLqv72k7jtYZdnvIOnWaXuxzmjq8eOpZO/sbSUawVQlL6hzTYN5ku5e/aqVv5Z0x27gi30uaUQ1K6TyLdK9H2uOenOzVAI/MKCkgvoztJdwHYs9afgkIB8Zxw8DCS/5PbZlZKQFpW/3jmtnPZ9Zo+p+PpNZCZcauj7CGGg0l+q8SuFauHrWUjxZXsWOk8vubLaNlb81vCpWaeCQqIOboD0Lp9oIRf7fosEZAUd+041liskoBsIbnwhFVJ7wXwkpIGsKw8uR1Pn3EOuHTwAcUoZWC9LB67ktImzod15erxlSsg6bIpkr/ZNbYu+ScoIK7VS7n11cbQM/oAcCPJQ7110UFA0sKUaw0/2d+tVkZAjHnt/QC0bojxVuBA6dyrMoaIx/kiVA+l9GWuISDef21WoXPLIClt4PWci+S+NXF9jJLShs1O78PUBCSnPnPrbFEbkJQWEHyqh/ZhCmHLTIz5WSK37FO5kdCqh9b5S0n7APiOaWQ8Cf6bZNqXMIrH6pB7DLLo2lUrXu9LUmPPkddXwSikeM5+js/hJFvvgmiq24kKyFsBvMbRXl33oLewOQ6A61yt3PZROgKZCajrPvicmNoEJB3jkY7zmMRjjECmJiD7krxjDOAlpX9Rxcsxu5YhpzGv+aolIDn/WpvKWRh/WgWWVoN5Hve3IknpWPH1d727l5CuE7lJ3QfibRtzZSw6FcEhrPMYDyT5bU8lz8VfPAKZtWfzeHkAx5NM94SYT+v2fetFNK0PmGCVBKSk0+kLtaMNFB+DLemlAKxrY3dZWWeV1Yo5l69lry2eXF8FHV3KYk55StoBoHGuPTdOR0eZPZ++TqCq7gOZ45ouETNvo5yLxdxsPOuY/wHAk622Of97LvOZn04C4v1T5I0tBCSnxgdK6628vsNx3PmRQtibZFqqWPR4OudcHpbNAnvmBsqmwuf6WteJmnPWRdCbM7kPs5yqgHg70MpcdzFX2i66TGHNiWj6/pW+C7c9t5LcYnGwBMQz3LF85Px+J8k03bTwaesYuoxAjLxDv8RFQ+ccyN60Vkec7JS+CHON2VwnD+BUku77Way4S2K2bPYkIOnk3XTJ1JDPZSSPtxxOWUBGICJdFkB0HoFklH83kq1XHVgC8ioAf2w1ppq/l3bmHQSk9UNtacdRyqSkcyv11ZZPkmeofwnJp3fx3zAv3+kfm1VnJYydx9F3insRR0lDvoPu+0amLiAZnWiX5r0o7yEkbyo1WmMEMit765TmWnzWu2IeYWy9jKUgSv6xSboSwOMX5TUEpO1CmReTfH9TPGMqf23WhoCYIy+rcXnjdTLO+VjsuqvdG9/caCm9+A/JyVeDUal45cSZ0ubEugoCMutIbwFwYC6rwvTFI4+5NlhlBJIhoKeQbLyddmoCku7mvbtAQBpXYVkvjbNzK2xPu2az4qnmyDDkKLf54dYbq6RnAvikFZL3rhAr9i6MLdvry9DF13pbub69/AHcRPKQjPRpZ/MkV2EtKqOklwF4d075M9Nm8235Q1tTQNL0qHlBWVsb9gjICQA+nQmsS/LGHeVtqlk4hdV6qZSk0wCc1aUwmXk7fZDO9NWYXFIS6STWbc9eJBeKeUkcns7R2xlbtrx2GjqbFwF4n7OM1Y9fl5RG4GkkXus5gqS1Q3kXX6skIGuFk5Q4dLpKYEGltPZnuZVYawprrszmTEM6DJLkwpG3KSBtnXZu4Z3pWzfRSVq4GaZkCsvqSCSZ93g7y+RKZsXjMlIhkdUBJxe1Y5V0MQDre8oOklutIlrxd43dsj+L73ySp1ixlv4+O+X1BgCbC20cRfKawrwrNQJZz0DSrwJ4eymb2f3rSTjW77npYPL+rD0ISCpnKq/1bEpHv61P5BWQezs0VCuwXX63XnBJbwPw6vmMBSOQ1rm9JQjn20j+WjasyLDhCUhKIpJGRn/VAiOdpPyc0gMqNypkSWlq7yMA0q2GTU8SivTnJ61g8/yjXxmcLgFZQmf6apJ/0kZZ0qUAnrKWJlNAfovkHxr2Pf+IqzUESzSrOQpDQSAIBIFKBHIEJK0HdqfvGp+nQ5WULn3/YPJlCMjaYYruPRbOaYquxVzL/1WSR9YyFnaCQBAIAkMQcAvCbJicprKGev6c5Cs8ziR9jOTPNqWVlJbx/inJbU572cs1PXab0njEsov9yBsEgkAQ6IOAW0CS8yUc65192FhXSJLStFiaHhvqKTrMbqjgwk8QCAJBoPHPby6agad2qq/2aSuvd1d0LrO29DH6qEkzbAWBIDAkgawRyGwUcgGAxumiPoIfqpMdWhzTSjJrsUAfPMNmEAgCQaAGgWwBmYnI4EvV+haRJYjHoKOrGo0lbASBIBAE5gmUCsgBALIuQqmE/Zkkq+6Kl5SuD03XiA769C2IgxYmnAWBILAhCRQJyGwU0niwYc8kbye5fw0fyxh1zOI+h+SpNcoQNoJAEAgCyyJQLCAzERl0b8g6SDcDSHc6Z911LukwAN9YFnAAxTf4LTHmcB0EgkAQ2IVAJwGZicjg30Ma6vHlAC4ief3875KOALAdwOljqP+YuhpDLUQMQSAI1CBQQ0CW9T2kRvmHtrGZ5H1DOw1/QSAIBIE+CHQWkNkoJOeI6z7KMQWbRcdmT6FgEWMQCAIbk0AVAZmJyF8C+IWNidEs9XaS55mpIkEQCAJBYEIEqgnITEQ+C+D4CZV/iFDfSPL1QzgKH0EgCASBIQlUFZCZiPw9gGcPWYgR+zqD5Jkjji9CCwJBIAgUE6guIDMReScA10m6xZGPP+OzSV44/jAjwiAQBIJAGYFeBGQmIj8F4HNlYU0+V6y2mnwVRgGCQBCwCPQmIGuOl7jb2yp7L7/HPo9esIbRIBAERkigdwGZjUbS3odNIyx/zZC+RfLgmgbDVhAIAkFgzAQGEZCZiPw8gPePGUaH2B5D8qoO+SNrEAgCQWByBAYTkLkprXsA7D45UosD3kFy64qUJYoRBIJAEMgiMLiAzEYjqdP9Zlak40u8P8nbxxdWRBQEgkAQGIbAUgRkbjTyNACfGaao1bwcRvK6atbCUBAIAkFgogSWKiBzQnIsgMtHznC/3KPjR16eCC8IBIEg0InAKARkTkh2A3AbgL07lape5ltJbqlnLiwFgSAQBFaHwKgEZB6rpJMAfBRAEpUhn7sBHEPyy0M6DV9BIAgEgakRGK2ArBOTPQF8CsBxPQG+CMCJJMdyOVZPxQyzQSAIBIF6BCYhIIuKK+kEANtSxw/gICeS9PH7EwDeRfIKZ55IFgSCQBAIAgsITFZAojaDQBAIAkFguQRCQJbLP7wHgSAQBCZLIARkslUXgQeBIBAElkvg/wEDjfbvITsREAAAAABJRU5ErkJggg==\")}.proton-link--anchor .proton-link-countdown{color:#3650a2}.proton-link--proton .proton-link-inner{background:#752eeb;color:white}.proton-link--proton .proton-link-logo{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='49' viewBox='0 0 160 49'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23FFF'%3E%3Cg%3E%3Cpath fill-rule='nonzero' d='M58.895 32.064V27.53h3.547c1.361 0 2.547-.224 3.557-.673 1.01-.449 1.785-1.096 2.323-1.942.539-.845.808-1.836.808-2.974 0-1.152-.269-2.147-.808-2.985-.538-.838-1.313-1.481-2.323-1.93-1.01-.449-2.196-.673-3.557-.673h-6.464v15.711h2.917zm3.412-7.003h-3.412v-6.24h3.412c1.272 0 2.237.27 2.895.809.659.538.988 1.309.988 2.311 0 1.003-.33 1.774-.988 2.312-.658.539-1.623.808-2.895.808zm13.942 7.003v-4.579h3.633c.226-.001.4-.009.519-.022l3.21 4.601h3.142l-3.614-5.162c1.077-.42 1.904-1.055 2.48-1.908.576-.853.864-1.87.864-3.053 0-1.152-.269-2.147-.808-2.985-.538-.838-1.313-1.481-2.323-1.93-1.01-.449-2.195-.673-3.557-.673H73.33v15.711h2.918zm3.411-6.98H76.25v-6.262h3.411c1.272 0 2.237.269 2.896.808.658.538.987 1.309.987 2.311 0 1.003-.329 1.777-.987 2.324-.659.546-1.624.819-2.896.819zm18.7 7.205c1.601 0 3.045-.348 4.332-1.044 1.287-.696 2.297-1.657 3.03-2.884.733-1.227 1.1-2.611 1.1-4.153 0-1.54-.367-2.925-1.1-4.152-.733-1.227-1.743-2.188-3.03-2.884-1.287-.696-2.73-1.044-4.332-1.044-1.601 0-3.045.348-4.332 1.044-1.287.696-2.297 1.66-3.03 2.895-.733 1.235-1.1 2.615-1.1 4.141 0 1.527.367 2.907 1.1 4.141.733 1.235 1.743 2.2 3.03 2.896 1.287.696 2.73 1.044 4.332 1.044zm0-2.56c-1.047 0-1.99-.235-2.828-.706-.838-.471-1.496-1.13-1.975-1.975-.479-.846-.718-1.792-.718-2.84 0-1.047.239-1.993.718-2.839.479-.845 1.137-1.504 1.975-1.975.838-.471 1.78-.707 2.828-.707 1.047 0 1.99.236 2.828.707.838.471 1.496 1.13 1.975 1.975.479.846.718 1.792.718 2.84 0 1.047-.239 1.993-.718 2.839-.479.845-1.137 1.504-1.975 1.975-.838.471-1.78.707-2.828.707zm18.722 2.335V18.822h5.207v-2.47h-13.332v2.47h5.207v13.242h2.918zm15.805.225c1.6 0 3.045-.348 4.332-1.044 1.286-.696 2.296-1.657 3.03-2.884.733-1.227 1.1-2.611 1.1-4.153 0-1.54-.367-2.925-1.1-4.152-.734-1.227-1.744-2.188-3.03-2.884-1.287-.696-2.731-1.044-4.332-1.044s-3.045.348-4.332 1.044c-1.287.696-2.297 1.66-3.03 2.895-.733 1.235-1.1 2.615-1.1 4.141 0 1.527.367 2.907 1.1 4.141.733 1.235 1.743 2.2 3.03 2.896 1.287.696 2.73 1.044 4.332 1.044zm0-2.56c-1.048 0-1.99-.235-2.828-.706-.838-.471-1.497-1.13-1.976-1.975-.478-.846-.718-1.792-.718-2.84 0-1.047.24-1.993.718-2.839.48-.845 1.138-1.504 1.976-1.975.838-.471 1.78-.707 2.828-.707 1.047 0 1.99.236 2.828.707.838.471 1.496 1.13 1.975 1.975.479.846.718 1.792.718 2.84 0 1.047-.24 1.993-.718 2.839-.479.845-1.137 1.504-1.975 1.975-.838.471-1.78.707-2.828.707zm15.737 2.335V21.425l8.663 10.64h2.402V16.352h-2.895v10.639l-8.664-10.64h-2.402v15.712h2.896z' transform='translate(-432 -207) translate(432 207)'/%3E%3Cg%3E%3Cpath d='M21.582 0c3.104 0 5.782 3.222 7.545 8.459-.712.198-1.44.42-2.174.666-1.465-4.331-3.476-6.88-5.37-6.88-2.136 0-4.415 3.232-5.899 8.606.58.187 1.165.386 1.762.606 1.346.495 2.735 1.078 4.15 1.74.081-.038.162-.078.243-.115.907-.417 1.808-.801 2.7-1.154l.32-.125c2.671-1.033 5.252-1.773 7.616-2.165 5.088-.846 8.666.03 10.07 2.466 1.409 2.437.38 5.974-2.898 9.956-.189.228-.38.459-.583.686-.488-.542-1.007-1.083-1.561-1.625 2.891-3.354 4.03-6.285 3.1-7.895-.879-1.523-3.777-2.036-7.76-1.375-.85.142-1.735.333-2.643.57.13.596.25 1.205.357 1.835.246 1.41.436 2.903.57 4.458.7.492 1.384.991 2.04 1.5 2.572 1.99 4.78 4.078 6.48 6.143 3.277 3.982 4.307 7.519 2.899 9.956-1.055 1.83-3.338 2.78-6.567 2.78-1.067 0-2.238-.103-3.504-.315-.328-.054-.661-.115-.997-.182.201-.696.388-1.424.557-2.178.273.055.542.103.808.148 3.98.66 6.881.147 7.76-1.376 1.068-1.85-.6-5.449-4.522-9.428-.391.357-.794.713-1.21 1.066-.062.051-.126.106-.187.154-1.11.93-2.302 1.842-3.561 2.728-.06.704-.13 1.4-.213 2.075-1.225 9.863-4.829 16.632-9.328 16.632-3.097 0-5.771-3.213-7.535-8.436.709-.193 1.434-.417 2.175-.667 1.465 4.319 3.469 6.858 5.36 6.858 2.136 0 4.42-3.243 5.907-8.631-.583-.186-1.17-.383-1.764-.603-1.355-.494-2.738-1.07-4.13-1.716l-.09.042c-.785.366-1.558.706-2.321 1.02-.119.048-.234.096-.35.138-4.392 1.77-8.404 2.687-11.594 2.687-3.177 0-5.534-.911-6.624-2.796-1.559-2.7-.084-6.654 3.607-10.822l1.568 1.654c-2.985 3.419-4.172 6.413-3.23 8.045 1.067 1.849 5.006 2.206 10.402.805-.127-.595-.248-1.202-.355-1.83-.244-1.41-.433-2.898-.569-4.45-.703-.491-1.387-.988-2.035-1.486C3.752 23.42 0 18.312 0 14.51c0-.879.202-1.687.616-2.405C2.168 9.42 6.288 8.712 11.697 9.796c-.205.705-.394 1.442-.564 2.206-4.448-.879-7.632-.408-8.571 1.224-1.067 1.848.594 5.44 4.504 9.413.502-.455 1.022-.907 1.569-1.355 1.053-.871 2.194-1.736 3.407-2.586.061-.706.13-1.403.216-2.08C13.483 6.767 17.087 0 21.582 0zm7.103 31.336c-.54.342-1.087.68-1.645 1.01-.19.113-.379.222-.568.33-.664.382-1.327.75-1.985 1.097-.097.052-.194.1-.29.152.681.288 1.358.558 2.028.807.605.225 1.202.431 1.794.625.132-.615.254-1.248.364-1.904.115-.681.212-1.393.302-2.117zm-14.212-.003c.094.76.203 1.5.325 2.212.105.624.224 1.224.35 1.81.363-.118.73-.24 1.102-.373.112-.039.228-.08.34-.122.766-.276 1.552-.58 2.353-.923l.023-.01c-.759-.397-1.518-.814-2.273-1.25-.039-.023-.08-.045-.12-.071-.72-.418-1.418-.844-2.1-1.273zm7.11-15.65c-.767.373-1.537.765-2.306 1.183-.487.263-.975.535-1.462.817-1.277.738-2.48 1.495-3.615 2.261-.046.654-.086 1.316-.111 1.997-.029.741-.042 1.498-.042 2.267 0 1.476.054 2.897.151 4.263.655.443 1.329.882 2.033 1.313.516.321 1.042.638 1.584.95 1.254.724 2.515 1.39 3.77 2 .08-.04.16-.075.241-.115.834-.41 1.677-.853 2.533-1.328.33-.18.66-.365.99-.558 1.278-.736 2.481-1.493 3.615-2.26.047-.654.087-1.317.112-1.998.029-.74.041-1.497.041-2.267 0-1.475-.054-2.895-.15-4.262-.653-.44-1.326-.88-2.03-1.314-.516-.32-1.045-.634-1.587-.949-1.277-.737-2.535-1.4-3.767-2zm0 5.64c1.593 0 2.885 1.292 2.885 2.885 0 1.594-1.292 2.886-2.886 2.886-1.593 0-2.885-1.292-2.885-2.886 0-1.593 1.292-2.885 2.885-2.885zm9.729.3c.033.847.05 1.71.05 2.585 0 .212 0 .424-.003.635-.007.663-.027 1.315-.052 1.96.578-.436 1.132-.874 1.661-1.312.068-.055.132-.106.196-.16.449-.376.878-.75 1.29-1.123-.378-.34-.77-.683-1.178-1.026-.619-.522-1.278-1.042-1.964-1.56zm-19.454-.006c-.52.392-1.021.785-1.501 1.177-.579.47-1.127.943-1.649 1.416.379.341.771.684 1.18 1.028.62.52 1.279 1.039 1.966 1.557-.034-.847-.051-1.71-.051-2.587 0-.211 0-.423.006-.631.005-.662.024-1.314.049-1.96zm16.158-8.556c-.3.097-.6.198-.903.303-.891.308-1.795.658-2.712 1.042l-.195.084c.75.396 1.507.812 2.266 1.25.039.023.08.045.119.07.717.414 1.414.842 2.1 1.277-.093-.762-.202-1.502-.324-2.216-.107-.623-.226-1.224-.351-1.81zm-12.87 0c-.13.613-.251 1.246-.361 1.9-.117.682-.215 1.391-.305 2.115.684-.432 1.387-.859 2.11-1.278l.103-.058c.757-.437 1.517-.853 2.276-1.25-.688-.29-1.364-.56-2.026-.805-.613-.23-1.21-.435-1.796-.624z' transform='translate(-432 -207) translate(432 207)'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E%0A\")}.proton-link--proton .proton-link-countdown{color:#752eeb}.proton-link--webauth .proton-link-inner{background:#752eeb;color:white}.proton-link--webauth .proton-link-logo{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='49' viewBox='0 0 160 49'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23FFF'%3E%3Cg%3E%3Cpath fill-rule='nonzero' d='M58.895 32.064V27.53h3.547c1.361 0 2.547-.224 3.557-.673 1.01-.449 1.785-1.096 2.323-1.942.539-.845.808-1.836.808-2.974 0-1.152-.269-2.147-.808-2.985-.538-.838-1.313-1.481-2.323-1.93-1.01-.449-2.196-.673-3.557-.673h-6.464v15.711h2.917zm3.412-7.003h-3.412v-6.24h3.412c1.272 0 2.237.27 2.895.809.659.538.988 1.309.988 2.311 0 1.003-.33 1.774-.988 2.312-.658.539-1.623.808-2.895.808zm13.942 7.003v-4.579h3.633c.226-.001.4-.009.519-.022l3.21 4.601h3.142l-3.614-5.162c1.077-.42 1.904-1.055 2.48-1.908.576-.853.864-1.87.864-3.053 0-1.152-.269-2.147-.808-2.985-.538-.838-1.313-1.481-2.323-1.93-1.01-.449-2.195-.673-3.557-.673H73.33v15.711h2.918zm3.411-6.98H76.25v-6.262h3.411c1.272 0 2.237.269 2.896.808.658.538.987 1.309.987 2.311 0 1.003-.329 1.777-.987 2.324-.659.546-1.624.819-2.896.819zm18.7 7.205c1.601 0 3.045-.348 4.332-1.044 1.287-.696 2.297-1.657 3.03-2.884.733-1.227 1.1-2.611 1.1-4.153 0-1.54-.367-2.925-1.1-4.152-.733-1.227-1.743-2.188-3.03-2.884-1.287-.696-2.73-1.044-4.332-1.044-1.601 0-3.045.348-4.332 1.044-1.287.696-2.297 1.66-3.03 2.895-.733 1.235-1.1 2.615-1.1 4.141 0 1.527.367 2.907 1.1 4.141.733 1.235 1.743 2.2 3.03 2.896 1.287.696 2.73 1.044 4.332 1.044zm0-2.56c-1.047 0-1.99-.235-2.828-.706-.838-.471-1.496-1.13-1.975-1.975-.479-.846-.718-1.792-.718-2.84 0-1.047.239-1.993.718-2.839.479-.845 1.137-1.504 1.975-1.975.838-.471 1.78-.707 2.828-.707 1.047 0 1.99.236 2.828.707.838.471 1.496 1.13 1.975 1.975.479.846.718 1.792.718 2.84 0 1.047-.239 1.993-.718 2.839-.479.845-1.137 1.504-1.975 1.975-.838.471-1.78.707-2.828.707zm18.722 2.335V18.822h5.207v-2.47h-13.332v2.47h5.207v13.242h2.918zm15.805.225c1.6 0 3.045-.348 4.332-1.044 1.286-.696 2.296-1.657 3.03-2.884.733-1.227 1.1-2.611 1.1-4.153 0-1.54-.367-2.925-1.1-4.152-.734-1.227-1.744-2.188-3.03-2.884-1.287-.696-2.731-1.044-4.332-1.044s-3.045.348-4.332 1.044c-1.287.696-2.297 1.66-3.03 2.895-.733 1.235-1.1 2.615-1.1 4.141 0 1.527.367 2.907 1.1 4.141.733 1.235 1.743 2.2 3.03 2.896 1.287.696 2.73 1.044 4.332 1.044zm0-2.56c-1.048 0-1.99-.235-2.828-.706-.838-.471-1.497-1.13-1.976-1.975-.478-.846-.718-1.792-.718-2.84 0-1.047.24-1.993.718-2.839.48-.845 1.138-1.504 1.976-1.975.838-.471 1.78-.707 2.828-.707 1.047 0 1.99.236 2.828.707.838.471 1.496 1.13 1.975 1.975.479.846.718 1.792.718 2.84 0 1.047-.24 1.993-.718 2.839-.479.845-1.137 1.504-1.975 1.975-.838.471-1.78.707-2.828.707zm15.737 2.335V21.425l8.663 10.64h2.402V16.352h-2.895v10.639l-8.664-10.64h-2.402v15.712h2.896z' transform='translate(-432 -207) translate(432 207)'/%3E%3Cg%3E%3Cpath d='M21.582 0c3.104 0 5.782 3.222 7.545 8.459-.712.198-1.44.42-2.174.666-1.465-4.331-3.476-6.88-5.37-6.88-2.136 0-4.415 3.232-5.899 8.606.58.187 1.165.386 1.762.606 1.346.495 2.735 1.078 4.15 1.74.081-.038.162-.078.243-.115.907-.417 1.808-.801 2.7-1.154l.32-.125c2.671-1.033 5.252-1.773 7.616-2.165 5.088-.846 8.666.03 10.07 2.466 1.409 2.437.38 5.974-2.898 9.956-.189.228-.38.459-.583.686-.488-.542-1.007-1.083-1.561-1.625 2.891-3.354 4.03-6.285 3.1-7.895-.879-1.523-3.777-2.036-7.76-1.375-.85.142-1.735.333-2.643.57.13.596.25 1.205.357 1.835.246 1.41.436 2.903.57 4.458.7.492 1.384.991 2.04 1.5 2.572 1.99 4.78 4.078 6.48 6.143 3.277 3.982 4.307 7.519 2.899 9.956-1.055 1.83-3.338 2.78-6.567 2.78-1.067 0-2.238-.103-3.504-.315-.328-.054-.661-.115-.997-.182.201-.696.388-1.424.557-2.178.273.055.542.103.808.148 3.98.66 6.881.147 7.76-1.376 1.068-1.85-.6-5.449-4.522-9.428-.391.357-.794.713-1.21 1.066-.062.051-.126.106-.187.154-1.11.93-2.302 1.842-3.561 2.728-.06.704-.13 1.4-.213 2.075-1.225 9.863-4.829 16.632-9.328 16.632-3.097 0-5.771-3.213-7.535-8.436.709-.193 1.434-.417 2.175-.667 1.465 4.319 3.469 6.858 5.36 6.858 2.136 0 4.42-3.243 5.907-8.631-.583-.186-1.17-.383-1.764-.603-1.355-.494-2.738-1.07-4.13-1.716l-.09.042c-.785.366-1.558.706-2.321 1.02-.119.048-.234.096-.35.138-4.392 1.77-8.404 2.687-11.594 2.687-3.177 0-5.534-.911-6.624-2.796-1.559-2.7-.084-6.654 3.607-10.822l1.568 1.654c-2.985 3.419-4.172 6.413-3.23 8.045 1.067 1.849 5.006 2.206 10.402.805-.127-.595-.248-1.202-.355-1.83-.244-1.41-.433-2.898-.569-4.45-.703-.491-1.387-.988-2.035-1.486C3.752 23.42 0 18.312 0 14.51c0-.879.202-1.687.616-2.405C2.168 9.42 6.288 8.712 11.697 9.796c-.205.705-.394 1.442-.564 2.206-4.448-.879-7.632-.408-8.571 1.224-1.067 1.848.594 5.44 4.504 9.413.502-.455 1.022-.907 1.569-1.355 1.053-.871 2.194-1.736 3.407-2.586.061-.706.13-1.403.216-2.08C13.483 6.767 17.087 0 21.582 0zm7.103 31.336c-.54.342-1.087.68-1.645 1.01-.19.113-.379.222-.568.33-.664.382-1.327.75-1.985 1.097-.097.052-.194.1-.29.152.681.288 1.358.558 2.028.807.605.225 1.202.431 1.794.625.132-.615.254-1.248.364-1.904.115-.681.212-1.393.302-2.117zm-14.212-.003c.094.76.203 1.5.325 2.212.105.624.224 1.224.35 1.81.363-.118.73-.24 1.102-.373.112-.039.228-.08.34-.122.766-.276 1.552-.58 2.353-.923l.023-.01c-.759-.397-1.518-.814-2.273-1.25-.039-.023-.08-.045-.12-.071-.72-.418-1.418-.844-2.1-1.273zm7.11-15.65c-.767.373-1.537.765-2.306 1.183-.487.263-.975.535-1.462.817-1.277.738-2.48 1.495-3.615 2.261-.046.654-.086 1.316-.111 1.997-.029.741-.042 1.498-.042 2.267 0 1.476.054 2.897.151 4.263.655.443 1.329.882 2.033 1.313.516.321 1.042.638 1.584.95 1.254.724 2.515 1.39 3.77 2 .08-.04.16-.075.241-.115.834-.41 1.677-.853 2.533-1.328.33-.18.66-.365.99-.558 1.278-.736 2.481-1.493 3.615-2.26.047-.654.087-1.317.112-1.998.029-.74.041-1.497.041-2.267 0-1.475-.054-2.895-.15-4.262-.653-.44-1.326-.88-2.03-1.314-.516-.32-1.045-.634-1.587-.949-1.277-.737-2.535-1.4-3.767-2zm0 5.64c1.593 0 2.885 1.292 2.885 2.885 0 1.594-1.292 2.886-2.886 2.886-1.593 0-2.885-1.292-2.885-2.886 0-1.593 1.292-2.885 2.885-2.885zm9.729.3c.033.847.05 1.71.05 2.585 0 .212 0 .424-.003.635-.007.663-.027 1.315-.052 1.96.578-.436 1.132-.874 1.661-1.312.068-.055.132-.106.196-.16.449-.376.878-.75 1.29-1.123-.378-.34-.77-.683-1.178-1.026-.619-.522-1.278-1.042-1.964-1.56zm-19.454-.006c-.52.392-1.021.785-1.501 1.177-.579.47-1.127.943-1.649 1.416.379.341.771.684 1.18 1.028.62.52 1.279 1.039 1.966 1.557-.034-.847-.051-1.71-.051-2.587 0-.211 0-.423.006-.631.005-.662.024-1.314.049-1.96zm16.158-8.556c-.3.097-.6.198-.903.303-.891.308-1.795.658-2.712 1.042l-.195.084c.75.396 1.507.812 2.266 1.25.039.023.08.045.119.07.717.414 1.414.842 2.1 1.277-.093-.762-.202-1.502-.324-2.216-.107-.623-.226-1.224-.351-1.81zm-12.87 0c-.13.613-.251 1.246-.361 1.9-.117.682-.215 1.391-.305 2.115.684-.432 1.387-.859 2.11-1.278l.103-.058c.757-.437 1.517-.853 2.276-1.25-.688-.29-1.364-.56-2.026-.805-.613-.23-1.21-.435-1.796-.624z' transform='translate(-432 -207) translate(432 207)'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E%0A\")}.proton-link--webauth .proton-link-countdown{color:#752eeb}.proton-link.is-active{display:flex}.proton-link-inner{background-color:white;color:black;margin:20px;position:relative;border-radius:20px;position:relative;box-shadow:0px 4px 100px rgba(0, 0, 0, 0.5);width:360px;transition-property:all;transition-duration:0.5s;transition-timing-function:ease-in-out}.proton-link-nav{height:55px;display:flex;position:relative;border-radius:20px 20px 0px 0px;justify-content:center;align-items:center;padding:0px 16px;background-color:rgba(0, 0, 0, 0.2)}.proton-link-back{width:16px;height:16px;position:absolute;left:16px;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg%3E%3Cg%3E%3Cg%3E%3Cpath d='M0 0L24 0 24 24 0 24z' transform='translate(-348 -152) translate(332 136) translate(16 16)'/%3E%3Cpath fill='rgba(255,255,255, 0.8)' fill-rule='nonzero' d='M16.41 5.791L14.619 4 7 11.619 14.619 19.239 16.41 17.448 10.594 11.619z' transform='translate(-348 -152) translate(332 136) translate(16 16)'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E%0A\");background-size:20px;background-repeat:no-repeat;background-position:50%;border-radius:100%;cursor:pointer}.proton-link-back:hover{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg%3E%3Cg%3E%3Cg%3E%3Cpath d='M0 0L24 0 24 24 0 24z' transform='translate(-348 -152) translate(332 136) translate(16 16)'/%3E%3Cpath fill='rgba(255,255,255, 1)' fill-rule='nonzero' d='M16.41 5.791L14.619 4 7 11.619 14.619 19.239 16.41 17.448 10.594 11.619z' transform='translate(-348 -152) translate(332 136) translate(16 16)'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E%0A\")}.proton-link-header{font-family:\"Circular Std Book\", sans-serif;font-size:16px;line-height:24px}.proton-link-close{width:16px;height:16px;position:absolute;right:16px;background-image:url(\"data:image/svg+xml,%3Csvg width='12' height='12' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M9.66 10.987L6 7.327l-3.66 3.66A1.035 1.035 0 11.876 9.523l3.66-3.66-3.66-3.66A1.035 1.035 0 012.34.737L6 4.398 9.66.739a1.035 1.035 0 111.464 1.464l-3.66 3.66 3.66 3.661a1.035 1.035 0 11-1.464 1.464z' fill='rgba(255,255,255, 0.8)' fill-rule='nonzero'/%3E%3C/svg%3E\");background-size:14px;background-repeat:no-repeat;background-position:50%;border-radius:100%;cursor:pointer}.proton-link-close:hover{background-image:url(\"data:image/svg+xml,%3Csvg width='12' height='12' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M9.66 10.987L6 7.327l-3.66 3.66A1.035 1.035 0 11.876 9.523l3.66-3.66-3.66-3.66A1.035 1.035 0 012.34.737L6 4.398 9.66.739a1.035 1.035 0 111.464 1.464l-3.66 3.66 3.66 3.661a1.035 1.035 0 11-1.464 1.464z' fill='rgba(255,255,255,1)' fill-rule='nonzero'/%3E%3C/svg%3E\")}.proton-link-logo{width:100%;height:50px;background-size:165px;background-repeat:no-repeat;background-position:50%;margin-bottom:20px}.proton-link-logo.loading{border-radius:100%;background-image:url(\"data:image/svg+xml,%3Csvg viewBox='0.5 0.5 45 45' xmlns='http://www.w3.org/2000/svg' stroke='%23fff'%3E%3Cg fill='none' fill-rule='evenodd' transform='translate(1 1)' stroke-width='2'%3E%3Ccircle cx='22' cy='22' r='6' stroke-opacity='0'%3E%3Canimate attributeName='r' begin='1.5s' dur='3s' values='6;22' calcMode='linear' repeatCount='indefinite' /%3E%3Canimate attributeName='stroke-opacity' begin='1.5s' dur='3s' values='1;0' calcMode='linear' repeatCount='indefinite' /%3E%3Canimate attributeName='stroke-width' begin='1.5s' dur='3s' values='2;0' calcMode='linear' repeatCount='indefinite' /%3E%3C/circle%3E%3Ccircle cx='22' cy='22' r='6' stroke-opacity='0'%3E%3Canimate attributeName='r' begin='3s' dur='3s' values='6;22' calcMode='linear' repeatCount='indefinite' /%3E%3Canimate attributeName='stroke-opacity' begin='3s' dur='3s' values='1;0' calcMode='linear' repeatCount='indefinite' /%3E%3Canimate attributeName='stroke-width' begin='3s' dur='3s' values='2;0' calcMode='linear' repeatCount='indefinite' /%3E%3C/circle%3E%3Ccircle cx='22' cy='22' r='8'%3E%3Canimate attributeName='r' begin='0s' dur='1.5s' values='6;1;2;3;4;5;6' calcMode='linear' repeatCount='indefinite' /%3E%3C/circle%3E%3C/g%3E%3C/svg%3E\");width:104px;height:104px;margin:35px auto 35px;background-size:initial}.proton-link-logo.error{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='38' viewBox='0 0 12 38'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23F94E6C' fill-rule='nonzero'%3E%3Cg%3E%3Cpath d='M11.227 35.73c0 .385-.131.708-.392.97-.26.261-.57.391-.929.391H1.981c-.358 0-.667-.13-.929-.392-.261-.261-.392-.584-.392-.97v-7.842c0-.385.131-.708.392-.97.262-.261.57-.391.929-.391h7.925c.358 0 .668.13.929.392.26.26.392.584.392.969v7.843zM11.145 20.293c-.028.275-.173.501-.434.68-.261.18-.585.268-.97.268H2.104c-.385 0-.715-.09-.99-.268-.276-.18-.413-.405-.413-.681L0 1.428C0 1.043.137.754.412.562.77.259 1.1.108 1.403.108h9.081c.303 0 .633.15.991.454.275.192.412.454.412.784l-.742 18.947z' transform='translate(-506 -305) translate(506 305)'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E%0A\");width:104px;height:104px;margin:60px auto 35px;border-radius:100%;background-color:white;background-size:initial}.proton-link-logo.success{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='35' height='26' viewBox='0 0 35 26'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%2312C9A0' fill-rule='nonzero'%3E%3Cpath d='M528.59 316.077c0 .548-.22 1.095-.614 1.489l-18.821 18.821c-.394.394-.941.613-1.488.613s-1.095-.219-1.489-.613l-10.899-10.899c-.393-.394-.612-.94-.612-1.488 0-.547.219-1.094.612-1.488l2.977-2.977c.394-.394.941-.612 1.488-.612s1.094.218 1.488.612l6.435 6.457 14.357-14.38c.394-.393.94-.612 1.488-.612.547 0 1.094.219 1.488.613l2.976 2.976c.394.394.613.941.613 1.488z' transform='translate(-494 -311)'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E%0A\");width:104px;height:104px;margin:60px auto 35px;border-radius:100%;background-color:white;background-size:initial}.proton-link-info{text-align:center}.proton-link-title{font-size:28px;line-height:40px;display:block}.proton-link-request{display:flex;flex-direction:column;padding:20px 55px 40px 55px;border-radius:20px;border-top-left-radius:0;border-top-right-radius:0}.proton-link-hr{margin-top:30px;margin-bottom:10px}.proton-link-footnote{font-family:\"Circular Std Book\", sans-serif;font-size:16px;text-align:center;width:100%;position:absolute;bottom:-30px;left:0;color:white}.proton-link-footnote a{color:white;text-decoration:underline}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGlhbG9nLnN2ZWx0ZSIsIm1hcHBpbmdzIjoiQUFFSSxZQUFBLEFBQUEsQ0FBQSxBQUdJLFdBQUEsQ0FBQSxtQkFBQSxDQUFBLENBQUEsYUFBQSxDQUFBLENBQUEsU0FBQSxDQUFBLENBQUEsa0JBQUEsQ0FBQSxDQUFBLFVBQUEsQ0FBQSxDQUFBLE1BQUEsQ0FBQSxDQUFBLGdCQUFBLENBQUEsQ0FBQSxLQUFBLENBQUEsQ0FBQSxVQUFBLENBRUEsU0FBQSxDQUFBLElBQUEsQ0FDQSxVQUFBLENBQUEsS0FBQSxDQUFBLENBQUEsQ0FBQSxDQUFBLENBQUEsQ0FBQSxDQUFBLENBQUEsQ0FBQSxJQUFBLENBQUEsQ0FDQSxRQUFBLENBQUEsS0FBQSxDQUNBLEdBQUEsQ0FBQSxHQUFBLENBQ0EsSUFBQSxDQUFBLEdBQUEsQ0FDQSxLQUFBLENBQUEsSUFBQSxDQUNBLE1BQUEsQ0FBQSxJQUFBLENBQ0EsT0FBQSxDQUFBLFVBQUEsQ0FDQSxPQUFBLENBQUEsSUFBQSxDQUNBLFdBQUEsQ0FBQSxNQUFBLENBQ0EsZUFBQSxDQUFBLE1BQUEsQUNnRlIsQ0FBQSxBRDlFUSxZQUFBLEFBQUEsQ0FBQSxBQUFBLENBQUEsQUFBQSxDQUFBLEFBQ0ksVUFBQSxDQUFBLFVBQUEsQ0FDQSxXQUFBLENBQUEsQ0FBQSxDQUdKLG1CQUFBLEFBQUEsQ0FBQSxBQUNJLEtBQUEsQ0FBQSxLQUFBLENBQ0EsTUFBQSxDQUFBLE9BQUEsQ0FDQSxVQUFBLENBQUEsTUFBQSxDQUNBLGdCQUFBLENBQUEsV0FBQSxDQUNBLGdCQUFBLENBQUEsSUFBQSxDQUNBLE9BQUEsQ0FBQSxJQUFBLEFDK0VaLENBQUEsQUQ1RVEscUJBQUEsQUFBQSxDQUFBLEFBQ0ksU0FBQSxDQUFBLElBQUEsQ0FDQSxXQUFBLENBQUEsSUFBQSxDQUNBLE9BQUEsQ0FBQSxLQUFBLENBQ0EsVUFBQSxDQUFBLElBQUEsQ0FDQSxVQUFBLENBQUEsTUFBQSxDQUNBLFVBQUEsQ0FBQSxVQUFBLEFDOEVaLENBQUEsQUQxRVksb0JBQUEsQUFBQSxDQUFBLEFBQUEsa0JBQUEsQUFBQSxDQUFBLEFBQ0ksVUFBQSxDQUFBLE9BQUEsQ0FDQSxLQUFBLENBQUEsS0FBQSxBQzRFaEIsQ0FBQSxBRHpFWSxvQkFBQSxBQUFBLENBQUEsQUFBQSxpQkFBQSxBQUFBLENBQUEsQUFDSSxnQkFBQSxDQUFBLElBQUEsbzVQQUFBLENBQUEsQ0FHSixvQkFBQSxBQUFBLENBQUEsQUFBQSxzQkFBQSxBQUFBLENBQUEsQUFDSSxLQUFBLENBQUEsT0FBQSxBQzBFaEIsQ0FBQSxBRHJFWSxvQkFBQSxBQUFBLENBQUEsQUFBQSxrQkFBQSxBQUFBLENBQUEsQUFDSSxVQUFBLENBQUEsT0FBQSxDQUNBLEtBQUEsQ0FBQSxLQUFBLEFDdUVoQixDQUFBLEFEcEVZLG9CQUFBLEFBQUEsQ0FBQSxBQUFBLGlCQUFBLEFBQUEsQ0FBQSxBQUNJLGdCQUFBLENBQUEsSUFBQSxtbk5BQUEsQ0FBQSxDQUdKLG9CQUFBLEFBQUEsQ0FBQSxBQUFBLHNCQUFBLEFBQUEsQ0FBQSxBQUNJLEtBQUEsQ0FBQSxPQUFBLEFDcUVoQixDQUFBLEFEaEVZLHFCQUFBLEFBQUEsQ0FBQSxBQUFBLGtCQUFBLEFBQUEsQ0FBQSxBQUNJLFVBQUEsQ0FBQSxPQUFBLENBQ0EsS0FBQSxDQUFBLEtBQUEsQUNrRWhCLENBQUEsQUQvRFkscUJBQUEsQUFBQSxDQUFBLEFBQUEsaUJBQUEsQUFBQSxDQUFBLEFBQ0ksZ0JBQUEsQ0FBQSxJQUFBLG1uTkFBQSxDQUFBLEFDaUVoQixDQUFBLEFEL0RZLHFCQUFBLEFBQUEsQ0FBQSxBQUFBLHNCQUFBLEFBQUEsQ0FBQSxBQUNJLEtBQUEsQ0FBQSxPQUFBLEFDaUVoQixDQUFBLEFEN0RRLHNCQUFBLEFBQUEsQ0FBQSxBQUNJLE9BQUEsQ0FBQSxJQUFBLEFDK0RaLENBQUEsQUQ1RFEsa0JBQUEsQUFBQSxDQUFBLEFBQ0ksZ0JBQUEsQ0FBQSxLQUFBLENBQ0EsS0FBQSxDQUFBLEtBQUEsQ0FDQSxNQUFBLENBQUEsSUFBQSxDQUNBLFFBQUEsQ0FBQSxRQUFBLENBQ0EsYUFBQSxDQUFBLElBQUEsQ0FDQSxRQUFBLENBQUEsUUFBQSxDQUNBLFVBQUEsQ0FBQSxHQUFBLENBQUEsR0FBQSxDQUFBLEtBQUEsQ0FBQSxLQUFBLENBQUEsQ0FBQSxDQUFBLENBQUEsQ0FBQSxDQUFBLENBQUEsQ0FBQSxDQUFBLEdBQUEsQ0FBQSxDQUNBLEtBQUEsQ0FBQSxLQUFBLENBQ0EsbUJBQUEsQ0FBQSxHQUFBLENBQ0EsbUJBQUEsQ0FBQSxJQUFBLENBQ0EsMEJBQUEsQ0FBQSxXQUFBLEFDOERaLENBQUEsQUQzRFEsZ0JBQUEsQUFBQSxDQUFBLEFBQ0ksTUFBQSxDQUFBLElBQUEsQ0FDQSxPQUFBLENBQUEsSUFBQSxDQUNBLFFBQUEsQ0FBQSxRQUFBLENBQ0EsYUFBQSxDQUFBLElBQUEsQ0FBQSxJQUFBLENBQUEsR0FBQSxDQUFBLEdBQUEsQ0FDQSxlQUFBLENBQUEsTUFBQSxDQUNBLFdBQUEsQ0FBQSxNQUFBLENBQ0EsT0FBQSxDQUFBLEdBQUEsQ0FBQSxJQUFBLENBQ0EsZ0JBQUEsQ0FBQSxLQUFBLENBQUEsQ0FBQSxDQUFBLENBQUEsQ0FBQSxDQUFBLENBQUEsQ0FBQSxDQUFBLEdBQUEsQ0FBQSxBQzZEWixDQUFBLEFEMURRLGlCQUFBLEFBQUEsQ0FBQSxBQUNJLEtBQUEsQ0FBQSxJQUFBLENBQ0EsTUFBQSxDQUFBLElBQUEsQ0FDQSxRQUFBLENBQUEsUUFBQSxDQUNBLElBQUEsQ0FBQSxJQUFBLENBQ0EsZ0JBQUEsQ0FBQSxJQUFBLDhnQkFBQSxDQUFBLENBQ0EsZUFBQSxDQUFBLElBQUEsQ0FDQSxpQkFBQSxDQUFBLFNBQUEsQ0FDQSxtQkFBQSxDQUFBLEdBQUEsQ0FDQSxhQUFBLENBQUEsSUFBQSxDQUNBLE1BQUEsQ0FBQSxPQUFBLEFDNERaLENBQUEsQUQxRFksdUJBQUEsQUFBQSxDQUFBLEFBQ0ksZ0JBQUEsQ0FBQSxJQUFBLDRnQkFBQSxDQUFBLEFDNERoQixDQUFBLEFEeERRLG1CQUFBLEFBQUEsQ0FBQSxBQUNJLFdBQUEsQ0FBQSxtQkFBQSxDQUFBLENBQUEsVUFBQSxDQUNBLFNBQUEsQ0FBQSxJQUFBLENBQ0EsV0FBQSxDQUFBLElBQUEsQUMwRFosQ0FBQSxBRHZEUSxrQkFBQSxBQUFBLENBQUEsQUFDSSxLQUFBLENBQUEsSUFBQSxDQUNBLE1BQUEsQ0FBQSxJQUFBLENBQ0EsUUFBQSxDQUFBLFFBQUEsQ0FDQSxLQUFBLENBQUEsSUFBQSxDQUNBLGdCQUFBLENBQUEsSUFBQSw0V0FBQSxDQUFBLENBQ0EsZUFBQSxDQUFBLElBQUEsQ0FDQSxpQkFBQSxDQUFBLFNBQUEsQ0FDQSxtQkFBQSxDQUFBLEdBQUEsQ0FDQSxhQUFBLENBQUEsSUFBQSxDQUNBLE1BQUEsQ0FBQSxPQUFBLEFDeURaLENBQUEsQUR2RFksd0JBQUEsQUFBQSxDQUFBLEFBQ0ksZ0JBQUEsQ0FBQSxJQUFBLHlXQUFBLENBQUEsQUN5RGhCLENBQUEsQURyRFEsaUJBQUEsQUFBQSxDQUFBLEFBQ0ksS0FBQSxDQUFBLElBQUEsQ0FDQSxNQUFBLENBQUEsSUFBQSxDQUNBLGVBQUEsQ0FBQSxLQUFBLENBQ0EsaUJBQUEsQ0FBQSxTQUFBLENBQ0EsbUJBQUEsQ0FBQSxHQUFBLENBQ0EsYUFBQSxDQUFBLElBQUEsQUN1RFosQ0FBQSxBRHJEWSx5QkFBQSxBQUFBLENBQUEsQUFDSSxhQUFBLENBQUEsSUFBQSxDQUNBLGdCQUFBLENBQUEsSUFBQSxnc0NBQUEsQ0FBQSxDQUNBLEtBQUEsQ0FBQSxLQUFBLENBQ0EsTUFBQSxDQUFBLEtBQUEsQ0FDQSxNQUFBLENBQUEsSUFBQSxDQUFBLElBQUEsQ0FBQSxJQUFBLENBQ0EsZUFBQSxDQUFBLE9BQUEsQUN1RGhCLENBQUEsQURwRFksdUJBQUEsQUFBQSxDQUFBLEFBQ0ksZ0JBQUEsQ0FBQSxJQUFBLHl4QkFBQSxDQUFBLENBQ0EsS0FBQSxDQUFBLEtBQUEsQ0FDQSxNQUFBLENBQUEsS0FBQSxDQUNBLE1BQUEsQ0FBQSxJQUFBLENBQUEsSUFBQSxDQUFBLElBQUEsQ0FDQSxhQUFBLENBQUEsSUFBQSxDQUNBLGdCQUFBLENBQUEsS0FBQSxDQUNBLGVBQUEsQ0FBQSxPQUFBLEFDc0RoQixDQUFBLEFEbkRZLHlCQUFBLEFBQUEsQ0FBQSxBQUNJLGdCQUFBLENBQUEsSUFBQSwwbkJBQUEsQ0FBQSxDQUNBLEtBQUEsQ0FBQSxLQUFBLENBQ0EsTUFBQSxDQUFBLEtBQUEsQ0FDQSxNQUFBLENBQUEsSUFBQSxDQUFBLElBQUEsQ0FBQSxJQUFBLENBQ0EsYUFBQSxDQUFBLElBQUEsQ0FDQSxnQkFBQSxDQUFBLEtBQUEsQ0FDQSxlQUFBLENBQUEsT0FBQSxBQ3FEaEIsQ0FBQSxBRGpEUSxpQkFBQSxBQUFBLENBQUEsQUFDSSxVQUFBLENBQUEsTUFBQSxDQUdKLGtCQUFBLEFBQUEsQ0FBQSxBQUNJLFNBQUEsQ0FBQSxJQUFBLENBQ0EsV0FBQSxDQUFBLElBQUEsQ0FDQSxPQUFBLENBQUEsS0FBQSxBQ2tEWixDQUFBLEFEL0NRLG9CQUFBLEFBQUEsQ0FBQSxBQUNJLE9BQUEsQ0FBQSxJQUFBLENBQ0EsY0FBQSxDQUFBLE1BQUEsQ0FDQSxPQUFBLENBQUEsSUFBQSxDQUFBLElBQUEsQ0FBQSxJQUFBLENBQUEsSUFBQSxDQUNBLGFBQUEsQ0FBQSxJQUFBLENBQ0Esc0JBQUEsQ0FBQSxDQUFBLENBQ0EsdUJBQUEsQ0FBQSxDQUFBLEFDaURaLENBQUEsQUQ5Q1EsZUFBQSxBQUFBLENBQUEsQUFDSSxVQUFBLENBQUEsSUFBQSxDQUNBLGFBQUEsQ0FBQSxJQUFBLEFDZ0RaLENBQUEsQUQ3Q1EscUJBQUEsQUFBQSxDQUFBLEFBQ0ksV0FBQSxDQUFBLG1CQUFBLENBQUEsQ0FBQSxVQUFBLENBQ0EsU0FBQSxDQUFBLElBQUEsQ0FDQSxVQUFBLENBQUEsTUFBQSxDQUNBLEtBQUEsQ0FBQSxJQUFBLENBQ0EsUUFBQSxDQUFBLFFBQUEsQ0FDQSxNQUFBLENBQUEsS0FBQSxDQUNBLElBQUEsQ0FBQSxDQUFBLENBQ0EsS0FBQSxDQUFBLEtBQUEsQUMrQ1osQ0FBQSxBRDdDWSxxQkFBQSxBQUFBLENBQUEsQUFBQSxDQUFBLEFBQUEsQ0FBQSxBQUNJLEtBQUEsQ0FBQSxLQUFBLENBQ0EsZUFBQSxDQUFBLFNBQUEsQUMrQ2hCLENBd0NBIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbImZpbGU6Ly8vVXNlcnMvamFmcmkvV29yay9wcm90b24vcHJvdG9uLXdlYi1zZGsvcGFja2FnZXMvcHJvdG9uLWJyb3dzZXItdHJhbnNwb3J0L3NyYy92aWV3cy9EaWFsb2cuc3ZlbHRlIiwiRGlhbG9nLnN2ZWx0ZSJdfQ== */")}function Ca(t){let e,r,i;const n={c:function(){e=ds("div"),ia(e,"class","proton-link-back"),Ho(e,La,40,16,1131)},m:function(n,o){ta(n,e,o),r||(i=ra(e,"click",t[9],!1,!1,!1),r=!0)},p:Ko,d:function(t){t&&ea(e),r=!1,i()}};return Xs("SvelteRegisterBlock",{block:n,id:Ca.name,type:"if",source:"(40:12) {#if showBackButton}",ctx:t}),n}function Ia(t){let e,r;const i={c:function(){e=ds("span"),r=ps(t[3]),ia(e,"class","proton-link-subtitle"),Ho(e,La,47,16,1421)},m:function(t,i){ta(t,e,i),Ys(e,r)},p:function(t,e){8&e&&na(r,t[3])},d:function(t){t&&ea(e)}};return Xs("SvelteRegisterBlock",{block:i,id:Ia.name,type:"if",source:"(47:12) {#if subtitle}",ctx:t}),i}function Ma(t){let e,r;const i=[t[5]];let n={};for(let s=0;s<i.length;s+=1)n=Zo(n,i[s]);e=new Aa({props:n,$$inline:!0});const o={c:function(){qs(e.$$.fragment)},m:function(t,i){Ws(e,t,i),r=!0},p:function(t,r){const n=32&r?$s(i,[Vs(t[5])]):{};e.$set(n)},i:function(t){r||(js(e.$$.fragment,t),r=!0)},o:function(t){Js(e.$$.fragment,t),r=!1},d:function(t){Ks(e,t)}};return Xs("SvelteRegisterBlock",{block:o,id:Ma.name,type:"if",source:"(51:12) {#if qrData}",ctx:t}),o}function Ta(t){let e,r,i;r=new xa({props:{countDown:t[4]},$$inline:!0});const n={c:function(){e=ds("div"),qs(r.$$.fragment),ia(e,"class","proton-link-info"),Ho(e,La,55,16,1620)},m:function(t,n){ta(t,e,n),Ws(r,e,null),i=!0},p:function(t,e){const i={};16&e&&(i.countDown=t[4]),r.$set(i)},i:function(t){i||(js(r.$$.fragment,t),i=!0)},o:function(t){Js(r.$$.fragment,t),i=!1},d:function(t){t&&ea(e),Ks(r)}};return Xs("SvelteRegisterBlock",{block:n,id:Ta.name,type:"if",source:"(55:12) {#if countDown}",ctx:t}),n}function Ra(t){let e,r,i,n,o,s,a=t[6].text+"";const c={c:function(){e=ds("hr"),r=fs(),i=ds("button"),n=ps(a),ia(e,"class","proton-link-hr"),Ho(e,La,61,16,1780),ia(i,"class","proton-link-button"),Ho(i,La,62,16,1826)},m:function(a,c){ta(a,e,c),ta(a,r,c),ta(a,i,c),Ys(i,n),o||(s=ra(i,"click",t[11],!1,!1,!1),o=!0)},p:function(t,e){64&e&&a!==(a=t[6].text+"")&&na(n,a)},d:function(t){t&&ea(e),t&&ea(r),t&&ea(i),o=!1,s()}};return Xs("SvelteRegisterBlock",{block:c,id:Ra.name,type:"if",source:"(61:12) {#if action}",ctx:t}),c}function za(t){let e,r,i,n;const o={c:function(){e=ds("div"),r=ps("Don't have a wallet? "),i=ds("a"),n=ps("Download it here"),ia(i,"href",t[7]),ia(i,"target","_blank"),ia(i,"rel","noreferrer"),Ho(i,La,67,41,2046),ia(e,"class","proton-link-footnote"),Ho(e,La,66,16,1970)},m:function(t,o){ta(t,e,o),Ys(e,r),Ys(e,i),Ys(i,n)},p:function(t,e){128&e&&ia(i,"href",t[7])},d:function(t){t&&ea(e)}};return Xs("SvelteRegisterBlock",{block:o,id:za.name,type:"if",source:"(66:12) {#if footnoteLink}",ctx:t}),o}function Pa(t){let e,r,i,n,o,s,a,c,l,u,h,d,p,f,m,y,g,w,v=t[1]&&Ca(t),b=t[3]&&Ia(t),Q=t[5]&&Ma(t),B=t[4]&&Ta(t),E=t[6]&&Ra(t),_=t[7]&&za(t);const U={c:function(){e=ds("div"),r=ds("div"),i=ds("div"),v&&v.c(),n=fs(),o=ds("span"),s=ps(t[2]),a=fs(),c=ds("div"),l=fs(),u=ds("div"),b&&b.c(),h=fs(),Q&&Q.c(),d=fs(),B&&B.c(),p=fs(),E&&E.c(),f=fs(),_&&_.c(),ia(o,"class","proton-link-header"),Ho(o,La,42,12,1210),ia(c,"class","proton-link-close"),Ho(c,La,43,12,1270),ia(i,"class","proton-link-nav"),Ho(i,La,38,8,1052),ia(u,"class","proton-link-request"),Ho(u,La,45,8,1344),ia(r,"class","proton-link-inner"),Ho(r,La,37,4,1012),ia(e,"class",m="proton-link"+t[8]),Qs(e,"is-active",t[0]),Ho(e,La,32,0,891)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(m,U){ta(m,e,U),Ys(e,r),Ys(r,i),v&&v.m(i,null),Ys(i,n),Ys(i,o),Ys(o,s),Ys(i,a),Ys(i,c),Ys(r,l),Ys(r,u),b&&b.m(u,null),Ys(u,h),Q&&Q.m(u,null),Ys(u,d),B&&B.m(u,null),Ys(u,p),E&&E.m(u,null),Ys(u,f),_&&_.m(u,null),y=!0,g||(w=[ra(c,"click",t[10],!1,!1,!1),ra(e,"click",ws(gs(t[10])),!1,!1,!0)],g=!0)},p:function(t,[r]){t[1]?v?v.p(t,r):(v=Ca(t),v.c(),v.m(i,n)):v&&(v.d(1),v=null),(!y||4&r)&&na(s,t[2]),t[3]?b?b.p(t,r):(b=Ia(t),b.c(),b.m(u,h)):b&&(b.d(1),b=null),t[5]?Q?(Q.p(t,r),32&r&&js(Q,1)):(Q=Ma(t),Q.c(),js(Q,1),Q.m(u,d)):Q&&(Ps(),Js(Q,1,1,(()=>{Q=null})),Os()),t[4]?B?(B.p(t,r),16&r&&js(B,1)):(B=Ta(t),B.c(),js(B,1),B.m(u,p)):B&&(Ps(),Js(B,1,1,(()=>{B=null})),Os()),t[6]?E?E.p(t,r):(E=Ra(t),E.c(),E.m(u,f)):E&&(E.d(1),E=null),t[7]?_?_.p(t,r):(_=za(t),_.c(),_.m(u,null)):_&&(_.d(1),_=null),(!y||256&r&&m!==(m="proton-link"+t[8]))&&ia(e,"class",m),257&r&&Qs(e,"is-active",t[0])},i:function(t){y||(js(Q),js(B),y=!0)},o:function(t){Js(Q),Js(B),y=!1},d:function(t){t&&ea(e),v&&v.d(),b&&b.d(),Q&&Q.d(),B&&B.d(),E&&E.d(),_&&_.d(),g=!1,Yo(w)}};return Xs("SvelteRegisterBlock",{block:U,id:Pa.name,type:"component",source:"",ctx:t}),U}function Oa(t,e,r){let i,n,{$$slots:o={},$$scope:s}=e;oa("Dialog",o,[]);const a=Us();let{show:c=!1}=e,{showBackButton:l=!1}=e,{walletType:u="proton"}=e,{title:h=""}=e,{subtitle:d=null}=e,{showFootnote:p=!1}=e,{countDown:f=null}=e,{qrData:m=null}=e,{action:y=null}=e;function g(){a("back"),w()}function w(){r(0,c=!1),a("close")}function v(){y&&y.callback&&y.callback()}const b=["show","showBackButton","walletType","title","subtitle","showFootnote","countDown","qrData","action"];return Object.keys(e).forEach((t=>{~b.indexOf(t)||"$$"===t.slice(0,2)||"slot"===t||qo.warn(`<Dialog> was created with unknown prop '${t}'`)})),t.$$set=t=>{"show"in t&&r(0,c=t.show),"showBackButton"in t&&r(1,l=t.showBackButton),"walletType"in t&&r(12,u=t.walletType),"title"in t&&r(2,h=t.title),"subtitle"in t&&r(3,d=t.subtitle),"showFootnote"in t&&r(13,p=t.showFootnote),"countDown"in t&&r(4,f=t.countDown),"qrData"in t&&r(5,m=t.qrData),"action"in t&&r(6,y=t.action)},t.$capture_state=()=>({createEventDispatcher:Us,getFootnoteLink:Qa,CountDown:xa,QrCode:Aa,dispatch:a,show:c,showBackButton:l,walletType:u,title:h,subtitle:d,showFootnote:p,countDown:f,qrData:m,action:y,back:g,close:w,doAction:v,footnoteLink:n,walletTypeClass:i}),t.$inject_state=t=>{"show"in t&&r(0,c=t.show),"showBackButton"in t&&r(1,l=t.showBackButton),"walletType"in t&&r(12,u=t.walletType),"title"in t&&r(2,h=t.title),"subtitle"in t&&r(3,d=t.subtitle),"showFootnote"in t&&r(13,p=t.showFootnote),"countDown"in t&&r(4,f=t.countDown),"qrData"in t&&r(5,m=t.qrData),"action"in t&&r(6,y=t.action),"footnoteLink"in t&&r(7,n=t.footnoteLink),"walletTypeClass"in t&&r(8,i=t.walletTypeClass)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{4096&t.$$.dirty&&r(8,i=` proton-link--${u}`),12288&t.$$.dirty&&r(7,n=p?Qa(u):"")},[c,l,h,d,f,m,y,n,i,g,w,v,u,p]}class ja extends sa{constructor(t){super(t),Hs(this,t,Oa,Pa,es,{show:0,showBackButton:1,walletType:12,title:2,subtitle:3,showFootnote:13,countDown:4,qrData:5,action:6},Da),Xs("SvelteRegisterComponent",{component:this,tagName:"Dialog",options:t,id:Pa.name})}get show(){throw new Error("<Dialog>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set show(t){throw new Error("<Dialog>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get showBackButton(){throw new Error("<Dialog>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set showBackButton(t){throw new Error("<Dialog>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get walletType(){throw new Error("<Dialog>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set walletType(t){throw new Error("<Dialog>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get title(){throw new Error("<Dialog>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set title(t){throw new Error("<Dialog>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get subtitle(){throw new Error("<Dialog>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set subtitle(t){throw new Error("<Dialog>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get showFootnote(){throw new Error("<Dialog>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set showFootnote(t){throw new Error("<Dialog>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get countDown(){throw new Error("<Dialog>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set countDown(t){throw new Error("<Dialog>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get qrData(){throw new Error("<Dialog>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set qrData(t){throw new Error("<Dialog>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get action(){throw new Error("<Dialog>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set action(t){throw new Error("<Dialog>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}class Ja{constructor(t){this.keyPrefix=t}write(t,e){return Wo(this,void 0,void 0,(function*(){localStorage.setItem(this.storageKey(t),e)}))}read(t){return Wo(this,void 0,void 0,(function*(){return localStorage.getItem(this.storageKey(t))}))}remove(t){return Wo(this,void 0,void 0,(function*(){localStorage.removeItem(this.storageKey(t))}))}storageKey(t){return`${this.keyPrefix}-${t}`}}const $a=Symbol();var Va={L:1,M:0,Q:3,H:2},qa={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8};class Wa{constructor(t){this.mode=qa.MODE_8BIT_BYTE,this.data=t}getLength(){return this.data.length}write(t){for(let e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}}class Ka{constructor(){this.buffer=[],this.length=0}get(t){const e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)}put(t,e){for(let r=0;r<e;r++)this.putBit(1==(t>>>e-r-1&1))}getLengthInBits(){return this.length}putBit(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}}const Za={glog:function(t){if(t<1)throw new Error("glog("+t+")");return Za.LOG_TABLE[t]},gexp:function(t){while(t<0)t+=255;while(t>=256)t-=255;return Za.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(let tu=0;tu<8;tu++)Za.EXP_TABLE[tu]=1<<tu;for(let tu=8;tu<256;tu++)Za.EXP_TABLE[tu]=Za.EXP_TABLE[tu-4]^Za.EXP_TABLE[tu-5]^Za.EXP_TABLE[tu-6]^Za.EXP_TABLE[tu-8];for(let tu=0;tu<255;tu++)Za.LOG_TABLE[Za.EXP_TABLE[tu]]=tu;class Ha{constructor(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);let r=0;while(r<t.length&&0==t[r])r++;this.num=new Array(t.length-r+e);for(let i=0;i<t.length-r;i++)this.num[i]=t[i+r]}get(t){return this.num[t]}getLength(){return this.num.length}multiply(t){const e=new Array(this.getLength()+t.getLength()-1);for(let r=0;r<this.getLength();r++)for(let i=0;i<t.getLength();i++)e[r+i]^=Za.gexp(Za.glog(this.get(r))+Za.glog(t.get(i)));return new Ha(e,0)}mod(t){if(this.getLength()-t.getLength()<0)return this;const e=Za.glog(this.get(0))-Za.glog(t.get(0)),r=new Array(this.getLength());for(let i=0;i<this.getLength();i++)r[i]=this.get(i);for(let i=0;i<t.getLength();i++)r[i]^=Za.gexp(Za.glog(t.get(i))+e);return new Ha(r,0).mod(t)}}class Ga{constructor(t,e){this.totalCount=t,this.dataCount=e}static getRSBlocks(t,e){const r=Ga.getRsBlockTable(t,e);if(void 0==r)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);const i=r.length/3,n=[];for(let o=0;o<i;o++){const t=r[3*o+0],e=r[3*o+1],i=r[3*o+2];for(let r=0;r<t;r++)n.push(new Ga(e,i))}return n}static getRsBlockTable(t,e){switch(e){case Va.L:return Ga.RS_BLOCK_TABLE[4*(t-1)+0];case Va.M:return Ga.RS_BLOCK_TABLE[4*(t-1)+1];case Va.Q:return Ga.RS_BLOCK_TABLE[4*(t-1)+2];case Va.H:return Ga.RS_BLOCK_TABLE[4*(t-1)+3];default:return}}}Ga.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];const Xa={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Ya={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){let e=t<<10;while(Ya.getBCHDigit(e)-Ya.getBCHDigit(Ya.G15)>=0)e^=Ya.G15<<Ya.getBCHDigit(e)-Ya.getBCHDigit(Ya.G15);return(t<<10|e)^Ya.G15_MASK},getBCHTypeNumber:function(t){let e=t<<12;while(Ya.getBCHDigit(e)-Ya.getBCHDigit(Ya.G18)>=0)e^=Ya.G18<<Ya.getBCHDigit(e)-Ya.getBCHDigit(Ya.G18);return t<<12|e},getBCHDigit:function(t){let e=0;while(0!=t)e++,t>>>=1;return e},getPatternPosition:function(t){return Ya.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case Xa.PATTERN000:return(e+r)%2==0;case Xa.PATTERN001:return e%2==0;case Xa.PATTERN010:return r%3==0;case Xa.PATTERN011:return(e+r)%3==0;case Xa.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case Xa.PATTERN101:return e*r%2+e*r%3==0;case Xa.PATTERN110:return(e*r%2+e*r%3)%2==0;case Xa.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){let e=new Ha([1],0);for(let r=0;r<t;r++)e=e.multiply(new Ha([1,Za.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case qa.MODE_NUMBER:return 10;case qa.MODE_ALPHA_NUM:return 9;case qa.MODE_8BIT_BYTE:return 8;case qa.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case qa.MODE_NUMBER:return 12;case qa.MODE_ALPHA_NUM:return 11;case qa.MODE_8BIT_BYTE:return 16;case qa.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case qa.MODE_NUMBER:return 14;case qa.MODE_ALPHA_NUM:return 13;case qa.MODE_8BIT_BYTE:return 16;case qa.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){const e=t.getModuleCount();let r=0;for(let o=0;o<e;o++)for(let i=0;i<e;i++){let n=0;const s=t.isDark(o,i);for(let r=-1;r<=1;r++)if(!(o+r<0||e<=o+r))for(let a=-1;a<=1;a++)i+a<0||e<=i+a||0==r&&0==a||s==t.isDark(o+r,i+a)&&n++;n>5&&(r+=3+n-5)}for(let o=0;o<e-1;o++)for(let i=0;i<e-1;i++){let e=0;t.isDark(o,i)&&e++,t.isDark(o+1,i)&&e++,t.isDark(o,i+1)&&e++,t.isDark(o+1,i+1)&&e++,0!=e&&4!=e||(r+=3)}for(let o=0;o<e;o++)for(let i=0;i<e-6;i++)t.isDark(o,i)&&!t.isDark(o,i+1)&&t.isDark(o,i+2)&&t.isDark(o,i+3)&&t.isDark(o,i+4)&&!t.isDark(o,i+5)&&t.isDark(o,i+6)&&(r+=40);for(let o=0;o<e;o++)for(let i=0;i<e-6;i++)t.isDark(i,o)&&!t.isDark(i+1,o)&&t.isDark(i+2,o)&&t.isDark(i+3,o)&&t.isDark(i+4,o)&&!t.isDark(i+5,o)&&t.isDark(i+6,o)&&(r+=40);let i=0;for(let o=0;o<e;o++)for(let r=0;r<e;r++)t.isDark(r,o)&&i++;const n=Math.abs(100*i/e/e-50)/5;return r+=10*n,r}};class tc{constructor(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}addData(t){const e=new Wa(t);this.dataList.push(e),this.dataCache=null}isDark(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]}getModuleCount(){return this.moduleCount}make(){if(this.typeNumber<1){let t=1;for(t=1;t<40;t++){const e=Ga.getRSBlocks(t,this.errorCorrectLevel),r=new Ka;let i=0;for(let t=0;t<e.length;t++)i+=e[t].dataCount;for(let n=0;n<this.dataList.length;n++){const e=this.dataList[n];r.put(e.mode,4),r.put(e.getLength(),Ya.getLengthInBits(e.mode,t)),e.write(r)}if(r.getLengthInBits()<=8*i)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())}makeImpl(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(let r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(let t=0;t<this.moduleCount;t++)this.modules[r][t]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=tc.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)}setupPositionProbePattern(t,e){for(let r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(let i=-1;i<=7;i++)e+i<=-1||this.moduleCount<=e+i||(this.modules[t+r][e+i]=0<=r&&r<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=i&&i<=4)}getBestMaskPattern(){let t=0,e=0;for(let r=0;r<8;r++){this.makeImpl(!0,r);const i=Ya.getLostPoint(this);(0==r||t>i)&&(t=i,e=r)}return e}setupTimingPattern(){for(let t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(let t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)}setupPositionAdjustPattern(){const t=Ya.getPatternPosition(this.typeNumber);for(let e=0;e<t.length;e++)for(let r=0;r<t.length;r++){const i=t[e],n=t[r];if(null==this.modules[i][n])for(let t=-2;t<=2;t++)for(let e=-2;e<=2;e++)this.modules[i+t][n+e]=-2==t||2==t||-2==e||2==e||0==t&&0==e}}setupTypeNumber(t){const e=Ya.getBCHTypeNumber(this.typeNumber);for(let r=0;r<18;r++){const i=!t&&1==(e>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=i}for(let r=0;r<18;r++){const i=!t&&1==(e>>r&1);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=i}}setupTypeInfo(t,e){const r=this.errorCorrectLevel<<3|e,i=Ya.getBCHTypeInfo(r);for(let n=0;n<15;n++){const e=!t&&1==(i>>n&1);n<6?this.modules[n][8]=e:n<8?this.modules[n+1][8]=e:this.modules[this.moduleCount-15+n][8]=e}for(let n=0;n<15;n++){const e=!t&&1==(i>>n&1);n<8?this.modules[8][this.moduleCount-n-1]=e:n<9?this.modules[8][15-n-1+1]=e:this.modules[8][15-n-1]=e}this.modules[this.moduleCount-8][8]=!t}mapData(t,e){let r=-1,i=this.moduleCount-1,n=7,o=0;for(let s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(let r=0;r<2;r++)if(null==this.modules[i][s-r]){let a=!1;o<t.length&&(a=1==(t[o]>>>n&1));const c=Ya.getMask(e,i,s-r);c&&(a=!a),this.modules[i][s-r]=a,n--,-1==n&&(o++,n=7)}if(i+=r,i<0||this.moduleCount<=i){i-=r,r=-r;break}}}static createData(t,e,r){const i=Ga.getRSBlocks(t,e),n=new Ka;for(let s=0;s<r.length;s++){const e=r[s];n.put(e.mode,4),n.put(e.getLength(),Ya.getLengthInBits(e.mode,t)),e.write(n)}let o=0;for(let s=0;s<i.length;s++)o+=i[s].dataCount;if(n.getLengthInBits()>8*o)throw new Error("code length overflow. ("+n.getLengthInBits()+">"+8*o+")");n.getLengthInBits()+4<=8*o&&n.put(0,4);while(n.getLengthInBits()%8!=0)n.putBit(!1);for(;;){if(n.getLengthInBits()>=8*o)break;if(n.put(tc.PAD0,8),n.getLengthInBits()>=8*o)break;n.put(tc.PAD1,8)}return tc.createBytes(n,i)}static createBytes(t,e){let r=0,i=0,n=0;const o=new Array(e.length),s=new Array(e.length);for(let u=0;u<e.length;u++){const a=e[u].dataCount,c=e[u].totalCount-a;i=Math.max(i,a),n=Math.max(n,c),o[u]=new Array(a);for(let e=0;e<o[u].length;e++)o[u][e]=255&t.buffer[e+r];r+=a;const l=Ya.getErrorCorrectPolynomial(c),h=new Ha(o[u],l.getLength()-1),d=h.mod(l);s[u]=new Array(l.getLength()-1);for(let t=0;t<s[u].length;t++){const e=t+d.getLength()-s[u].length;s[u][t]=e>=0?d.get(e):0}}let a=0;for(let u=0;u<e.length;u++)a+=e[u].totalCount;const c=new Array(a);let l=0;for(let u=0;u<i;u++)for(let t=0;t<e.length;t++)u<o[t].length&&(c[l++]=o[t][u]);for(let u=0;u<n;u++)for(let t=0;t<e.length;t++)u<s[t].length&&(c[l++]=s[t][u]);return c}}function ec(t,e="L",r=-1){const i=new tc(r,Va[e]),n=[];i.addData(t),i.make();const o=i.modules,s=o.length;for(const[c,l]of o.entries()){let t;for(const[e,r]of l.entries())r?(t||(t={x:e,y:c,width:0,height:1}),t.width++):(t&&t.width>0&&n.push(t),t=void 0);t&&t.width>0&&n.push(t)}const a=[`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${s} ${s}">`];for(const{x:c,y:l,width:u,height:h}of n)a.push(`<rect x="${c}" y="${l}" width="${u}" height="${h}" />`);return a.push("</svg>"),"data:image/svg+xml;base64,"+btoa(a.join(""))}tc.PAD0=236,tc.PAD1=17;class rc{constructor(t={}){this.options=t,this.requestStatus=!(!1===t.requestStatus),this.requestAccount=t.requestAccount||"",this.walletType=t.walletType||"proton",this.storage=new Ja(t.storagePrefix||"proton-link"),this.showingManual=!1}closeModal(){this.hide(),this.activeCancel&&(this.activeRequest=void 0,this.activeCancel(""),this.activeCancel=void 0)}setupWidget(){if(this.showingManual=!1,!this.Widget){const t=document.createElement("div");document.body.appendChild(t),this.Widget=new ja({target:t}),this.Widget.$on("back",(()=>document.dispatchEvent(new CustomEvent("backToSelector")))),this.Widget.$on("close",(()=>this.closeModal()))}}hide(){this.Widget&&this.Widget.$set({show:!1,title:"",subtitle:null,showFootnote:!1,countDown:null,qrData:null,action:null}),this.clearTimers()}show(){this.Widget&&this.Widget.$set({show:!0})}showDialog(t){this.setupWidget();const e={showBackButton:!t.hideBackButton,walletType:this.walletType,title:t.title||"",subtitle:t.subtitle||"",action:t.action||null,showFootnote:t.showFootnote,countDown:t.content&&t.content.countDown||null,qrData:t.content&&t.content.qrData||null};this.Widget&&this.Widget.$set(Object.assign({},e)),this.show()}displayRequest(t,e,r="",i=!1){const n=t.clone(),o=wa();n.setInfoKey("same_device",!0),n.setInfoKey("return_path",o),this.requestAccount.length>0&&(t.setInfoKey("req_account",this.requestAccount),n.setInfoKey("req_account",this.requestAccount));const s=n.encode(!0,!1),a=t.encode(!0,!1),c=ec(a),l={code:c,link:s};this.showDialog({title:e,showFootnote:t.isIdentity(),subtitle:r,hideBackButton:i,content:{qrData:l}})}showLoading(){return Wo(this,void 0,void 0,(function*(){this.showDialog({title:"Pending...",subtitle:"Preparing request...",hideBackButton:!0,type:"loading"})}))}onRequest(t,e){this.clearTimers(),this.activeRequest=t,this.activeCancel=e;try{this.displayRequest(t,"Scan the QR-Code")}catch(r){e(r)}}onSessionRequest(t,e,r){if(t.metadata.sameDevice&&e.setInfoKey("return_path",wa()),"fallback"===t.type)return this.onRequest(e,r),void(t.metadata.sameDevice&&(window.location.href=e.encode()));this.activeRequest=e,this.activeCancel=r;const i=t.metadata.name;this.clearTimers();const n=t.metadata.timeout||12e4,o=Date.now(),s=t=>{const e=Math.floor((n+t-Date.now())/1e3),r=String(e%60).padStart(2,"0"),i=String(Math.floor(e/60)).padStart(2,"0");return e>0?`${i}:${r}`:"00:00"},a=t=>this.Widget&&this.Widget.$set({countDown:s(t)});this.countdownTimer=setInterval((()=>a(o)),1e3),a(o),this.showDialog({title:"Signing Request",subtitle:`Please open ${i||"linked wallet"} to review the transaction`,content:{countDown:s(o)},hideBackButton:!0,action:{text:"Optional: Sign manually using QR code",callback:()=>{this.clearTimers();const e=new _o("Manual","E_TIMEOUT",t);e[$a]=!0,r(e)}}}),t.metadata.sameDevice&&ga()&&(window.location.href=`${e.getScheme()}://link`)}sendSessionPayload(t,e){return!(!e.metadata.triggerUrl||!e.metadata.sameDevice)&&(!(t.array.length>700)&&(window.location.href=e.metadata.triggerUrl.replace("%s",In.encode(t.array)),!0))}clearTimers(){this.closeTimer&&(clearTimeout(this.closeTimer),this.closeTimer=void 0),this.clearCountdown()}clearCountdown(){this.countdownTimer&&(this.Widget&&this.Widget.$set({countDown:void 0}),clearInterval(this.countdownTimer),this.countdownTimer=void 0)}showRecovery(t,e){if(t.data.info=t.data.info.filter((t=>"return_path"!==t.key)),"channel"===e.type){const r=e;r.addLinkInfo&&r.addLinkInfo(t)}this.displayRequest(t,"Sign manually","",!0),this.showingManual=!0}prepare(t,e){return Wo(this,void 0,void 0,(function*(){return t}))}recoverError(t,e){if(e!==this.activeRequest||"E_DELIVERY"!==t["code"]&&"E_TIMEOUT"!==t["code"]||!t["session"])return!1;if(this.showingManual)return!0;const r=t["session"];return t[$a]?(this.showRecovery(e,r),!0):(this.clearCountdown(),this.showDialog({title:"Unable to reach device",subtitle:t.message||`Unable to deliver the request to ${r.metadata.name||"the linked wallet"}.`,type:"warning",action:{text:"Optional: Sign manually using QR code",callback:()=>this.showRecovery(e,r)}}),!0)}onSuccess(t){t===this.activeRequest&&(this.clearTimers(),this.hide())}onFailure(t,e){t===this.activeRequest&&"E_CANCEL"!==e["code"]?(this.clearTimers(),this.requestStatus?this.showDialog({title:"Transaction Error",subtitle:va(e),hideBackButton:!0,type:"error"}):this.hide()):this.hide()}userAgent(){return`BrowserTransport/${rc.version} ${navigator.userAgent}`}}rc.version="4.2.12";var ic=r(40019);
/**
 * Proton Web SDK v4.2.11
 * undefined
 *
 * @license
 * MIT License
 * 
 * Copyright (c) 2020 jafri
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */function nc(t,e,r,i){function n(t){return t instanceof r?t:new r((function(e){e(t)}))}return new(r||(r=Promise))((function(r,o){function s(t){try{c(i.next(t))}catch(e){o(e)}}function a(t){try{c(i["throw"](t))}catch(e){o(e)}}function c(t){t.done?r(t.value):n(t.value).then(s,a)}c((i=i.apply(t,e||[])).next())}))}const oc=new Map([["modalBackgroundColor","proton-wallet-modal-bgcolor"],["logoBackgroundColor","proton-wallet-color-bglogo"],["optionBackgroundColor","proton-wallet-option-bg"],["optionFontColor","proton-wallet-option-font"],["primaryFontColor","proton-wallet-color-font-primary"],["secondaryFontColor","proton-wallet-color-font-secondary"],["linkColor","proton-wallet-color-link"]]);function sc(){}function ac(t,e,r,i,n){t.__svelte_meta={loc:{file:e,line:r,column:i,char:n}}}function cc(t){return t()}function lc(){return Object.create(null)}function uc(t){t.forEach(cc)}function hc(t){return"function"===typeof t}function dc(t,e){return t!=t?e==e:t!==e||t&&"object"===typeof t||"function"===typeof t}let pc,fc;function mc(t,e){return pc||(pc=document.createElement("a")),pc.href=e,t===pc.href}function yc(t){return 0===Object.keys(t).length}function gc(t,e){t.appendChild(e)}function wc(t,e,r){const i=vc(t);if(!i.getElementById(e)){const t=_c("style");t.id=e,t.textContent=r,bc(i,t)}}function vc(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function bc(t,e){gc(t.head||t,e)}function Qc(t,e,r){t.insertBefore(e,r||null)}function Bc(t){t.parentNode.removeChild(t)}function Ec(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function _c(t){return document.createElement(t)}function Uc(t){return document.createTextNode(t)}function xc(){return Uc(" ")}function Sc(t,e,r,i){return t.addEventListener(e,r,i),()=>t.removeEventListener(e,r,i)}function Fc(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function kc(t){return function(e){e.target===this&&t.call(this,e)}}function Nc(t,e,r){null==r?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function Ac(t){return Array.from(t.childNodes)}function Lc(t,e,r){t.classList[r?"add":"remove"](e)}function Dc(t,e,{bubbles:r=!1,cancelable:i=!1}={}){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,r,i,e),n}function Cc(t){fc=t}function Ic(){if(!fc)throw new Error("Function called outside component initialization");return fc}function Mc(){const t=Ic();return(e,r,{cancelable:i=!1}={})=>{const n=t.$$.callbacks[e];if(n){const o=Dc(e,r,{cancelable:i});return n.slice().forEach((e=>{e.call(t,o)})),!o.defaultPrevented}return!0}}function Tc(t,e){const r=t.$$.callbacks[e.type];r&&r.slice().forEach((t=>t.call(this,e)))}const Rc=[],zc=[],Pc=[],Oc=[],jc=Promise.resolve();let Jc=!1;function $c(){Jc||(Jc=!0,jc.then(Kc))}function Vc(t){Pc.push(t)}const qc=new Set;let Wc=0;function Kc(){const t=fc;do{while(Wc<Rc.length){const t=Rc[Wc];Wc++,Cc(t),Zc(t.$$)}Cc(null),Rc.length=0,Wc=0;while(zc.length)zc.pop()();for(let t=0;t<Pc.length;t+=1){const e=Pc[t];qc.has(e)||(qc.add(e),e())}Pc.length=0}while(Rc.length);while(Oc.length)Oc.pop()();Jc=!1,qc.clear(),Cc(t)}function Zc(t){if(null!==t.fragment){t.update(),uc(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Vc)}}const Hc=new Set;let Gc;function Xc(){Gc={r:0,c:[],p:Gc}}function Yc(){Gc.r||uc(Gc.c),Gc=Gc.p}function tl(t,e){t&&t.i&&(Hc.delete(t),t.i(e))}function el(t,e,r,i){if(t&&t.o){if(Hc.has(t))return;Hc.add(t),Gc.c.push((()=>{Hc.delete(t),i&&(r&&t.d(1),i())})),t.o(e)}else i&&i()}function rl(t){t&&t.c()}function il(t,e,r,i){const{fragment:n,on_mount:o,on_destroy:s,after_update:a}=t.$$;n&&n.m(e,r),i||Vc((()=>{const e=o.map(cc).filter(hc);s?s.push(...e):uc(e),t.$$.on_mount=[]})),a.forEach(Vc)}function nl(t,e){const r=t.$$;null!==r.fragment&&(uc(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function ol(t,e){-1===t.$$.dirty[0]&&(Rc.push(t),$c(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function sl(t,e,r,i,n,o,s,a=[-1]){const c=fc;Cc(t);const l=t.$$={fragment:null,ctx:null,props:o,update:sc,not_equal:n,bound:lc(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:lc(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};s&&s(l.root);let u=!1;if(l.ctx=r?r(t,e.props||{},((e,r,...i)=>{const o=i.length?i[0]:r;return l.ctx&&n(l.ctx[e],l.ctx[e]=o)&&(!l.skip_bound&&l.bound[e]&&l.bound[e](o),u&&ol(t,e)),r})):[],l.update(),u=!0,uc(l.before_update),l.fragment=!!i&&i(l.ctx),e.target){if(e.hydrate){const t=Ac(e.target);l.fragment&&l.fragment.l(t),t.forEach(Bc)}else l.fragment&&l.fragment.c();e.intro&&tl(t.$$.fragment),il(t,e.target,e.anchor,e.customElement),Kc()}Cc(c)}class al{$destroy(){nl(this,1),this.$destroy=sc}$on(t,e){const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(e),()=>{const t=r.indexOf(e);-1!==t&&r.splice(t,1)}}$set(t){this.$$set&&!yc(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function cl(t,e){document.dispatchEvent(Dc(t,Object.assign({version:"3.49.0"},e),{bubbles:!0}))}function ll(t,e){cl("SvelteDOMInsert",{target:t,node:e}),gc(t,e)}function ul(t,e,r){cl("SvelteDOMInsert",{target:t,node:e,anchor:r}),Qc(t,e,r)}function hl(t){cl("SvelteDOMRemove",{node:t}),Bc(t)}function dl(t,e,r,i,n,o){const s=!0===i?["capture"]:i?Array.from(Object.keys(i)):[];n&&s.push("preventDefault"),o&&s.push("stopPropagation"),cl("SvelteDOMAddEventListener",{node:t,event:e,handler:r,modifiers:s});const a=Sc(t,e,r,i);return()=>{cl("SvelteDOMRemoveEventListener",{node:t,event:e,handler:r,modifiers:s}),a()}}function pl(t,e,r){Nc(t,e,r),null==r?cl("SvelteDOMRemoveAttribute",{node:t,attribute:e}):cl("SvelteDOMSetAttribute",{node:t,attribute:e,value:r})}function fl(t,e){e=""+e,t.wholeText!==e&&(cl("SvelteDOMSetData",{node:t,data:e}),t.data=e)}function ml(t){if("string"!==typeof t&&(!t||"object"!==typeof t||!("length"in t))){let e="{#each} only iterates over array-like objects.";throw"function"===typeof Symbol&&t&&Symbol.iterator in t&&(e+=" You can use a spread to convert this iterable into an array."),new Error(e)}}function yl(t,e,r){for(const i of Object.keys(e))~r.indexOf(i)||ic.warn(`<${t}> received an unexpected slot "${i}".`)}class gl extends al{constructor(t){if(!t||!t.target&&!t.$$inline)throw new Error("'target' is a required option");super()}$destroy(){super.$destroy(),this.$destroy=()=>{ic.warn("Component was already destroyed")}}$capture_state(){}$inject_state(){}}const wl="src/views/Header.svelte";function vl(t){wc(t,"svelte-m77c1p",'.wallet-selector-connect-header{display:flex;flex-direction:column;align-items:center}.wallet-selector-logo{width:100px;height:100px;background:var(--proton-wallet-color-bglogo, var(--color-logo-bgdefault))}.wallet-selector-logo.is-rounded{width:120px;height:120px;padding:10px;margin-bottom:10px;border:1px solid rgba(161, 165, 176, 0.23);border-radius:50%}.wallet-selector-title{font-size:16px;font-family:"Circular Std Book", sans-serif;line-height:24px;color:var(--proton-wallet-color-font-primary, var(--color-font-primary));text-align:center}.wallet-selector-subtitle{font-size:16px;font-family:"Circular Std Book", sans-serif;line-height:24px;color:var(--proton-wallet-color-font-secondary, var(--color-font-secondary));text-align:center}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSGVhZGVyLnN2ZWx0ZSIsIm1hcHBpbmdzIjoiQUFFSSwrQkFBQSxBQUFBLENBQUEsQUFDRSxPQUFBLENBQUEsSUFBQSxDQUNBLGNBQUEsQ0FBQSxNQUFBLENBQ0EsV0FBQSxDQUFBLE1BQUEsQUNrQk4sQ0FBQSxBRGZJLHFCQUFBLEFBQUEsQ0FBQSxBQUNFLEtBQUEsQ0FBQSxLQUFBLENBQ0EsTUFBQSxDQUFBLEtBQUEsQ0FDQSxVQUFBLENBQUEsSUFBQSw0QkFBQSxDQUFBLDRCQUFBLENBQUEsQUNpQk4sQ0FBQSxBRFpNLGdDQUFBLEFBQUEsQ0FBQSxBQUNFLEtBQUEsQ0FBQSxLQUFBLENBQ0EsTUFBQSxDQUFBLEtBQUEsQ0FDQSxPQUFBLENBQUEsSUFBQSxDQUNBLGFBQUEsQ0FBQSxJQUFBLENBQ0EsTUFBQSxDQUFBLEdBQUEsQ0FBQSxLQUFBLENBQUEsS0FBQSxHQUFBLENBQUEsQ0FBQSxHQUFBLENBQUEsQ0FBQSxHQUFBLENBQUEsQ0FBQSxJQUFBLENBQUEsQ0FDQSxhQUFBLENBQUEsR0FBQSxBQ2NSLENBQUEsQURWSSxzQkFBQSxBQUFBLENBQUEsQUFDRSxTQUFBLENBQUEsSUFBQSxDQUNBLFdBQUEsQ0FBQSxtQkFBQSxDQUFBLENBQUEsVUFBQSxDQUNBLFdBQUEsQ0FBQSxJQUFBLENBQ0EsS0FBQSxDQUFBLElBQUEsa0NBQUEsQ0FBQSwwQkFBQSxDQUFBLENBQ0EsVUFBQSxDQUFBLE1BQUEsQUNZTixDQUFBLEFEVEkseUJBQUEsQUFBQSxDQUFBLEFBQ0UsU0FBQSxDQUFBLElBQUEsQ0FDQSxXQUFBLENBQUEsbUJBQUEsQ0FBQSxDQUFBLFVBQUEsQ0FDQSxXQUFBLENBQUEsSUFBQSxDQUNBLEtBQUEsQ0FBQSxJQUFBLG9DQUFBLENBQUEsNEJBQUEsQ0FBQSxDQUlBLFVBQUEsQ0FBQSxNQUFBLEFDUU4sQ0FjQSIsIm5hbWVzIjpbXSwic291cmNlcyI6WyJmaWxlOi8vL1VzZXJzL2phZnJpL1dvcmsvcHJvdG9uL3Byb3Rvbi13ZWItc2RrL3BhY2thZ2VzL3Byb3Rvbi13ZWItc2RrL3NyYy92aWV3cy9IZWFkZXIuc3ZlbHRlIiwiSGVhZGVyLnN2ZWx0ZSJdfQ== */')}function bl(t){let e,r;const i={c:function(){e=_c("img"),pl(e,"class","wallet-selector-logo"),mc(e.src,r=t[1])||pl(e,"src",r),pl(e,"alt","app-logo"),Lc(e,"is-rounded",t[0]),ac(e,wl,8,4,194)},m:function(t,r){ul(t,e,r)},p:function(t,i){2&i&&!mc(e.src,r=t[1])&&pl(e,"src",r),1&i&&Lc(e,"is-rounded",t[0])},d:function(t){t&&hl(e)}};return cl("SvelteRegisterBlock",{block:i,id:bl.name,type:"if",source:"(8:2) {#if logo}",ctx:t}),i}function Ql(t){let e,r;const i={c:function(){e=_c("span"),r=Uc(t[2]),pl(e,"class","wallet-selector-title"),ac(e,wl,14,13,334)},m:function(t,i){ul(t,e,i),ll(e,r)},p:function(t,e){4&e&&fl(r,t[2])},d:function(t){t&&hl(e)}};return cl("SvelteRegisterBlock",{block:i,id:Ql.name,type:"if",source:"(15:2) {#if title}",ctx:t}),i}function Bl(t){let e,r;const i={c:function(){e=_c("span"),r=Uc(t[3]),pl(e,"class","wallet-selector-subtitle"),ac(e,wl,15,16,406)},m:function(t,i){ul(t,e,i),ll(e,r)},p:function(t,e){8&e&&fl(r,t[3])},d:function(t){t&&hl(e)}};return cl("SvelteRegisterBlock",{block:i,id:Bl.name,type:"if",source:"(16:2) {#if subtitle}",ctx:t}),i}function El(t){let e,r,i,n=t[1]&&bl(t),o=t[2]&&Ql(t),s=t[3]&&Bl(t);const a={c:function(){e=_c("div"),n&&n.c(),r=xc(),o&&o.c(),i=xc(),s&&s.c(),pl(e,"class","wallet-selector-connect-header"),ac(e,wl,6,0,132)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,a){ul(t,e,a),n&&n.m(e,null),ll(e,r),o&&o.m(e,null),ll(e,i),s&&s.m(e,null)},p:function(t,[a]){t[1]?n?n.p(t,a):(n=bl(t),n.c(),n.m(e,r)):n&&(n.d(1),n=null),t[2]?o?o.p(t,a):(o=Ql(t),o.c(),o.m(e,i)):o&&(o.d(1),o=null),t[3]?s?s.p(t,a):(s=Bl(t),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i:sc,o:sc,d:function(t){t&&hl(e),n&&n.d(),o&&o.d(),s&&s.d()}};return cl("SvelteRegisterBlock",{block:a,id:El.name,type:"component",source:"",ctx:t}),a}function _l(t,e,r){let{$$slots:i={},$$scope:n}=e;yl("Header",i,[]);let{isLogoRound:o=!1}=e,{logo:s=""}=e,{title:a=""}=e,{subtitle:c=""}=e;const l=["isLogoRound","logo","title","subtitle"];return Object.keys(e).forEach((t=>{~l.indexOf(t)||"$$"===t.slice(0,2)||"slot"===t||ic.warn(`<Header> was created with unknown prop '${t}'`)})),t.$$set=t=>{"isLogoRound"in t&&r(0,o=t.isLogoRound),"logo"in t&&r(1,s=t.logo),"title"in t&&r(2,a=t.title),"subtitle"in t&&r(3,c=t.subtitle)},t.$capture_state=()=>({isLogoRound:o,logo:s,title:a,subtitle:c}),t.$inject_state=t=>{"isLogoRound"in t&&r(0,o=t.isLogoRound),"logo"in t&&r(1,s=t.logo),"title"in t&&r(2,a=t.title),"subtitle"in t&&r(3,c=t.subtitle)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[o,s,a,c]}class Ul extends gl{constructor(t){super(t),sl(this,t,_l,El,dc,{isLogoRound:0,logo:1,title:2,subtitle:3},vl),cl("SvelteRegisterComponent",{component:this,tagName:"Header",options:t,id:El.name})}get isLogoRound(){throw new Error("<Header>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set isLogoRound(t){throw new Error("<Header>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get logo(){throw new Error("<Header>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set logo(t){throw new Error("<Header>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get title(){throw new Error("<Header>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set title(t){throw new Error("<Header>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get subtitle(){throw new Error("<Header>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set subtitle(t){throw new Error("<Header>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const xl="src/views/Footer.svelte";function Sl(t){wc(t,"svelte-6pib6l",'.wallet-selector-footnote{margin-top:5px;display:flex;justify-content:space-between;position:relative;font-family:"Circular Std Book", sans-serif;font-size:16px;text-align:center;color:white !important;height:50px;width:360px}.wallet-selector-footnote a{color:#ffffff !important;width:170px}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRm9vdGVyLnN2ZWx0ZSIsIm1hcHBpbmdzIjoiQUFDRSx5QkFBQSxBQUFBLENBQUEsQUFDRSxVQUFBLENBQUEsR0FBQSxDQUNBLE9BQUEsQ0FBQSxJQUFBLENBQ0EsZUFBQSxDQUFBLGFBQUEsQ0FDQSxRQUFBLENBQUEsUUFBQSxDQUNBLFdBQUEsQ0FBQSxtQkFBQSxDQUFBLENBQUEsVUFBQSxDQUNBLFNBQUEsQ0FBQSxJQUFBLENBQ0EsVUFBQSxDQUFBLE1BQUEsQ0FDQSxLQUFBLENBQUEsS0FBQSxDQUFBLFVBQUEsQ0FFQSxNQUFBLENBQUEsSUFBQSxDQUNBLEtBQUEsQ0FBQSxLQUFBLEFDc0JKLENBQUEsQURwQkkseUJBQUEsQUFBQSxDQUFBLEFBQUEsQ0FBQSxBQUFBLENBQUEsQUFDRSxLQUFBLENBQUEsT0FBQSxDQUFBLFVBQUEsQ0FDQSxLQUFBLENBQUEsS0FBQSxBQ3NCTixDQUlBIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbImZpbGU6Ly8vVXNlcnMvamFmcmkvV29yay9wcm90b24vcHJvdG9uLXdlYi1zZGsvcGFja2FnZXMvcHJvdG9uLXdlYi1zZGsvc3JjL3ZpZXdzL0Zvb3Rlci5zdmVsdGUiLCJGb290ZXIuc3ZlbHRlIl19 */')}function Fl(t){let e,r,i,n,o,s,a,c;const l={c:function(){e=_c("div"),r=_c("a"),i=_c("img"),o=xc(),s=_c("a"),a=_c("img"),pl(i,"alt","Download on the App Store"),mc(i.src,n="https://proton.org/static/719169dd7ea5089ae32be4dcae845078/DownloadApple.svg")||pl(i,"src",n),ac(i,xl,6,4,151),pl(r,"href","https://apps.apple.com/us/app/webauth-com/id1594500069"),pl(r,"id","iOS"),pl(r,"target","_blank"),ac(r,xl,1,2,41),pl(a,"alt","Get it on Google Play"),mc(a.src,c="https://proton.org/static/b36e63520d1db11b0ce4989b73866ae0/DownloadGoogleEN.svg")||pl(a,"src",c),ac(a,xl,16,4,427),pl(s,"href","https://play.google.com/store/apps/details?id=com.metallicus.webauth"),pl(s,"id","Android"),pl(s,"target","_blank"),ac(s,xl,11,2,299),pl(e,"class","wallet-selector-footnote"),ac(e,xl,0,0,0)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,n){ul(t,e,n),ll(e,r),ll(r,i),ll(e,o),ll(e,s),ll(s,a)},p:sc,i:sc,o:sc,d:function(t){t&&hl(e)}};return cl("SvelteRegisterBlock",{block:l,id:Fl.name,type:"component",source:"",ctx:t}),l}function kl(t,e){let{$$slots:r={},$$scope:i}=e;yl("Footer",r,[]);const n=[];return Object.keys(e).forEach((t=>{~n.indexOf(t)||"$$"===t.slice(0,2)||"slot"===t||ic.warn(`<Footer> was created with unknown prop '${t}'`)})),[]}class Nl extends gl{constructor(t){super(t),sl(this,t,kl,Fl,dc,{},Sl),cl("SvelteRegisterComponent",{component:this,tagName:"Footer",options:t,id:Fl.name})}}const Al="src/views/Wallet.svelte";function Ll(t){wc(t,"svelte-1fb7dp3",".wallet-selector-wallet{background:var(--proton-wallet-option-bg, var(--color-option-bg));display:flex;align-items:center;padding:20px 20px 20px 16px;border:1px solid rgba(161, 165, 176, 0.23)}.wallet-selector-wallet:hover{cursor:pointer}.wallet-selector-wallet:hover .wallet-selector-right-arrow{background-image:url(\"data:image/svg+xml,%3Csvg aria-hidden='true' focusable='false' data-prefix='fas' data-icon='chevron-right' class='svg-inline--fa fa-chevron-right fa-w-10' role='img' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 320 512'%3E%3Cpath fill='rgba(161, 165, 176, 1)' d='M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z'%3E%3C/path%3E%3C/svg%3E\")}.wallet-selector-wallet+.wallet-selector-wallet{margin-top:8px}.wallet-selector-logo{width:40px;height:40px;background-repeat:no-repeat;background-position:50%;background-size:30px}.wallet-selector-logo--proton{background-image:url(\"data:image/svg+xml,%3Csvg aria-hidden='true' focusable='false' data-prefix='fas' data-icon='mobile-android-alt' style='color: %23752EEB;' role='img' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 320 512'%3E%3Cpath fill='currentColor' d='M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zm-64 452c0 6.6-5.4 12-12 12h-72c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v8zm64-80c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v312z'%3E%3C/path%3E%3C/svg%3E\");background-size:20px}.wallet-selector-logo--webauth{background-image:url(\"data:image/svg+xml,%3Csvg aria-hidden='true' focusable='false' data-prefix='far' data-icon='browser' style='color: %23752EEB;' role='img' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='currentColor' d='M464 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM48 92c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v24c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V92zm416 334c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V168h416v258zm0-310c0 6.6-5.4 12-12 12H172c-6.6 0-12-5.4-12-12V92c0-6.6 5.4-12 12-12h280c6.6 0 12 5.4 12 12v24z'%3E%3C/path%3E%3C/svg%3E\")}.wallet-selector-logo--anchor{background-image:url(\"data:image/svg+xml,%3Csvg aria-hidden='true' focusable='false' data-prefix='fas' data-icon='desktop' style='color: %23752EEB;' role='img' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 576 512'%3E%3Cpath fill='currentColor' d='M528 0H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h192l-16 48h-72c-13.3 0-24 10.7-24 24s10.7 24 24 24h272c13.3 0 24-10.7 24-24s-10.7-24-24-24h-72l-16-48h192c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zm-16 352H64V64h448v288z'%3E%3C/path%3E%3C/svg%3E\")}.wallet-selector-wallet-name{font-family:\"Circular Std Book\", sans-serif;font-size:16px;line-height:24px;color:var(--proton-wallet-option-font, var(--color-option-font));margin-left:20px}.wallet-selector-right-arrow{background-image:url(\"data:image/svg+xml,%3Csvg aria-hidden='true' focusable='false' data-prefix='fas' data-icon='chevron-right' class='svg-inline--fa fa-chevron-right fa-w-10' role='img' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 320 512'%3E%3Cpath fill='rgba(161, 165, 176, 0.7)' d='M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z'%3E%3C/path%3E%3C/svg%3E\");width:10px;height:20px;background-size:10px;background-repeat:no-repeat;background-position:50%;margin-left:auto}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiV2FsbGV0LnN2ZWx0ZSIsIm1hcHBpbmdzIjoiQUFFSSx1QkFBQSxBQUFBLENBQUEsQUFDRSxVQUFBLENBQUEsSUFBQSx5QkFBQSxDQUFBLHVCQUFBLENBQUEsQ0FDQSxPQUFBLENBQUEsSUFBQSxDQUNBLFdBQUEsQ0FBQSxNQUFBLENBQ0EsT0FBQSxDQUFBLElBQUEsQ0FBQSxJQUFBLENBQUEsSUFBQSxDQUFBLElBQUEsQ0FDQSxNQUFBLENBQUEsR0FBQSxDQUFBLEtBQUEsQ0FBQSxLQUFBLEdBQUEsQ0FBQSxDQUFBLEdBQUEsQ0FBQSxDQUFBLEdBQUEsQ0FBQSxDQUFBLElBQUEsQ0FBQSxBQ3NCTixDQUFBLEFEcEJNLDZCQUFBLEFBQUEsQ0FBQSxBQUNFLE1BQUEsQ0FBQSxPQUFBLEFDc0JSLENBQUEsQURwQlEsNkJBQUEsQUFBQSxDQUFBLEFBQUEsNEJBQUEsQUFBQSxDQUFBLEFBQ0UsZ0JBQUEsQ0FBQSxJQUFBLDhqQkFBQSxDQUFBLEFDc0JWLENBQUEsQURsQk0sdUJBQUEsQUFBQSxDQUFBLHVCQUFBLEFBQUEsQ0FBQSxBQUNFLFVBQUEsQ0FBQSxHQUFBLEFDb0JSLENBQUEsQURoQkkscUJBQUEsQUFBQSxDQUFBLEFBQ0UsS0FBQSxDQUFBLElBQUEsQ0FDQSxNQUFBLENBQUEsSUFBQSxDQUNBLGlCQUFBLENBQUEsU0FBQSxDQUNBLG1CQUFBLENBQUEsR0FBQSxDQUNBLGVBQUEsQ0FBQSxJQUFBLEFDa0JOLENBQUEsQURoQk0sNkJBQUEsQUFBQSxDQUFBLEFBQ0UsZ0JBQUEsQ0FBQSxJQUFBLHFqQkFBQSxDQUFBLENBQ0EsZUFBQSxDQUFBLElBQUEsQUNrQlIsQ0FBQSxBRGZNLDhCQUFBLEFBQUEsQ0FBQSxBQUNFLGdCQUFBLENBQUEsSUFBQSxtbUJBQUEsQ0FBQSxBQ2lCUixDQUFBLEFEZE0sNkJBQUEsQUFBQSxDQUFBLEFBQ0UsZ0JBQUEsQ0FBQSxJQUFBLG1lQUFBLENBQUEsQUNnQlIsQ0FBQSxBRFpJLDRCQUFBLEFBQUEsQ0FBQSxBQUNFLFdBQUEsQ0FBQSxtQkFBQSxDQUFBLENBQUEsVUFBQSxDQUNBLFNBQUEsQ0FBQSxJQUFBLENBQ0EsV0FBQSxDQUFBLElBQUEsQ0FDQSxLQUFBLENBQUEsSUFBQSwyQkFBQSxDQUFBLHlCQUFBLENBQUEsQ0FDQSxXQUFBLENBQUEsSUFBQSxBQ2NOLENBQUEsQURYSSw0QkFBQSxBQUFBLENBQUEsQUFDRSxnQkFBQSxDQUFBLElBQUEsZ2tCQUFBLENBQUEsQ0FDQSxLQUFBLENBQUEsSUFBQSxDQUNBLE1BQUEsQ0FBQSxJQUFBLENBQ0EsZUFBQSxDQUFBLElBQUEsQ0FDQSxpQkFBQSxDQUFBLFNBQUEsQ0FDQSxtQkFBQSxDQUFBLEdBQUEsQ0FDQSxXQUFBLENBQUEsSUFBQSxBQ2FOLENBYUEiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiZmlsZTovLy9Vc2Vycy9qYWZyaS9Xb3JrL3Byb3Rvbi9wcm90b24td2ViLXNkay9wYWNrYWdlcy9wcm90b24td2ViLXNkay9zcmMvdmlld3MvV2FsbGV0LnN2ZWx0ZSIsIldhbGxldC5zdmVsdGUiXX0= */")}function Dl(t){let e,r,i,n,o,s,a,c,l,u,h=t[0].value+"";const d={c:function(){e=_c("li"),r=_c("div"),n=xc(),o=_c("span"),s=Uc(h),a=xc(),c=_c("div"),pl(r,"class",i="wallet-selector-logo"+t[1]),ac(r,Al,12,2,391),pl(o,"class","wallet-selector-wallet-name"),ac(o,Al,13,2,447),pl(c,"class","wallet-selector-right-arrow"),ac(c,Al,14,2,513),pl(e,"class","wallet-selector-wallet"),ac(e,Al,11,0,313)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(i,h){ul(i,e,h),ll(e,r),ll(e,n),ll(e,o),ll(o,s),ll(e,a),ll(e,c),l||(u=dl(e,"click",Fc(t[2]),!1,!1,!0),l=!0)},p:function(t,[e]){2&e&&i!==(i="wallet-selector-logo"+t[1])&&pl(r,"class",i),1&e&&h!==(h=t[0].value+"")&&fl(s,h)},i:sc,o:sc,d:function(t){t&&hl(e),l=!1,u()}};return cl("SvelteRegisterBlock",{block:d,id:Dl.name,type:"component",source:"",ctx:t}),d}function Cl(t,e,r){let i,{$$slots:n={},$$scope:o}=e;yl("Wallet",n,[]);const s=Mc();let{wallet:a}=e;function c(){s("select-wallet",{walletName:a.key})}const l=["wallet"];return Object.keys(e).forEach((t=>{~l.indexOf(t)||"$$"===t.slice(0,2)||"slot"===t||ic.warn(`<Wallet> was created with unknown prop '${t}'`)})),t.$$set=t=>{"wallet"in t&&r(0,a=t.wallet)},t.$capture_state=()=>({createEventDispatcher:Mc,dispatch:s,wallet:a,selectWallet:c,walletTypeClass:i}),t.$inject_state=t=>{"wallet"in t&&r(0,a=t.wallet),"walletTypeClass"in t&&r(1,i=t.walletTypeClass)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{1&t.$$.dirty&&r(1,i=` wallet-selector-logo--${a.key.toLowerCase()}`)},[a,i,c]}class Il extends gl{constructor(t){super(t),sl(this,t,Cl,Dl,dc,{wallet:0},Ll),cl("SvelteRegisterComponent",{component:this,tagName:"Wallet",options:t,id:Dl.name});const{ctx:e}=this.$$,r=t.props||{};void 0!==e[0]||"wallet"in r||ic.warn("<Wallet> was created without expected prop 'wallet'")}get wallet(){throw new Error("<Wallet>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set wallet(t){throw new Error("<Wallet>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Ml="src/views/Dialog.svelte";function Tl(t){wc(t,"svelte-18oz4ly",".wallet-selector{--color-font-primary:black;--color-font-secondary:#a1a5b0;--color-link:#00aaef;--color-bgdefault:#ffffff;--color-logo-bgdefault:transparent;--color-option-bg:transparent;--color-option-font:#000531;font-family:\"Circular Std Book\", -apple-system, system-ui, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif;font-size:13px;background:rgba(0, 0, 0, 0.65);position:fixed;top:0px;left:0px;width:100%;height:100%;z-index:2147483647;display:none;align-items:center;justify-content:center}.wallet-selector *{box-sizing:border-box;line-height:1}.wallet-selector-active{display:flex;flex-direction:column}.wallet-selector-inner{background:var(--proton-wallet-modal-bgcolor, var(--color-bgdefault));color:white;margin:20px 20px 13px 20px;padding-top:50px;border-radius:10px;box-shadow:0px -10px 50px rgba(0, 0, 0, 0.5) !important;width:360px;transition-property:all;transition-duration:0.5s;transition-timing-function:ease-in-out;position:relative}.wallet-selector-close{display:block;position:absolute;top:16px;right:16px;width:28px;height:28px;background-image:url(\"data:image/svg+xml,%3Csvg width='12' height='12' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M9.66 10.987L6 7.327l-3.66 3.66A1.035 1.035 0 11.876 9.523l3.66-3.66-3.66-3.66A1.035 1.035 0 012.34.737L6 4.398 9.66.739a1.035 1.035 0 111.464 1.464l-3.66 3.66 3.66 3.661a1.035 1.035 0 11-1.464 1.464z' fill='rgba(161, 165, 176, 0.7)' fill-rule='nonzero'/%3E%3C/svg%3E\");background-size:14px;background-repeat:no-repeat;background-position:50%;cursor:pointer;transition:background-image 0.2s ease}.wallet-selector-close:hover{background-image:url(\"data:image/svg+xml,%3Csvg width='12' height='12' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M9.66 10.987L6 7.327l-3.66 3.66A1.035 1.035 0 11.876 9.523l3.66-3.66-3.66-3.66A1.035 1.035 0 012.34.737L6 4.398 9.66.739a1.035 1.035 0 111.464 1.464l-3.66 3.66 3.66 3.661a1.035 1.035 0 11-1.464 1.464z' fill='rgba(161, 165, 176, 1)' fill-rule='nonzero'/%3E%3C/svg%3E\");transition:background-image 0.2s ease}.wallet-selector-connect{padding:0px 20px;border-radius:10px;border-top-left-radius:0;border-top-right-radius:0;background:var(--proton-wallet-modal-bgcolor, var(--color-bgdefault))}.wallet-selector-connect-body{margin-top:35px}.wallet-selector-wallet-list{margin:0px;padding:0px;list-style:none}.wallet-selector-tos-agreement{font-family:\"Circular Std Book\", sans-serif;font-size:12px;line-height:16px;text-align:center;margin-top:35px;margin-bottom:30px;color:var(--proton-wallet-color-font-secondary, var(--color-font-secondary))}.wallet-selector-tos-link{color:var(--proton-wallet-color-link, var(--color-link));text-decoration:none}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGlhbG9nLnN2ZWx0ZSIsIm1hcHBpbmdzIjoiQUFDRSxnQkFBQSxBQUFBLENBQUEsQUFDRSxvQkFBQSxDQUFBLEtBQUEsQ0FDQSxzQkFBQSxDQUFBLE9BQUEsQ0FDQSxZQUFBLENBQUEsT0FBQSxDQUNBLGlCQUFBLENBQUEsT0FBQSxDQUNBLHNCQUFBLENBQUEsV0FBQSxDQUNBLGlCQUFBLENBQUEsV0FBQSxDQUNBLG1CQUFBLENBQUEsT0FBQSxDQUVBLFdBQUEsQ0FBQSxtQkFBQSxDQUFBLENBQUEsYUFBQSxDQUFBLENBQUEsU0FBQSxDQUFBLENBQUEsa0JBQUEsQ0FBQSxDQUFBLFVBQUEsQ0FBQSxDQUFBLE1BQUEsQ0FBQSxDQUFBLGdCQUFBLENBQUEsQ0FBQSxLQUFBLENBQUEsQ0FBQSxVQUFBLENBR0EsU0FBQSxDQUFBLElBQUEsQ0FDQSxVQUFBLENBQUEsS0FBQSxDQUFBLENBQUEsQ0FBQSxDQUFBLENBQUEsQ0FBQSxDQUFBLENBQUEsQ0FBQSxJQUFBLENBQUEsQ0FDQSxRQUFBLENBQUEsS0FBQSxDQUNBLEdBQUEsQ0FBQSxHQUFBLENBQ0EsSUFBQSxDQUFBLEdBQUEsQ0FDQSxLQUFBLENBQUEsSUFBQSxDQUNBLE1BQUEsQ0FBQSxJQUFBLENBQ0EsT0FBQSxDQUFBLFVBQUEsQ0FDQSxPQUFBLENBQUEsSUFBQSxDQUNBLFdBQUEsQ0FBQSxNQUFBLENBQ0EsZUFBQSxDQUFBLE1BQUEsQUNtREosQ0FBQSxBRGpESSxnQkFBQSxBQUFBLENBQUEsQUFBQSxDQUFBLEFBQUEsQ0FBQSxBQUNFLFVBQUEsQ0FBQSxVQUFBLENBQ0EsV0FBQSxDQUFBLENBQUEsQ0FHRix1QkFBQSxBQUFBLENBQUEsQUFDRSxPQUFBLENBQUEsSUFBQSxDQUNBLGNBQUEsQ0FBQSxNQUFBLEFDa0ROLENBQUEsQUQvQ0ksc0JBQUEsQUFBQSxDQUFBLEFBQ0UsVUFBQSxDQUFBLElBQUEsNkJBQUEsQ0FBQSx1QkFBQSxDQUFBLENBQ0EsS0FBQSxDQUFBLEtBQUEsQ0FDQSxNQUFBLENBQUEsSUFBQSxDQUFBLElBQUEsQ0FBQSxJQUFBLENBQUEsSUFBQSxDQUNBLFdBQUEsQ0FBQSxJQUFBLENBQ0EsYUFBQSxDQUFBLElBQUEsQ0FDQSxVQUFBLENBQUEsR0FBQSxDQUFBLEtBQUEsQ0FBQSxJQUFBLENBQUEsS0FBQSxDQUFBLENBQUEsQ0FBQSxDQUFBLENBQUEsQ0FBQSxDQUFBLENBQUEsQ0FBQSxHQUFBLENBQUEsQ0FBQSxVQUFBLENBQ0EsS0FBQSxDQUFBLEtBQUEsQ0FDQSxtQkFBQSxDQUFBLEdBQUEsQ0FDQSxtQkFBQSxDQUFBLElBQUEsQ0FDQSwwQkFBQSxDQUFBLFdBQUEsQ0FDQSxRQUFBLENBQUEsUUFBQSxBQ2lETixDQUFBLEFEOUNJLHNCQUFBLEFBQUEsQ0FBQSxBQUNFLE9BQUEsQ0FBQSxLQUFBLENBQ0EsUUFBQSxDQUFBLFFBQUEsQ0FDQSxHQUFBLENBQUEsSUFBQSxDQUNBLEtBQUEsQ0FBQSxJQUFBLENBQ0EsS0FBQSxDQUFBLElBQUEsQ0FDQSxNQUFBLENBQUEsSUFBQSxDQUNBLGdCQUFBLENBQUEsSUFBQSw4V0FBQSxDQUFBLENBQ0EsZUFBQSxDQUFBLElBQUEsQ0FDQSxpQkFBQSxDQUFBLFNBQUEsQ0FDQSxtQkFBQSxDQUFBLEdBQUEsQ0FDQSxNQUFBLENBQUEsT0FBQSxDQUNBLFVBQUEsQ0FBQSxnQkFBQSxDQUFBLElBQUEsQ0FBQSxJQUFBLEFDZ0ROLENBQUEsQUQ5Q00sNEJBQUEsQUFBQSxDQUFBLEFBQ0UsZ0JBQUEsQ0FBQSxJQUFBLDRXQUFBLENBQUEsQ0FDQSxVQUFBLENBQUEsZ0JBQUEsQ0FBQSxJQUFBLENBQUEsSUFBQSxBQ2dEUixDQUFBLEFENUNJLHdCQUFBLEFBQUEsQ0FBQSxBQUNFLE9BQUEsQ0FBQSxHQUFBLENBQUEsSUFBQSxDQUNBLGFBQUEsQ0FBQSxJQUFBLENBQ0Esc0JBQUEsQ0FBQSxDQUFBLENBQ0EsdUJBQUEsQ0FBQSxDQUFBLENBQ0EsVUFBQSxDQUFBLElBQUEsNkJBQUEsQ0FBQSx1QkFBQSxDQUFBLEFDOENOLENBQUEsQUQ1Q00sNkJBQUEsQUFBQSxDQUFBLEFBQ0UsVUFBQSxDQUFBLElBQUEsQUM4Q1IsQ0FBQSxBRDFDSSw0QkFBQSxBQUFBLENBQUEsQUFDRSxNQUFBLENBQUEsR0FBQSxDQUNBLE9BQUEsQ0FBQSxHQUFBLENBQ0EsVUFBQSxDQUFBLElBQUEsQUM0Q04sQ0FBQSxBRHpDSSw4QkFBQSxBQUFBLENBQUEsQUFDRSxXQUFBLENBQUEsbUJBQUEsQ0FBQSxDQUFBLFVBQUEsQ0FDQSxTQUFBLENBQUEsSUFBQSxDQUNBLFdBQUEsQ0FBQSxJQUFBLENBQ0EsVUFBQSxDQUFBLE1BQUEsQ0FDQSxVQUFBLENBQUEsSUFBQSxDQUNBLGFBQUEsQ0FBQSxJQUFBLENBQ0EsS0FBQSxDQUFBLElBQUEsb0NBQUEsQ0FBQSw0QkFBQSxDQUFBLEFDMkNOLENBQUEsQURyQ0kseUJBQUEsQUFBQSxDQUFBLEFBQ0UsS0FBQSxDQUFBLElBQUEsMEJBQUEsQ0FBQSxrQkFBQSxDQUFBLENBQ0EsZUFBQSxDQUFBLElBQUEsQUN1Q04sQ0FrQkEiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiZmlsZTovLy9Vc2Vycy9qYWZyaS9Xb3JrL3Byb3Rvbi9wcm90b24td2ViLXNkay9wYWNrYWdlcy9wcm90b24td2ViLXNkay9zcmMvdmlld3MvRGlhbG9nLnN2ZWx0ZSIsIkRpYWxvZy5zdmVsdGUiXX0= */")}function Rl(t,e,r){const i=t.slice();return i[9]=e[r],i}function zl(t){let e,r,i=t[5];ml(i);let n=[];for(let a=0;a<i.length;a+=1)n[a]=Pl(Rl(t,i,a));const o=t=>el(n[t],1,1,(()=>{n[t]=null})),s={c:function(){e=_c("ul");for(let t=0;t<n.length;t+=1)n[t].c();pl(e,"class","wallet-selector-wallet-list"),ac(e,Ml,28,10,825)},m:function(t,i){ul(t,e,i);for(let r=0;r<n.length;r+=1)n[r].m(e,null);r=!0},p:function(t,r){if(32&r){let s;for(i=t[5],ml(i),s=0;s<i.length;s+=1){const o=Rl(t,i,s);n[s]?(n[s].p(o,r),tl(n[s],1)):(n[s]=Pl(o),n[s].c(),tl(n[s],1),n[s].m(e,null))}for(Xc(),s=i.length;s<n.length;s+=1)o(s);Yc()}},i:function(t){if(!r){for(let t=0;t<i.length;t+=1)tl(n[t]);r=!0}},o:function(t){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)el(n[e]);r=!1},d:function(t){t&&hl(e),Ec(n,t)}};return cl("SvelteRegisterBlock",{block:s,id:zl.name,type:"if",source:"(28:8) {#if wallets && wallets.length}",ctx:t}),s}function Pl(t){let e,r;e=new Il({props:{wallet:t[9]},$$inline:!0}),e.$on("select-wallet",t[7]);const i={c:function(){rl(e.$$.fragment)},m:function(t,i){il(e,t,i),r=!0},p:function(t,r){const i={};32&r&&(i.wallet=t[9]),e.$set(i)},i:function(t){r||(tl(e.$$.fragment,t),r=!0)},o:function(t){el(e.$$.fragment,t),r=!1},d:function(t){nl(e,t)}};return cl("SvelteRegisterBlock",{block:i,id:Pl.name,type:"each",source:"(30:12) {#each wallets as wallet}",ctx:t}),i}function Ol(t){let e,r,i,n,o,s,a,c,l,u,h,d,p,f,m,y,g;n=new Ul({props:{title:t[1],subtitle:t[2],logo:t[3],isLogoRound:t[4]},$$inline:!0});let w=t[5]&&t[5].length&&zl(t);f=new Nl({$$inline:!0});const v={c:function(){e=_c("div"),r=_c("div"),i=_c("div"),rl(n.$$.fragment),o=xc(),s=_c("div"),w&&w.c(),a=xc(),c=_c("p"),l=Uc("By connecting, I accept Proton's "),u=_c("a"),u.textContent="Terms of Service",h=xc(),d=_c("div"),p=xc(),rl(f.$$.fragment),pl(u,"class","wallet-selector-tos-link"),pl(u,"href","https://protonchain.com/terms"),pl(u,"target","_blank"),ac(u,Ml,35,43,1098),pl(c,"class","wallet-selector-tos-agreement"),ac(c,Ml,34,8,1013),pl(s,"class","wallet-selector-connect-body"),ac(s,Ml,26,6,732),pl(i,"class","wallet-selector-connect"),ac(i,Ml,23,4,607),pl(d,"class","wallet-selector-close"),ac(d,Ml,43,4,1296),pl(r,"class","wallet-selector-inner"),ac(r,Ml,22,2,567),pl(e,"class","wallet-selector"),Lc(e,"wallet-selector-active",t[0]),ac(e,Ml,17,0,454)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(v,b){ul(v,e,b),ll(e,r),ll(r,i),il(n,i,null),ll(i,o),ll(i,s),w&&w.m(s,null),ll(s,a),ll(s,c),ll(c,l),ll(c,u),ll(r,h),ll(r,d),ll(e,p),il(f,e,null),m=!0,y||(g=[dl(d,"click",t[6],!1,!1,!1),dl(e,"click",kc(Fc(t[6])),!1,!1,!0)],y=!0)},p:function(t,[r]){const i={};2&r&&(i.title=t[1]),4&r&&(i.subtitle=t[2]),8&r&&(i.logo=t[3]),16&r&&(i.isLogoRound=t[4]),n.$set(i),t[5]&&t[5].length?w?(w.p(t,r),32&r&&tl(w,1)):(w=zl(t),w.c(),tl(w,1),w.m(s,a)):w&&(Xc(),el(w,1,1,(()=>{w=null})),Yc()),1&r&&Lc(e,"wallet-selector-active",t[0])},i:function(t){m||(tl(n.$$.fragment,t),tl(w),tl(f.$$.fragment,t),m=!0)},o:function(t){el(n.$$.fragment,t),el(w),el(f.$$.fragment,t),m=!1},d:function(t){t&&hl(e),nl(n),w&&w.d(),nl(f),y=!1,uc(g)}};return cl("SvelteRegisterBlock",{block:v,id:Ol.name,type:"component",source:"",ctx:t}),v}function jl(t,e,r){let{$$slots:i={},$$scope:n}=e;yl("Dialog",i,[]);const o=Mc();let{title:s=""}=e,{subtitle:a=""}=e,{show:c=!1}=e,{appLogo:l=""}=e,{hasRoundedLogo:u=!1}=e,{wallets:h=[]}=e;function d(){r(0,c=!1),o("close")}const p=["title","subtitle","show","appLogo","hasRoundedLogo","wallets"];function f(e){Tc.call(this,t,e)}return Object.keys(e).forEach((t=>{~p.indexOf(t)||"$$"===t.slice(0,2)||"slot"===t||ic.warn(`<Dialog> was created with unknown prop '${t}'`)})),t.$$set=t=>{"title"in t&&r(1,s=t.title),"subtitle"in t&&r(2,a=t.subtitle),"show"in t&&r(0,c=t.show),"appLogo"in t&&r(3,l=t.appLogo),"hasRoundedLogo"in t&&r(4,u=t.hasRoundedLogo),"wallets"in t&&r(5,h=t.wallets)},t.$capture_state=()=>({createEventDispatcher:Mc,Header:Ul,Footer:Nl,Wallet:Il,dispatch:o,title:s,subtitle:a,show:c,appLogo:l,hasRoundedLogo:u,wallets:h,close:d}),t.$inject_state=t=>{"title"in t&&r(1,s=t.title),"subtitle"in t&&r(2,a=t.subtitle),"show"in t&&r(0,c=t.show),"appLogo"in t&&r(3,l=t.appLogo),"hasRoundedLogo"in t&&r(4,u=t.hasRoundedLogo),"wallets"in t&&r(5,h=t.wallets)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[c,s,a,l,u,h,d,f]}class Jl extends gl{constructor(t){super(t),sl(this,t,jl,Ol,dc,{title:1,subtitle:2,show:0,appLogo:3,hasRoundedLogo:4,wallets:5},Tl),cl("SvelteRegisterComponent",{component:this,tagName:"Dialog",options:t,id:Ol.name})}get title(){throw new Error("<Dialog>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set title(t){throw new Error("<Dialog>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get subtitle(){throw new Error("<Dialog>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set subtitle(t){throw new Error("<Dialog>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get show(){throw new Error("<Dialog>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set show(t){throw new Error("<Dialog>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get appLogo(){throw new Error("<Dialog>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set appLogo(t){throw new Error("<Dialog>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get hasRoundedLogo(){throw new Error("<Dialog>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set hasRoundedLogo(t){throw new Error("<Dialog>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get wallets(){throw new Error("<Dialog>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set wallets(t){throw new Error("<Dialog>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}class $l{constructor(t,e,r,i){this.hasRoundedLogo=!1,this.fontAdded=!1,this.appLogo=e,this.appName=t||"app",this.customStyleOptions=r,this.dialogRootNode=this.setDialogRootNode(i)}displayWalletSelector(t){return new Promise(((e,r)=>{this.setUpSelectorContainer(r);const i={title:"Connect Wallet",subtitle:`To start using ${this.appName}`,hasRoundedLogo:this.hasRoundedLogo,wallets:t,appLogo:this.appLogo||null};this.Widget&&(this.Widget.$on("select-wallet",(t=>{t.detail.walletName&&(this.hideSelector(),e(t.detail.walletName))})),this.Widget.$set(i)),this.showSelector()}))}destroy(){this.hideSelector(),this.Widget&&this.Widget.$destroy(),this.widgetHolder&&this.widgetHolder.remove()}hideSelector(){this.Widget&&this.Widget.$set({show:!1,appLogo:"",hasRoundedLogo:!1,title:"",subtitle:"",wallets:[]})}showSelector(){this.Widget&&this.Widget.$set({show:!0})}setUpSelectorContainer(t){if(this.addFont(),!this.Widget){if(this.widgetHolder=document.createElement("div"),this.dialogRootNode.appendChild(this.widgetHolder),this.Widget=new Jl({target:this.widgetHolder}),this.customStyleOptions){const t=this.customStyleOptions;Object.keys(t).forEach((e=>{if("isLogoRound"===e)this.hasRoundedLogo=!!t.isLogoRound;else{const r=oc.get(e);r&&t[e]&&this.widgetHolder&&this.widgetHolder.style.setProperty(`--${r}`,t[e])}}))}this.Widget.$on("close",(()=>{this.hideSelector(),t("no wallet selected")}))}}addFont(){const t="https://fonts.cdnfonts.com/css/circular-std-book";if(!this.fontAdded){const e=Array.from(document.styleSheets).some((e=>e.href===t));if(!e){const e=document.createElement("link");e.href=t,e.rel="stylesheet",document.head.appendChild(e)}this.fontAdded=!0}}setDialogRootNode(t){if(!t)return document.body;if("string"==typeof t){const e=document.body.querySelector(t);if(!e)throw new Error("dialogRootNode is not a valid selector");return e}return t}}const Vl="menubar=1,resizable=1,width=400,height=600";class ql{constructor(){this.promise=new Promise(((t,e)=>{this.reject=e,this.resolve=t}))}}let Wl=null;class Kl{constructor(t){this.scheme=t.scheme,this.client="string"===typeof t.client?new wo.JsonRpc(t.client):t.client,this.storage=t.storage,this.testUrl=t.testUrl,this.transport=t.transport,setInterval((()=>this.closeChild()),500),window.addEventListener("message",(t=>this.onEvent(t)),!1)}get childWindow(){return Wl}set childWindow(t){Wl=t}childUrl(t){const e=this.testUrl?this.testUrl:"proton"===this.scheme?"https://webauth.com":"https://testnet.webauth.com";return`${e}${t}`}closeChild(t=!1){this.childWindow&&(t&&this.childWindow.close(),(t||this.childWindow.closed)&&(this.childWindow=null))}createSession(t){return{auth:t,transact:(t,e)=>nc(this,void 0,void 0,(function*(){this.deferredLogin&&(this.closeChild(!0),this.deferredLogin.reject("Trying to login"),this.deferredLogin=void 0),this.deferredTransact={deferral:new ql,transaction:t.transaction||{actions:t.actions},params:e,waitingForOpen:!0},this.childWindow=window.open(this.childUrl("/auth"),"_blank",Vl);try{const t=yield this.deferredTransact.deferral.promise;return t}catch(r){throw this.transport.onFailure&&this.transport.onFailure(void 0,r),r}})),link:{walletType:"webauth",client:this.client}}}login(){return nc(this,void 0,void 0,(function*(){this.deferredTransact&&(this.closeChild(!0),this.deferredTransact.deferral.reject("Trying to login"),this.deferredTransact=void 0),this.childWindow=window.open(this.childUrl("/login"),"_blank",Vl),this.deferredLogin=new ql;try{this.storage.write("wallet-type","webauth");const t=yield this.deferredLogin.promise;return{session:this.createSession(t)}}catch(t){throw ic.error(t),t}}))}restoreSession(t,e){return nc(this,void 0,void 0,(function*(){return this.createSession(e)}))}removeSession(t,e,r){return nc(this,void 0,void 0,(function*(){if(!this.storage)throw new Error("Unable to remove session: No storage adapter configured");return(yield this.storage.read("wallet-type"))&&this.storage.remove("wallet-type"),(yield this.storage.read("user-auth"))&&this.storage.remove("user-auth"),{appIdentifier:t,auth:e,chainId:r}}))}onEvent(t){return nc(this,void 0,void 0,(function*(){if(-1!==t.origin.indexOf("https://webauth.com")&&-1!==t.origin.indexOf("https://testnet.webauth.com"))return;let e;try{e=JSON.parse(t.data)}catch(t){return}try{const{type:t,data:r,error:i}=e;if(!t)return;"isReady"===t?this.deferredTransact&&this.deferredTransact.waitingForOpen&&(this.deferredTransact.waitingForOpen=!1,this.childWindow.postMessage(JSON.stringify({type:"transaction",data:{transaction:this.deferredTransact.transaction,params:this.deferredTransact.params}}),"*")):"close"===t?(this.closeChild(!0),this.deferredTransact?this.deferredTransact.deferral.reject("Closed"):this.deferredLogin&&this.deferredLogin.reject("Closed")):"transactionSuccess"===t?(this.closeChild(!0),this.deferredTransact&&(i?this.deferredTransact.deferral.reject(i&&i.json?i.json:i):this.deferredTransact.deferral.resolve(r),this.deferredTransact=void 0)):"loginSuccess"===t&&(this.closeChild(!0),this.deferredLogin&&(this.deferredLogin.resolve(r),this.deferredLogin=void 0))}catch(t){ic.error(t)}}))}}class Zl{constructor(t){this.keyPrefix=t}write(t,e){return nc(this,void 0,void 0,(function*(){localStorage.setItem(this.storageKey(t),e)}))}read(t){return nc(this,void 0,void 0,(function*(){return localStorage.getItem(this.storageKey(t))}))}remove(t){return nc(this,void 0,void 0,(function*(){localStorage.removeItem(this.storageKey(t))}))}storageKey(t){return`${this.keyPrefix}-${t}`}}const Hl=[{key:"proton",value:"Mobile"},{key:"webauth",value:"Browser"},{key:"anchor",value:"Desktop"}];let Gl;const Xl=({linkOptions:t,transportOptions:e={},selectorOptions:r={}})=>nc(void 0,void 0,void 0,(function*(){const i=new wo.JsonRpc(t.endpoints);if(t.client=i,!t.chainId){const e=yield i.get_info();t.chainId=e.chain_id}return t.storage||(t.storage=new Zl(t.storagePrefix||"proton-storage")),Yl({selectorOptions:r,linkOptions:t,transportOptions:e}).finally((()=>{Gl&&(Gl.destroy(),Gl=void 0)}))})),Yl=t=>nc(void 0,void 0,void 0,(function*(){var e;let r,i,n;Gl||(Gl=new $l(t.selectorOptions.appName,t.selectorOptions.appLogo,t.selectorOptions.customStyleOptions,t.selectorOptions.dialogRootNode));let o=t.selectorOptions?t.selectorOptions.walletType:void 0;if(!o)if(t.linkOptions.restoreSession)o=yield t.linkOptions.storage.read("wallet-type");else{const e=t.selectorOptions.enabledWalletTypes?Hl.filter((e=>t.selectorOptions.enabledWalletTypes&&t.selectorOptions.enabledWalletTypes.includes(e.key))):Hl;try{o=yield Gl.displayWalletSelector(e)}catch(l){return ic.log("CANCEL",l),{error:l}}}if(!o)return{error:new Error("Wallet Type Unavailable: No wallet provided")};let s="proton";"71ee83bcf52142d61019d95f9cc5427ba6a0d7ff8accd9e2088ae2abeaf3d3dd"===t.linkOptions.chainId&&(s="proton-test");let a="proton";"anchor"===o?a="esr":"proton-test"===s&&(a="proton-dev");const c=Object.assign(Object.assign({},t.linkOptions),{scheme:a,transport:new rc(Object.assign(Object.assign({},t.transportOptions),{walletType:o})),walletType:o,chains:[]});if(i="webauth"===o?new Kl(c):new $o(c),t.linkOptions.restoreSession){const e=yield t.linkOptions.storage.read("user-auth"),n=e?JSON.parse(e):{},o=Object.keys(n).length>0?n:null;if(o&&(r=yield i.restoreSession(t.transportOptions.requestAccount||"",o),!r))return t.linkOptions.storage.remove("wallet-type"),t.linkOptions.storage.remove("user-auth"),{link:void 0,session:void 0,loginResult:void 0}}else{let o=!1;document.addEventListener("backToSelector",(()=>{o=!0}));try{n=yield i.login((null===(e=t.transportOptions)||void 0===e?void 0:e.requestAccount)||""),r=n.session;const o=JSON.stringify({actor:n.session.auth.actor.toString(),permission:n.session.auth.permission.toString()});t.linkOptions.storage.write("user-auth",o)}catch(l){return ic.error("restoreSession Error:"),ic.error(l),o?(document.removeEventListener("backToSelector",(()=>{o=!0})),Yl(Object.assign(Object.assign({},t),{repeat:!0}))):{error:l}}}return r&&r.auth&&(r.auth={actor:r.auth.actor.toString(),permission:r.auth.permission.toString()},r.publicKey=r.publicKey?r.publicKey.toString():void 0),{session:r,link:i,loginResult:n}}))}}]);