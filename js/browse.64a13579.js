"use strict";(self["webpackChunkthedaoscapefrontend"]=self["webpackChunkthedaoscapefrontend"]||[]).push([[88],{10397:(e,t,o)=>{o.r(t),o.d(t,{default:()=>H});var a=o(34182);const l={class:"center-page-content"},r={class:"q-mb-md"},i={key:0,class:"row items-center text-grey-7"};function n(e,t,o,n,s,c){const u=(0,a.resolveComponent)("q-icon"),d=((0,a.resolveComponent)("q-item-section"),(0,a.resolveComponent)("q-item"),(0,a.resolveComponent)("q-list"),(0,a.resolveComponent)("q-menu"),(0,a.resolveComponent)("q-input")),p=(0,a.resolveComponent)("q-tab"),m=(0,a.resolveComponent)("q-tabs"),h=(0,a.resolveComponent)("q-separator"),g=(0,a.resolveComponent)("group-card"),f=(0,a.resolveComponent)("q-page");(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(f,{padding:"",class:"text-black"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",l,[(0,a.createElementVNode)("div",null,[(0,a.createVNode)(d,{placeholder:"Find Group",outlined:"",modelValue:e.searchfilter,"onUpdate:modelValue":t[3]||(t[3]=t=>e.searchfilter=t),modelModifiers:{trim:!0}},{prepend:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{name:"search",class:"cursor-pointer"})])),append:(0,a.withCtx)((()=>[(0,a.createVNode)(a.TransitionGroup,{appear:"","enter-active-class":"animated fadeInRight","leave-active-class":"animated fadeOutRight",tag:"div"},{default:(0,a.withCtx)((()=>[e.searchfilter.length?((0,a.openBlock)(),(0,a.createBlock)(u,{name:"close",key:"has_filter",onClick:t[0]||(t[0]=t=>e.searchfilter=""),class:"cursor-pointer"})):((0,a.openBlock)(),(0,a.createBlock)(u,{key:"no_filter",name:e.menu_visible?"menu_open":"menu",class:"cursor-pointer"},{default:(0,a.withCtx)((()=>[(0,a.createCommentVNode)("",!0)])),_:1},8,["name"]))])),_:1})])),_:1},8,["modelValue"]),(0,a.createElementVNode)("div",r,[(0,a.createVNode)(m,{modelValue:e.tabfilter,"onUpdate:modelValue":t[4]||(t[4]=t=>e.tabfilter=t),dense:"",class:"text-primary",align:"left","no-caps":"","inline-label":""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{label:`All (${e.getGroups.length})`,name:"all"},null,8,["label"]),(0,a.createVNode)(p,{label:`Favourites (${e.getFavouriteGroups.length})`,name:"favourites",icon:"star"},null,8,["label"])])),_:1},8,["modelValue"]),(0,a.createVNode)(h)])]),(0,a.createVNode)(a.Transition,{appear:"","enter-active-class":"animated fadeInDown",class:"column q-gutter-md",tag:"div"},{default:(0,a.withCtx)((()=>[e.getGroupsWithFilter.length?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("span",i,[(0,a.createVNode)(u,{name:"error_outline",size:"24px",class:"q-mr-sm"}),(0,a.createTextVNode)(" No Groups found on "+(0,a.toDisplayString)(e.getActiveNetwork)+"... ",1)]))])),_:1}),(0,a.createVNode)(a.TransitionGroup,{appear:"","enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut",class:"row q-col-gutter-md",tag:"div"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.getGroupsWithFilter,(e=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.groupname,class:"col-xs-12 col-sm-6 col-md-4 col-lg-3 col-xl-3"},[(0,a.createVNode)(g,{group:e,class:"full-height"},null,8,["group"])])))),128))])),_:1})])])),_:1})}var s=o(10741);const c={class:"q-pa-sm"},u={class:"column justify-between overflow-hidden"},d={class:"row justify-center items-center text-white text-weight-light q-py-sm",style:{"min-height":"115px"}},p={class:"text-bold text-uppercase text-center",style:{"flex-basis":"100%"}},m={style:{background:"#e48b17",height:"60px"},class:"full-width row justify-between items-center"},h={key:0,class:"q-mt-xl text-center"},g={key:1,class:"q-mt-xl text-center"},f={class:"ellipsis-3-lines"},v={class:"absolute-top row justify-end q-pa-sm full-width"};function w(e,t,o,l,r,i){const n=(0,a.resolveComponent)("group-tags"),s=(0,a.resolveComponent)("q-img"),w=(0,a.resolveComponent)("q-btn"),k=(0,a.resolveComponent)("q-tooltip"),C=(0,a.resolveComponent)("q-tab-panel"),_=(0,a.resolveComponent)("q-spinner"),x=(0,a.resolveComponent)("q-tab-panels"),V=(0,a.resolveComponent)("q-icon"),b=(0,a.resolveComponent)("q-card");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[e.group.state?((0,a.openBlock)(),(0,a.createBlock)(b,{key:0,class:"full-height overflow-hidden relative-position"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{modelValue:e.view_mode,"onUpdate:modelValue":t[2]||(t[2]=t=>e.view_mode=t),style:(0,a.normalizeStyle)([{backgroundColor:e.getGroupColor},{"min-height":"200px"}]),animated:"","transition-prev":"fade","transition-next":"fade"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{name:"main",class:"no-padding",style:{"min-height":"200px"}},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",c,[(0,a.createVNode)(n,{tags:e.group.tags,"content-class":"text-white q-mb-xs"},null,8,["tags"])]),(0,a.createElementVNode)("div",u,[(0,a.createElementVNode)("div",d,[e.group.ui.logo?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,contain:"",src:e.group.ui.logo,style:{width:"100px","max-width":"70%",height:"100%"},"spinner-color":"white"},null,8,["src"])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",p,(0,a.toDisplayString)(e.group.groupname),1)]),(0,a.createElementVNode)("div",m,[(0,a.createElementVNode)("div",null,[(0,a.createVNode)(w,{round:"",color:e.group.is_fav?"yellow":"white",flat:"",icon:"star",size:"md",onClick:t[0]||(t[0]=t=>{e.$store.commit("user/setFavouriteGroups",e.group.groupname),e.group.is_fav=!e.group.is_fav})},null,8,["color"])]),(0,a.createElementVNode)("div",null,[e.getUiUrl.startsWith("/")?((0,a.openBlock)(),(0,a.createBlock)(w,{key:0,label:"Visit Group",to:e.getUiUrl,flat:"",size:"sm","text-color":"white",style:(0,a.normalizeStyle)({backgroundColor:e.getGroupColor})},null,8,["to","style"])):((0,a.openBlock)(),(0,a.createBlock)(w,{key:1,label:"Visit Group",onClick:t[1]||(t[1]=t=>e.openURL(e.getUiUrl)),icon:"link",flat:"",size:"sm","text-color":"white",style:(0,a.normalizeStyle)({backgroundColor:e.group.ui.hexcolor})},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(k,{class:"bg-secondary",delay:500,anchor:"center left",self:"center right",offset:[10,10]},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.getUiUrl),1)])),_:1})])),_:1},8,["style"]))])])])])),_:1}),(0,a.createVNode)(C,{name:"info",style:{"min-height":"200px"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(a.Transition,{"enter-active-class":"animated fadeIn","leave-active-class":"animated zoomOut",mode:"out-in"},{default:(0,a.withCtx)((()=>[e.info_is_loading?((0,a.openBlock)(),(0,a.createElementBlock)("div",h,[(0,a.createVNode)(_,{color:"white",size:"40px"})])):((0,a.openBlock)(),(0,a.createElementBlock)("div",g,[(0,a.createElementVNode)("div",f,(0,a.toDisplayString)(e.group_info.about),1)]))])),_:1})])),_:1})])),_:1},8,["modelValue","style"]),(0,a.createElementVNode)("div",v,[(0,a.createVNode)(a.Transition,{mode:"out-in","enter-active-class":"animated zoomIn"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(),(0,a.createBlock)(V,{name:"main"==e.view_mode?"mdi-dots-vertical":"mdi-close",color:"white",class:"cursor-pointer",size:"24px",mode:"in-out",onClick:e.switchViewMode,key:e.view_mode},null,8,["name","onClick"]))])),_:1})])])),_:1})):(0,a.createCommentVNode)("",!0)])}var k=o(33437),C=o(47592),_=o(39938);const x=(0,a.defineComponent)({name:"groupCard",components:{groupTags:_.Z},props:{group:{type:Object,default:()=>({})}},data(){return{view_mode:"main",group_info:{about:""},info_is_loading:!1}},computed:{getUiUrl(){let e=`/manage/${this.group.groupname}`;return this.group.ui.custom_ui_url&&(0,C.jv)(this.group.ui.custom_ui_url)&&(e=this.group.ui.custom_ui_url),e},getGroupColor(){return this.group.ui.hexcolor.startsWith("#")?this.group.ui.hexcolor:`#${this.group.ui.hexcolor}`}},methods:{openURL:k.Z,switchViewMode(){"main"==this.view_mode?(this.view_mode="info",this.fetchGroupInfo()):this.view_mode="main"},fetchGroupInfo(){this.group_info.about=this.group.meta.about,this.info_is_loading=!0,setTimeout((()=>{this.info_is_loading=!1}),500)}}});var V=o(74260),b=o(10151),N=o(5906),y=o(86602),B=o(24152),q=o(2165),G=o(5363),Z=o(6833),Q=o(24554),E=o(7518),U=o.n(E);const S=(0,V.Z)(x,[["render",w]]),T=S;U()(x,"components",{QCard:b.Z,QTabPanels:N.Z,QTabPanel:y.Z,QImg:B.Z,QBtn:q.Z,QTooltip:G.Z,QSpinner:Z.Z,QIcon:Q.Z});var z=o(40019);const I=(0,a.defineComponent)({components:{groupCard:T},data(){return{searchfilter:"",menu_visible:!1,tabfilter:"favourites",location_hash:""}},computed:{...(0,s.Se)({getAccountName:"proton/getAccountName",getGroups:"app/getGroups",getFavouriteGroups:"user/getFavouriteGroups",getActiveNetwork:"proton/getActiveNetwork"}),getGroupsWithFilter(){let e=this.getGroups;return e?(e=e.filter((e=>e.state>0)),"all"==this.tabfilter||"favourites"==this.tabfilter&&(e=e.filter((e=>e.is_fav))),this.searchfilter?e.filter((e=>e.groupname.includes(this.searchfilter)||e.meta.about.includes(this.searchfilter)||this.arrayStartsWith(e.tags,this.searchfilter))):e):[]}},methods:{arrayStartsWith(e,t){let o=!1;for(let a=0;a<e.length;a++)if(e[a].startsWith(t)){o=!0;break}return o},async loadGroups(){this.is_loading_groups=!0,await this.$store.dispatch("app/fetchGroups",{vm:this}),this.is_loading_groups=!1}},mounted(){let e=window.location.hash;this.location_hash=e?window.location.hash:window.location.hash="#all",z.log(this.location_hash)},watch:{getActiveNetwork:{immediate:!0,handler:function(e,t){e!=t&&this.loadGroups()}},location_hash:{immediate:!0,handler(e,t){e!=t&&(this.tabfilter=e.substr(1))}},tabfilter:{immediate:!1,handler(e,t){e!=t&&e&&(window.location.hash=`#${e}`)}}}});var F=o(24379),W=o(64689),A=o(20811),$=o(27011),j=o(83414),D=o(52035),L=o(57547),M=o(58408),O=o(65869),P=o(60677);const R=(0,V.Z)(I,[["render",n]]),H=R;U()(I,"components",{QPage:F.Z,QInput:W.Z,QIcon:Q.Z,QMenu:A.Z,QList:$.Z,QItem:j.Z,QItemSection:D.Z,QTabs:L.Z,QTab:M.Z,QSeparator:O.Z,QSpinner:Z.Z}),U()(I,"directives",{ClosePopup:P.Z})}}]);