"use strict";(self["webpackChunkthedaoscapefrontend"]=self["webpackChunkthedaoscapefrontend"]||[]).push([[784],{19883:(e,t,o)=>{o.r(t),o.d(t,{default:()=>xe});var a=o(34182);const n={class:"col-xs-12",key:"header_info"},i={class:"row justify-between"},l={class:"col-xs-12 col-md-4 q-col-gutter-md"},c={class:"col-xs-12 col-md-8 q-col-gutter-md"},r={class:"row justify-between"},s=(0,a.createTextVNode)("Group Account"),d=(0,a.createTextVNode)("Created"),p={class:"q-mt-md"},u=(0,a.createElementVNode)("div",null,"About",-1),g=(0,a.createTextVNode)("                  "),m={class:"text-weight-light row justify-between items-center"},C={class:"col-xs-12 col-sm-6 col-lg-4",key:"guardians_info"},h=(0,a.createTextVNode)("Guardians"),_={class:"col-xs-12 col-sm-6 col-lg-4",key:"candidates_info"},f=(0,a.createTextVNode)("Candidates"),v={class:"col-xs-12 col-sm-6 col-lg-4",key:"maintainer_account"},N=(0,a.createTextVNode)("Maintainer Account"),x={class:"col-xs-12 col-sm-6 col-lg-8",key:"new_election"};function V(e,t,o,V,w,E){const y=(0,a.resolveComponent)("update-logo"),k=(0,a.resolveComponent)("q-item-label"),A=(0,a.resolveComponent)("explorer-link"),b=(0,a.resolveComponent)("q-item-section"),S=(0,a.resolveComponent)("q-item"),G=(0,a.resolveComponent)("date-string"),T=(0,a.resolveComponent)("q-markdown"),q=(0,a.resolveComponent)("groupLinks"),Z=(0,a.resolveComponent)("group-tags"),I=(0,a.resolveComponent)("q-card-section"),B=(0,a.resolveComponent)("q-card"),Q=(0,a.resolveComponent)("q-icon"),L=(0,a.resolveComponent)("q-tooltip"),D=(0,a.resolveComponent)("new-election-timer"),O=(0,a.resolveComponent)("q-page");return(0,a.openBlock)(),(0,a.createBlock)(O,{padding:"",class:"constrain-page-width"},{default:(0,a.withCtx)((()=>[e.getActiveGroupConfig?((0,a.openBlock)(),(0,a.createBlock)(a.TransitionGroup,{key:0,appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut",mode:"out-in",class:"row q-col-gutter-md",tag:"div"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",n,[(0,a.createVNode)(B,{class:"relative-position"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(I,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",i,[(0,a.createElementVNode)("div",l,[(0,a.createVNode)(y,{show_edit:e.allowed_to_edit,class:"q-mb-md"},null,8,["show_edit"])]),(0,a.createElementVNode)("div",c,[(0,a.createElementVNode)("div",r,[(0,a.createVNode)(S,{class:"no-padding q-mr-sm"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(k,null,{default:(0,a.withCtx)((()=>[s])),_:1}),(0,a.createVNode)(k,{class:"text-h4"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.getActiveGroupConfig.groupname),1)])),_:1}),(0,a.createVNode)(k,{caption:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(A,{accountname:e.getActiveGroupConfig.groupname,accountnameText:"View on explorer"},null,8,["accountname"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(S,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(k,{caption:"",class:"text-right"},{default:(0,a.withCtx)((()=>[d])),_:1}),(0,a.createVNode)(k,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(G,{date:e.getActiveGroupConfig.creation_date},null,8,["date"])])),_:1})])),_:1})])),_:1})]),(0,a.createElementVNode)("div",p,[u,(0,a.createVNode)(T,{class:"text-caption text-weight-light",src:e.getActiveGroupConfig.meta.about,"no-abbreviation":!1},{default:(0,a.withCtx)((()=>[g])),_:1},8,["src"])]),(0,a.createElementVNode)("div",m,[(0,a.createElementVNode)("div",null,[(0,a.createVNode)(q,{links:e.getActiveGroupConfig.meta.links},null,8,["links"])]),(0,a.createVNode)(S,{class:"no-padding"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(k,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Z,{tags:e.getActiveGroupConfig.tags,"content-class":"bg-primary text-white"},null,8,["tags"])])),_:1})])),_:1})])),_:1})])])])])),_:1})])),_:1})]),(0,a.createElementVNode)("div",C,[(0,a.createVNode)(B,{class:"primary-hover-list"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,{clickable:"",to:`/manage/${e.getActiveGroup}/guardians`},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Q,{name:"mdi-account-key",color:"primary",size:"xl"})])),_:1}),(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(k,{class:"text-weight-light text-h5 text-grey-7"},{default:(0,a.withCtx)((()=>[h])),_:1})])),_:1}),(0,a.createVNode)(b,{side:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(k,{class:"text-h5 text-grey-7"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.getNumberGuardians),1)])),_:1})])),_:1})])),_:1},8,["to"])])),_:1})]),e.getElectionsState?((0,a.openBlock)(),(0,a.createElementBlock)("div",_,[(0,a.createVNode)(B,{class:"primary-hover-list"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,{clickable:"",to:`/members/${e.getActiveGroup}/elections`},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Q,{name:"mdi-account-card-details",color:"primary",size:"xl"}),(0,a.createVNode)(L,{class:"bg-secondary",delay:500,anchor:"center right",self:"center left",offset:[10,10]},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",null," Active Candidates: "+(0,a.toDisplayString)(e.getElectionsState.active_candidate_count),1),(0,a.createElementVNode)("div",null," Inactive Candidates: "+(0,a.toDisplayString)(e.getElectionsState.inactive_candidate_count),1)])),_:1})])),_:1}),(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(k,{class:"text-weight-light text-h5 text-grey-7"},{default:(0,a.withCtx)((()=>[f])),_:1})])),_:1}),(0,a.createVNode)(b,{side:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(k,{class:"text-h5 text-grey-7"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.getElectionsState.active_candidate_count),1)])),_:1})])),_:1})])),_:1},8,["to"])])),_:1})])):(0,a.createCommentVNode)("",!0),e.getCoreConfig&&e.getCoreConfig.conf.maintainer_account.actor?((0,a.openBlock)(),(0,a.createElementBlock)("div",v,[(0,a.createVNode)(B,{class:"primary-hover-list"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(S,{clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Q,{name:"mdi-settings-transfer",color:"primary",size:"xl"})])),_:1}),(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(k,{class:"text-weight-light text-h5 text-grey-7"},{default:(0,a.withCtx)((()=>[N])),_:1}),(0,a.createVNode)(k,{caption:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.getCoreConfig.conf.maintainer_account.actor)+"@"+(0,a.toDisplayString)(e.getCoreConfig.conf.maintainer_account.permission),1)])),_:1})])),_:1})])),_:1})])),_:1})])):(0,a.createCommentVNode)("",!0),e.getElectionsContract?((0,a.openBlock)(),(0,a.createElementBlock)("div",x,[(0,a.createVNode)(B,{class:"primary-hover-list"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(D)])),_:1})])):(0,a.createCommentVNode)("",!0)])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1})}var w=o(10741),E=o(33437);const y={class:"row items-center"},k=(0,a.createElementVNode)("div",{class:"text-weight-light bg-transparent flex"},[(0,a.createElementVNode)("span",{class:"text-primary"},"error loading logo")],-1),A={key:1,class:"row text-primary text-h5"},b=(0,a.createTextVNode)(" No Logo "),S={key:0};function G(e,t,o,n,i,l){const c=(0,a.resolveComponent)("q-img"),r=(0,a.resolveComponent)("q-btn");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createElementVNode)("div",y,[e.getActiveGroupConfig.ui.logo?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,src:e.getActiveGroupConfig.ui.logo,style:{width:"100%","max-width":"300px"}},{error:(0,a.withCtx)((()=>[k])),_:1},8,["src"])):((0,a.openBlock)(),(0,a.createElementBlock)("div",A,[b,e.show_edit?((0,a.openBlock)(),(0,a.createElementBlock)("div",S,[(0,a.createVNode)(r,{icon:e.edit?"mdi-close":"mdi-pencil",flat:"",size:"sm","text-color":"primary",round:"",to:e.get_edit_logo_url()},null,8,["icon","to"])])):(0,a.createCommentVNode)("",!0)]))])])}const T=(0,a.defineComponent)({name:"updateLogo",props:{show_edit:{type:Boolean,default:!1}},computed:{...(0,w.Se)({getActiveGroup:"group/getActiveGroup",getActiveGroupConfig:"group/getActiveGroupConfig",getAppConfig:"app/getAppConfig"})},data(){return{edit:!1}},methods:{get_edit_logo_url(){return`/manage/${this.getActiveGroup}/new-proposal?action=updatelogo&contract=${this.getAppConfig.groups_contract}&groupname=${this.getActiveGroup}`}}});var q=o(74260),Z=o(24152),I=o(2165),B=o(7518),Q=o.n(B);const L=(0,q.Z)(T,[["render",G]]),D=L;Q()(T,"components",{QImg:Z.Z,QBtn:I.Z});var O=o(39938),$=o(74948);const K=(0,a.createTextVNode)("Clap For Group"),M={class:"q-mt-md"},R={class:"row items-center"},z=(0,a.createTextVNode)(" EOS/TLOS ");function F(e,t,o,n,i,l){const c=(0,a.resolveComponent)("q-icon"),r=(0,a.resolveComponent)("q-btn"),s=(0,a.resolveComponent)("q-item-section"),d=(0,a.resolveComponent)("q-item-label"),p=(0,a.resolveComponent)("q-item"),u=(0,a.resolveComponent)("page-header"),g=(0,a.resolveComponent)("q-slider"),m=(0,a.resolveComponent)("q-input"),C=(0,a.resolveComponent)("q-card-section"),h=(0,a.resolveComponent)("q-card"),_=(0,a.resolveComponent)("q-dialog"),f=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{side:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(r,{color:"primary",round:"",onClick:e.openClapModal},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"mdi-thumb-up",class:"hover-rotate"})])),_:1},8,["onClick"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[K])),_:1}),(0,a.createVNode)(d,{caption:""},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.getActiveGroupConfig.claps),1)])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(_,{modelValue:e.clap_modal,"onUpdate:modelValue":t[1]||(t[1]=t=>e.clap_modal=t)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"overflow-hidden",style:{"min-width":"350px"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{title:"Clap for group"}),(0,a.withDirectives)((0,a.createVNode)(r,{icon:"close",flat:"",round:"",dense:"",class:"q-ma-md absolute-top-right"},null,512),[[f]]),(0,a.createElementVNode)("div",M,[(0,a.createElementVNode)("div",R,[(0,a.createVNode)(c,{name:"mdi-thumb-up",class:"q-mr-sm"}),(0,a.createTextVNode)(" +"+(0,a.toDisplayString)(e.clap_amount),1)]),(0,a.createVNode)(g,{modelValue:e.clap_amount,"onUpdate:modelValue":t[0]||(t[0]=t=>e.clap_amount=t),min:1,max:1e5,"label-always":!1,label:!1,"label-color":"primary","label-value":e.clap_amount/1e4+" EOS/TLOS/WAX",color:"primary"},null,8,["modelValue","label-value"]),(0,a.createVNode)(m,{value:e.clap_amount/1e4,outlined:"",dense:"",readonly:!0},{append:(0,a.withCtx)((()=>[z])),_:1},8,["value"]),(0,a.createVNode)(r,{label:"clap",class:"q-mt-md full-width",color:"primary",onClick:e.transferClaps,loading:e.getIsTransacting},null,8,["onClick","loading"])])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}var P=o(33314);const j=(0,a.defineComponent)({components:{pageHeader:P.Z},data(){return{clap_modal:!1,clap_amount:5e3}},computed:{...(0,w.Se)({getAccountName:"proton/getAccountName",getActiveGroup:"group/getActiveGroup",getActiveGroupConfig:"group/getActiveGroupConfig",getIsDark:"user/getIsDark",getAppConfig:"app/getAppConfig",getIsTransacting:"proton/getIsTransacting"})},methods:{openClapModal(){this.getAccountName&&(this.clap_modal=!0)},async transferClaps(){this.getAppConfig.groups_contract,this.getAccountName,this.getAccountName,this.getAppConfig.system_token.contract,Number(0).toFixed(this.getAppConfig.system_token.precision),this.getAppConfig.system_token.symbol;let e={account:"eosio.token",name:"transfer",data:{from:this.getAccountName,to:this.getAppConfig.groups_contract,quantity:`${(this.clap_amount/1e4).toFixed(4)} EOS/TLOS`,memo:`clap for group: ${this.getActiveGroup}`}},t=(this.getAppConfig.groups_contract,this.getAccountName,this.getActiveGroup,this.clap_amount,await this.$store.dispatch("proton/transact",{actions:[e],disable_signing_overlay:!0}));if(!t||!t.trxid)return!1;this.$store.commit("group/setClaps",this.getActiveGroupConfig.claps+this.clap_amount),this.clap_modal=!1,this.clap_amount=5e3}}});var U=o(83414),W=o(52035),H=o(24554),X=o(2350),Y=o(46778),J=o(10151),ee=o(25589),te=o(62064),oe=o(64689),ae=o(60677);const ne=(0,q.Z)(j,[["render",F]]),ie=ne;Q()(j,"components",{QItem:U.Z,QItemSection:W.Z,QBtn:I.Z,QIcon:H.Z,QItemLabel:X.Z,QDialog:Y.Z,QCard:J.Z,QCardSection:ee.Z,QSlider:te.Z,QInput:oe.Z}),Q()(j,"directives",{ClosePopup:ae.Z});var le=o(64834),ce=o(85054),re=o(3573);const se={key:0},de=(0,a.createTextVNode)("New Election");function pe(e,t,o,n,i,l){const c=(0,a.resolveComponent)("q-icon"),r=(0,a.resolveComponent)("q-tooltip"),s=(0,a.resolveComponent)("q-item-section"),d=(0,a.resolveComponent)("q-item-label"),p=(0,a.resolveComponent)("q-linear-progress"),u=(0,a.resolveComponent)("q-btn"),g=(0,a.resolveComponent)("q-item");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createVNode)(g,{clickable:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"mdi-alarm-multiple",color:"primary",size:"xl"}),(0,a.createVNode)(r,{class:"bg-secondary",delay:500,anchor:"center right",self:"center left",offset:[10,10]},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",null,"Total Election Count: "+(0,a.toDisplayString)(e.getElectionsState.election_count),1),e.computedNewElectionStats?((0,a.openBlock)(),(0,a.createElementBlock)("div",se," New Election "+(0,a.toDisplayString)(e.secondsToDhms(e.computedNewElectionStats.time_left/1e3)||"NOW"),1)):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"text-weight-light text-h5 text-grey-7"},{default:(0,a.withCtx)((()=>[de])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[e.computedNewElectionStats?((0,a.openBlock)(),(0,a.createBlock)(p,{key:0,value:e.computedNewElectionStats.perc/100,size:"10px",color:"primary"},null,8,["value"])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1}),(0,a.createVNode)(s,{side:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{label:"new",color:"primary",onClick:e.newElection,class:(0,a.normalizeClass)(e.enable_new_election_btn?"pulse":""),loading:e.is_transacting,disabled:!e.enable_new_election_btn},null,8,["onClick","class","loading","disabled"])])),_:1})])),_:1})])}var ue=o(16336);const ge=(0,a.defineComponent)({data(){return{is_transacting:!1,enable_new_election_btn:!1}},computed:{...(0,w.Se)({getAccountName:"proton/getAccountName",getElectionsContract:"elections/getElectionsContract",getElectionsState:"elections/getElectionsState",getElectionsConfig:"elections/getElectionsConfig",getActiveGroup:"group/getActiveGroup",getIsTransacting:"proton/getIsTransacting",getCLOCK:"app/getCLOCK"}),computedNewElectionStats(){let e=this.getCLOCK;if(this.getElectionsConfig&&this.getElectionsState){let t={last_election_date:this.getElectionsState.last_election,last_election_ms:new Date(this.getElectionsState.last_election+".000+00:00").getTime(),election_period_ms:1e3*this.getElectionsConfig.election_period_sec},o=t.last_election_ms+t.election_period_ms,a=o-e;return t.time_left=a,t.perc=a/t.election_period_ms*100,t.perc=t.perc>=0?t.perc:0,0==t.perc?this.enable_new_election_btn=!0:this.enable_new_election_btn=!1,t}return!1}},methods:{secondsToDhms:ue.YE,async newElection(){this.is_transacting=!0;let e={account:this.getElectionsContract,name:"newelection",data:{actor:this.getAccountName}},t=await this.$store.dispatch("proton/transact",{actions:[e],disable_signing_overlay:!0});t&&t.trxid&&setTimeout((()=>{this.$store.dispatch("group/loadGroupRoutine",{groupname:this.getActiveGroup,vm:this}),this.$store.dispatch("elections/loadElectionsRoutine",{vm:this})}),1e3),this.is_transacting=!1}},mounted(){this.getElectionsState?this.loading_config_state=!0:setTimeout((async()=>{this.$store.dispatch("elections/loadElectionsRoutine",{vm:this}),this.loading_config_state=!1}),1e3),this.CLOCK_TIMER&&this.getCLOCK||(this.$store.commit("app/setCLOCK",Date.now()),this.CLOCK_TIMER=setInterval((()=>{this.$store.commit("app/setCLOCK",Date.now())}),1e3))},beforeDestroy(){clearInterval(this.CLOCK_TIMER),this.CLOCK_TIMER=null}});var me=o(5363),Ce=o(51598);const he=(0,q.Z)(ge,[["render",pe]]),_e=he;Q()(ge,"components",{QItem:U.Z,QItemSection:W.Z,QIcon:H.Z,QTooltip:me.Z,QItemLabel:X.Z,QLinearProgress:Ce.Z,QBtn:I.Z});const fe=(0,a.defineComponent)({name:"PageIndex",components:{updateLogo:D,groupTags:O.Z,groupLinks:$.Z,clapForGroup:ie,groupNotificationManager:le.Z,newElectionTimer:_e,dateString:ce.Z,explorerLink:re.Z},data(){return{}},computed:{...(0,w.Se)({getAccountName:"proton/getAccountName",getActiveGroup:"group/getActiveGroup",getActiveGroupConfig:"group/getActiveGroupConfig",getCoreConfig:"group/getCoreConfig",getCoreState:"group/getCoreState",getNumberGuardians:"group/getNumberGuardians",getSelectedBlockExplorer:"user/getSelectedBlockExplorer",getElectionsContract:"elections/getElectionsContract",getElectionsState:"elections/getElectionsState",getIsGuardian:"group/getIsGuardian"}),allowed_to_edit(){return!!this.getIsGuardian(this.getAccountName)}},methods:{openURL:E.Z}});var ve=o(24379);const Ne=(0,q.Z)(fe,[["render",V]]),xe=Ne;Q()(fe,"components",{QPage:ve.Z,QCard:J.Z,QCardSection:ee.Z,QItem:U.Z,QItemSection:W.Z,QItemLabel:X.Z,QIcon:H.Z,QTooltip:me.Z})}}]);