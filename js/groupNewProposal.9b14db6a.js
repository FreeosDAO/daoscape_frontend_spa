(self["webpackChunkthedaoscapefrontend"]=self["webpackChunkthedaoscapefrontend"]||[]).push([[2209],{63139:function(e,t,n){var o,r,i,a=n(40019);(function(n,a){r=[],o=a,i="function"===typeof o?o.apply(t,r):o,void 0===i||(e.exports=i)})(0,(function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(a.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function o(e,t,n){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=function(){l(o.response,t,n)},o.onerror=function(){a.error("could not download file")},o.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(o){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var c="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,l=c.saveAs||("object"!=typeof window||window!==c?function(){}:"download"in HTMLAnchorElement.prototype?function(e,t,n){var a=c.URL||c.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?i(l):r(l.href)?o(e,t,n):i(l,l.target="_blank")):(l.href=a.createObjectURL(e),setTimeout((function(){a.revokeObjectURL(l.href)}),4e4),setTimeout((function(){i(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,a){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,a),n);else if(r(e))o(e,n,a);else{var c=document.createElement("a");c.href=e,c.target="_blank",setTimeout((function(){i(c)}))}}:function(e,t,n,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return o(e,t,n);var i="application/octet-stream"===e.type,a=/constructor/i.test(c.HTMLElement)||c.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||i&&a)&&"object"==typeof FileReader){var s=new FileReader;s.onloadend=function(){var e=s.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},s.readAsDataURL(e)}else{var u=c.URL||c.webkitURL,d=u.createObjectURL(e);r?r.location=d:location.href=d,r=null,setTimeout((function(){u.revokeObjectURL(d)}),4e4)}});c.saveAs=l.saveAs=l,e.exports=l}))},42869:function(e){!function(t,n){e.exports=n()}("undefined"!=typeof self&&self,(function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=/["'&<>]/,i=function(e){var t=r.exec(e);if(null!==t){var n,o="",i=void 0,a=0;for(i=t.index;i<e.length;i++){switch(e.charCodeAt(i)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#39;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}a!==i&&(o+=e.substring(a,i)),a=i+1,o+=n}return a!==i?o+e.substring(a,i):o}return e},a=function(){function e(e){this.buffer=[],this.indentString=e,this.objects=[],this._printSelectionEndAtNewLine=!1}return e.prototype.checkCircular=function(e){for(var t=0,n=this.objects;t<n.length;t++)if(e===n[t])throw new Error("Cannot pretty print object with circular reference");this.objects.push(e)},e.prototype.print=function(e){this.buffer.push(e)},e.prototype.newLine=function(){this._printSelectionEndAtNewLine?(this.printSelectionEnd(),this._printSelectionEndAtNewLine=!1):this.buffer.push("<br>")},e.prototype.space=function(){this.buffer.push("&nbsp;")},e.prototype.indent=function(e){if(e>0){for(var t="",n=0;n<e;n++)t+=this.indentString;this.buffer.push(t)}},e.prototype.printKey=function(e){this.buffer.push('"'),this.buffer.push('<span class="json-key">'+i(e)+"</span>"),this.buffer.push('"')},e.prototype.printString=function(e){this.buffer.push('"'),this.buffer.push('<span class="json-string">'+i(e)+"</span>"),this.buffer.push('"')},e.prototype.printBoolean=function(e){this.buffer.push('<span class="json-boolean">'+e+"</span>")},e.prototype.printNumber=function(e){this.buffer.push('<span class="json-number">'+e+"</span>")},e.prototype.printSelectionStart=function(){this.buffer.push("</div>"),this.buffer.push('<div class="json-pretty json-selected">')},e.prototype.printSelectionEnd=function(){this.buffer.push("</div>"),this.buffer.push('<div class="json-pretty">')},Object.defineProperty(e.prototype,"printSelectionEndAtNewLine",{set:function(e){this._printSelectionEndAtNewLine=e},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this.buffer.join("")},e}(),c=function(e,t,n,o,r){t.checkCircular(e),t.print("{"),t.newLine();for(var i=Object.keys(e),a=0;a<i.length;a++){var s=i[a],u=e[s];switch(o===u&&t.printSelectionStart(),t.indent(n+1),t.printKey(s),t.print(":"),t.space(),typeof u){case"number":t.printNumber(u);break;case"boolean":t.printBoolean(u);break;case"string":t.printString(u);break;case"object":null===u?t.print("null"):Array.isArray(u)?l(u,t,n+1,o,r):c(u,t,n+1,o,r);break;case"undefined":t.print("undefined");break;default:throw new Error("Don''t know what to do with "+typeof u)}a<i.length-1&&t.print(","),t.newLine()}t.indent(n),t.print("}"),o===e&&(t.printSelectionEndAtNewLine=!0)},l=function(e,t,n,o,r){t.checkCircular(e),t.print("["),t.newLine();for(var i=0;i<e.length;i++){var a=e[i];switch(o===a&&t.printSelectionStart(),t.indent(n+1),typeof a){case"number":t.printNumber(a);break;case"boolean":t.printBoolean(a);break;case"string":t.printString(a);break;case"object":null==a?t.print("null"):c(a,t,n+1,o,r);break;case"undefined":t.print("undefined");break;default:throw new Error("Don''t know what to do with "+typeof a)}i<e.length-1&&t.print(","),t.newLine()}t.indent(n),t.print("]"),o===e&&(t.printSelectionEndAtNewLine=!0)};t.default=function(e,t,n){if(void 0!==typeof e&&null!=e){var r=o.__assign({indent:"&nbsp;&nbsp;"},n),i=new a(r.indent);return e===t?i.print('<div class="json-pretty json-selected">'):i.print('<div class="json-pretty">'),Array.isArray(e)?l(e,i,0,t,r):c(e,i,0,t,r),i.print("</div>"),i.toString()}return""}},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return r})),n.d(t,"__assign",(function(){return i})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return c})),n.d(t,"__param",(function(){return l})),n.d(t,"__metadata",(function(){return s})),n.d(t,"__awaiter",(function(){return u})),n.d(t,"__generator",(function(){return d})),n.d(t,"__exportStar",(function(){return p})),n.d(t,"__values",(function(){return m})),n.d(t,"__read",(function(){return f})),n.d(t,"__spread",(function(){return h})),n.d(t,"__await",(function(){return b})),n.d(t,"__asyncGenerator",(function(){return v})),n.d(t,"__asyncDelegator",(function(){return w})),n.d(t,"__asyncValues",(function(){return _})),n.d(t,"__makeTemplateObject",(function(){return k})),n.d(t,"__importStar",(function(){return y})),n.d(t,"__importDefault",(function(){return g}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};function r(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};function a(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&(n[o[r]]=e[o[r]])}return n}function c(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,o){t(n,o,e)}}function s(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function c(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(a,c)}l((o=o.apply(e,t||[])).next())}))}function d(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=o[2&i[0]?"return":i[0]?"throw":"next"])&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[0,r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}function p(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function m(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a}function h(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(e,t||[]),i=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(e){r[e]&&(o[e]=function(t){return new Promise((function(n,o){i.push([e,t,n,o])>1||c(e,t)}))})}function c(e,t){try{!function(e){e.value instanceof b?Promise.resolve(e.value.v).then(l,s):u(i[0][2],e)}(r[e](t))}catch(e){u(i[0][3],e)}}function l(e){c("next",e)}function s(e){c("throw",e)}function u(e,t){e(t),i.shift(),i.length&&c(i[0][0],i[0][1])}}function w(e){var t,n;return t={},o("next"),o("throw",(function(e){throw e})),o("return"),t[Symbol.iterator]=function(){return this},t;function o(o,r){e[o]&&(t[o]=function(t){return(n=!n)?{value:b(e[o](t)),done:"return"===o}:r?r(t):t})}}function _(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):m(e)}function k(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}}])}))},11249:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Xe});var o=n(34182);function r(e,t,n,r,i,a){const c=(0,o.resolveComponent)("page-header"),l=(0,o.resolveComponent)("proposeBucket"),s=(0,o.resolveComponent)("q-tab"),u=(0,o.resolveComponent)("q-tabs"),d=(0,o.resolveComponent)("q-separator"),p=(0,o.resolveComponent)("find-account"),m=(0,o.resolveComponent)("list-actions"),f=(0,o.resolveComponent)("q-tab-panel"),h=(0,o.resolveComponent)("q-btn"),b=(0,o.resolveComponent)("action-fields"),v=(0,o.resolveComponent)("q-tab-panels"),w=(0,o.resolveComponent)("q-page");return(0,o.openBlock)(),(0,o.createBlock)(w,{padding:"",class:"constrain-page-width"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(c,{title:"New Proposal"}),(0,o.createVNode)(l),(0,o.createVNode)(u,{modelValue:e.active_tab,"onUpdate:modelValue":t[0]||(t[0]=t=>e.active_tab=t),class:"text-primary q-mt-md",dense:"",align:"left"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(s,{label:"Advanced",name:"advanced"})])),_:1},8,["modelValue"]),(0,o.createVNode)(d,{class:"q-mb-md"}),(0,o.createVNode)(v,{modelValue:e.advanced_slide,"onUpdate:modelValue":t[1]||(t[1]=t=>e.advanced_slide=t),animated:"","transition-prev":"scale","transition-next":"scale",class:"bg-transparent"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(f,{name:"action_selection",class:"no-padding overflow-hidden"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(p,{value:e.selected_contract,onInputval:e.handleInput},null,8,["value","onInputval"]),e.selected_contract?((0,o.openBlock)(),(0,o.createBlock)(m,{key:0,ref:"listactions",action_name:e.selected_action_name,contract:e.selected_contract,onActionSelect:e.showActionFields,class:"q-mt-md"},null,8,["action_name","contract","onActionSelect"])):(0,o.createCommentVNode)("",!0)])),_:1}),(0,o.createVNode)(f,{name:"action_fields",class:"no-padding overflow-hidden"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(h,{icon:"close",round:"",flat:"",class:"absolute-top-right",color:"primary",onClick:e.goBackToActionSelection},null,8,["onClick"]),(0,o.createVNode)(b,{fields:e.active_action_fields},null,8,["fields"])])),_:1})])),_:1},8,["modelValue"])])),_:1})}n(10071),n(66016);var i=n(55250),a=n(33314);const c={class:"relative-position",style:{height:"70px",width:"70px"}},l=(0,o.createElementVNode)("div",{class:"text-weight-light text-h6 text-white"},"Action Bucket",-1),s=(0,o.createTextVNode)("The bucket holds multiple actions to propose at once."),u=(0,o.createTextVNode)("View raw"),d=(0,o.createTextVNode)("Delete all"),p=(0,o.createTextVNode)("Save to file"),m=(0,o.createTextVNode)("Bucket is empty"),f={key:0,class:"row items-center justify-between q-pa-md bg-secondary"},h={key:0,class:"row no-wrap q-pl-xs"},b=(0,o.createElementVNode)("div",{class:"text-caption text-grey-5 q-pt-sm q-pl-xs"},[(0,o.createElementVNode)("i",null,"drag to order")],-1),v={class:"q-col-gutter-md"},w={class:"row items-center justify-between"},_={style:{height:"200px"},class:"column justify-center items-center"},k=(0,o.createElementVNode)("div",{class:"text-grey-5"},"Waiting for signature",-1),y={style:{height:"200px"},class:"column justify-center items-center"},g=(0,o.createElementVNode)("div",{class:"text-grey-5"},"Transaction successful",-1),C={style:{height:"200px"},class:"column justify-center items-center"},x=(0,o.createElementVNode)("div",{class:"text-grey-5"},"Transaction error",-1),V=["innerHTML"];function N(e,t,n,r,i,a){const N=(0,o.resolveComponent)("bucket-svg"),B=(0,o.resolveComponent)("number-pop-animation"),S=(0,o.resolveComponent)("q-item-section"),A=(0,o.resolveComponent)("q-item-label"),E=(0,o.resolveComponent)("q-item"),q=(0,o.resolveComponent)("q-list"),T=(0,o.resolveComponent)("q-menu"),j=(0,o.resolveComponent)("q-icon"),Z=(0,o.resolveComponent)("q-separator"),O=(0,o.resolveComponent)("bucket-item"),Q=(0,o.resolveComponent)("q-space"),L=(0,o.resolveComponent)("q-btn"),P=(0,o.resolveComponent)("q-tab-panel"),I=(0,o.resolveComponent)("q-input"),R=(0,o.resolveComponent)("q-markdown"),z=(0,o.resolveComponent)("q-spinner"),D=(0,o.resolveComponent)("q-scroll-area"),U=(0,o.resolveComponent)("q-tab-panels"),F=(0,o.resolveComponent)("q-expansion-item"),M=(0,o.resolveComponent)("q-card"),$=(0,o.resolveDirective)("close-popup");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createVNode)(M,{class:"overflow-hidden"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(F,{class:"bg-secondary",modelValue:e.bucket_opened,"onUpdate:modelValue":t[15]||(t[15]=t=>e.bucket_opened=t),"switch-toggle-side":!1,"expand-icon-class":"display-none",onHide:t[16]||(t[16]=t=>"view_raw_bucket"==e.bucket_view?e.bucket_view="bucket_list":"")},{header:(0,o.withCtx)((()=>[(0,o.createVNode)(S,{avatar:""},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",c,[(0,o.createVNode)(N,{color:e.thumbStyle.backgroundColor,size:70},null,8,["color"]),(0,o.createVNode)(B,{input_value:e.getActionBucket.length,class:"absolute",style:{top:"35px",left:"21px"}},null,8,["input_value"])])])),_:1}),(0,o.createVNode)(S,null,{default:(0,o.withCtx)((()=>[l,(0,o.createVNode)(A,{caption:"",class:"gt-xs text-grey-6"},{default:(0,o.withCtx)((()=>[s])),_:1})])),_:1}),(0,o.createVNode)(S,{side:"",onClick:t[4]||(t[4]=(0,o.withModifiers)((()=>{}),["stop"]))},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(j,{name:e.bucket_menu_visible?"menu_open":"menu",class:"cursor-pointer"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(T,{onBeforeShow:t[2]||(t[2]=t=>e.bucket_menu_visible=!0),onHide:t[3]||(t[3]=t=>e.bucket_menu_visible=!1)},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(q,{dense:"",style:{"min-width":"100px"},class:"primary-hover-list"},{default:(0,o.withCtx)((()=>[(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createBlock)(E,{clickable:"",onClick:t[0]||(t[0]=t=>e.bucket_opened=!e.bucket_opened)},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(S,null,{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.bucket_opened?"Close":"Open"),1)])),_:1})])),_:1})),[[$]]),(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createBlock)(E,{disabled:!e.getActionBucket.length,clickable:"",onClick:e.handleViewRawClick},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(S,null,{default:(0,o.withCtx)((()=>[u])),_:1})])),_:1},8,["disabled","onClick"])),[[$]]),(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createBlock)(E,{disabled:!e.getActionBucket.length,clickable:"",onClick:t[1]||(t[1]=t=>e.$store.commit("bucket/setActionBucket",[]))},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(S,null,{default:(0,o.withCtx)((()=>[d])),_:1})])),_:1},8,["disabled"])),[[$]]),(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createBlock)(E,{disabled:!e.getActionBucket.length,clickable:"",onClick:e.exportBucket},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(S,null,{default:(0,o.withCtx)((()=>[p])),_:1})])),_:1},8,["disabled","onClick"])),[[$]])])),_:1})])),_:1})])),_:1},8,["name"])])),_:1})])),default:(0,o.withCtx)((()=>[(0,o.createVNode)(Z),(0,o.createVNode)(U,{modelValue:e.bucket_view,"onUpdate:modelValue":t[14]||(t[14]=t=>e.bucket_view=t),animated:"","transition-prev":"scale","transition-next":"scale"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(P,{name:"bucket_list",class:"overflow-hidden no-padding"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",null,[(0,o.createVNode)(q,{class:"primary-hover-list",separator:""},{default:(0,o.withCtx)((()=>[e.getActionBucket.length?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(E,{key:0},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(S,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(A,null,{default:(0,o.withCtx)((()=>[m])),_:1})])),_:1})])),_:1})),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.getActionBucket,(e=>((0,o.openBlock)(),(0,o.createBlock)(E,null,{default:(0,o.withCtx)((()=>[((0,o.openBlock)(),(0,o.createBlock)(O,{key:e.unique_id,action:e},null,8,["action"]))])),_:2},1024)))),256))])),_:1}),(0,o.createVNode)(o.Transition,{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"},{default:(0,o.withCtx)((()=>[e.getActionBucket.length?((0,o.openBlock)(),(0,o.createElementBlock)("div",f,[e.getActionBucket.length>1?((0,o.openBlock)(),(0,o.createElementBlock)("div",h,[(0,o.createVNode)(j,{name:"mdi-subdirectory-arrow-left",color:"primary",class:"rotate-90",size:"24px"}),b])):((0,o.openBlock)(),(0,o.createBlock)(Q,{key:1})),(0,o.createVNode)(L,{disabled:!e.getActionBucket.length,label:"next",onClick:t[5]||(t[5]=t=>e.bucket_view="bucket_meta"),color:"primary",size:"md"},null,8,["disabled"])])):(0,o.createCommentVNode)("",!0)])),_:1})])])),_:1}),(0,o.createVNode)(P,{name:"bucket_meta",class:"overflow-hidden"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",v,[(0,o.createVNode)(I,{label:"Title",modelValue:e.propose_title,"onUpdate:modelValue":t[6]||(t[6]=t=>e.propose_title=t),outlined:""},null,8,["modelValue"]),(0,o.createElementVNode)("div",null,[(0,o.createElementVNode)("div",{class:"cursor-pointer text-caption",onClick:t[7]||(t[7]=t=>e.preview_description=!e.preview_description)}," ("+(0,o.toDisplayString)(e.preview_description?"Edit":"Preview")+") ",1),e.preview_description?((0,o.openBlock)(),(0,o.createBlock)(R,{key:0,style:{"min-height":"145px"},class:"text-weight-light",src:e.propose_description,"no-abbreviation":!1},null,8,["src"])):((0,o.openBlock)(),(0,o.createBlock)(I,{key:1,label:"Description",placeholder:"markdown supported",modelValue:e.propose_description,"onUpdate:modelValue":t[8]||(t[8]=t=>e.propose_description=t),type:"textarea",outlined:""},null,8,["modelValue"]))]),(0,o.createElementVNode)("div",w,[(0,o.createVNode)(L,{flat:"",label:"back",onClick:t[9]||(t[9]=t=>e.bucket_view="bucket_list"),color:"primary",size:"md"}),(0,o.createVNode)(L,{disabled:!e.propose_title||!e.propose_description,label:"propose",onClick:e.propose,color:"primary",size:"md"},null,8,["disabled","onClick"])])])])),_:1}),(0,o.createVNode)(P,{name:"request_signature",class:"overflow-hidden"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",_,[(0,o.createVNode)(z,{size:"36px",color:"primary",onClick:t[10]||(t[10]=t=>e.bucket_view="bucket_meta"),class:"cursor-pointer"}),k])])),_:1}),(0,o.createVNode)(P,{name:"trx_success",class:"overflow-hidden"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",y,[(0,o.createVNode)(j,{name:"mdi-check-circle-outline",size:"48px",color:"positive",onClick:t[11]||(t[11]=t=>e.bucket_view="bucket_meta"),class:"cursor-pointer"}),g])])),_:1}),(0,o.createVNode)(P,{name:"trx_error",class:"overflow-hidden"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",C,[(0,o.createVNode)(j,{name:"mdi-alert-circle-outline",size:"48px",color:"negative",onClick:t[12]||(t[12]=t=>e.bucket_view="bucket_meta"),class:"cursor-pointer"}),x])])),_:1}),(0,o.createVNode)(P,{name:"view_raw_bucket",class:"overflow-hidden text-secondary"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(L,{icon:"close",unelevated:"",style:{"z-index":"99"},round:"",class:"absolute-top-right q-ma-md",onClick:t[13]||(t[13]=t=>e.bucket_view="bucket_list"),size:"sm",color:"secondary"}),(0,o.createVNode)(D,{visible:!0,"thumb-style":e.thumbStyle,style:{height:"250px",width:"100%"}},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",{innerHTML:e.getRawBucketContent},null,8,V)])),_:1},8,["thumb-style"])])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])])),_:1})])}var B=n(49905),S=n(40470),A=n.n(S),E=n(90237),q=n(93077);const T={class:"row items-center"},j=(0,o.createTextVNode)("Delete"),Z=(0,o.createTextVNode)("Action data"),O=(0,o.createTextVNode)("Authorization");function Q(e,t,n,r,i,a){const c=(0,o.resolveComponent)("q-item-label"),l=(0,o.resolveComponent)("q-item-section"),s=(0,o.resolveComponent)("threshold-badge"),u=(0,o.resolveComponent)("q-tooltip"),d=(0,o.resolveComponent)("q-btn"),p=(0,o.resolveComponent)("q-separator"),m=(0,o.resolveComponent)("q-item"),f=(0,o.resolveComponent)("authorization-display"),h=(0,o.resolveComponent)("q-card-section"),b=(0,o.resolveComponent)("q-card"),v=(0,o.resolveComponent)("q-expansion-item");return(0,o.openBlock)(),(0,o.createBlock)(v,{group:"bucketitem",clickable:"",class:"cursor-default",style:{"border-bottom":"1px solid grey"}},{header:(0,o.withCtx)((()=>[(0,o.createVNode)(l,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(c,null,{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.action.account)+" > "+(0,o.toDisplayString)(e.action.name),1)])),_:1})])),_:1}),(0,o.createVNode)(l,{side:""},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",T,[(0,o.createVNode)(s,{contract:e.action.account,action_name:e.action.name,class:"q-mr-sm"},null,8,["contract","action_name"]),(0,o.createVNode)(d,{icon:"remove",unelevated:"",dense:"",size:"sm",color:"negative",onClick:t[0]||(t[0]=t=>e.$store.commit("bucket/removeFromActionBucketByIndex",e.key))},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(u,{delay:400,class:"bg-secondary"},{default:(0,o.withCtx)((()=>[j])),_:1})])),_:1})])])),_:1})])),default:(0,o.withCtx)((()=>[(0,o.createVNode)(p),(0,o.createVNode)(b,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(h,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(m,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(l,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(c,null,{default:(0,o.withCtx)((()=>[Z])),_:1}),(0,o.createVNode)(c,{caption:""},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.action.data),1)])),_:1})])),_:1})])),_:1}),(0,o.createVNode)(m,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(l,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(c,null,{default:(0,o.withCtx)((()=>[O])),_:1}),(0,o.createVNode)(c,{caption:""},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(f,{action:e.action,edit:!0},null,8,["action"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}const L=(0,o.createTextVNode)("warning, no authorization set "),P={key:0},I={class:"q-mt-md row items-center justify-between no-wrap"},R=(0,o.createTextVNode)(" @ ");function z(e,t,n,r,i,a){const c=(0,o.resolveComponent)("q-btn"),l=(0,o.resolveComponent)("q-badge"),s=(0,o.resolveComponent)("q-icon"),u=(0,o.resolveComponent)("q-input");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createVNode)(o.TransitionGroup,{"enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut",mode:"in-out",class:"row q-gutter-xs items-center",tag:"div"},{default:(0,o.withCtx)((()=>[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.action.authorization,((t,n)=>((0,o.openBlock)(),(0,o.createBlock)(l,{key:t.actor+t.permission},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(`${t.actor}@${t.permission}`)+" ",1),e.edit?((0,o.openBlock)(),(0,o.createBlock)(c,{key:0,onClick:t=>e.remove(n),icon:"mdi-close",size:"xs",round:"",dense:"",color:"secondary",class:"no-shadow q-ml-xs"},null,8,["onClick"])):(0,o.createCommentVNode)("",!0)])),_:2},1024)))),128)),0==e.action.authorization.length?((0,o.openBlock)(),(0,o.createBlock)(l,{color:"warning",key:"warning"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(s,{name:"mdi-alert"}),L])),_:1})):(0,o.createCommentVNode)("",!0)])),_:1}),e.edit?((0,o.openBlock)(),(0,o.createElementBlock)("div",P,[(0,o.createElementVNode)("div",I,[(0,o.createVNode)(u,{dense:"",style:{"min-width":"200px"},class:"q-mr-xs",ref:"actor",modelValue:e.new_actor,"onUpdate:modelValue":t[0]||(t[0]=t=>e.new_actor=t),label:"Actor",outlined:"",maxlength:"12",debounce:500,"bottom-slots":"",placeholder:"name of the account","no-error-icon":"",rules:[e=>!!e||"* Required",e.isValidAccountName,e.isExistingAccountNameWrapper]},null,8,["modelValue","rules"]),(0,o.createVNode)(u,{dense:"",style:{width:"100%"},ref:"permission",modelValue:e.new_permission,"onUpdate:modelValue":t[1]||(t[1]=t=>e.new_permission=t),label:"Permission",outlined:"","bottom-slots":"",placeholder:"permission to use","no-error-icon":"",rules:[e=>!!e||"* Required",e.isValidAccountName]},{prepend:(0,o.withCtx)((()=>[R])),after:(0,o.withCtx)((()=>[(0,o.createVNode)(c,{icon:"mdi-plus",onClick:e.add,dense:"",round:"",color:"primary"},null,8,["onClick"])])),_:1},8,["modelValue","rules"])])])):(0,o.createCommentVNode)("",!0)])}var D=n(47592);const U=(0,o.defineComponent)({name:"authorizationDisplay",props:{action:{type:Object,default:()=>({})},edit:{type:Boolean,default:!1}},data(){return{new_actor:"",new_permission:""}},methods:{isValidAccountName:D.ZF,isExistingAccountName:D.oO,async isExistingAccountNameWrapper(e){return await(0,D.oO)({value:e,vm:this})},add(){this.$refs.actor.validate(),this.$refs.permission.validate(),this.$refs.actor.hasError||this.$refs.permission.hasError||(this.action.authorization.push({actor:this.new_actor,permission:this.new_permission}),this.new_actor="",this.new_permission="")},remove(e){this.action.authorization.splice(e,1)}}});var F=n(74260),M=n(69721),$=n(2165),G=n(24554),H=n(64689),J=n(7518),W=n.n(J);const K=(0,F.Z)(U,[["render",z]]),X=K;W()(U,"components",{QBadge:M.Z,QBtn:$.Z,QIcon:G.Z,QInput:H.Z});var Y=n(69917);const ee=(0,o.defineComponent)({name:"bucketItem",components:{authorizationDisplay:X,thresholdBadge:Y.Z},props:{action:{},key:"",i:0},data(){return{}}});var te=n(60429),ne=n(52035),oe=n(2350),re=n(5363),ie=n(65869),ae=n(10151),ce=n(25589),le=n(83414);const se=(0,F.Z)(ee,[["render",Q]]),ue=se;W()(ee,"components",{QExpansionItem:te.Z,QItemSection:ne.Z,QBadge:M.Z,QItemLabel:oe.Z,QBtn:$.Z,QTooltip:re.Z,QSeparator:ie.Z,QCard:ae.Z,QCardSection:ce.Z,QItem:le.Z});var de=n(63139);const pe=n(42869)["default"],me=(0,o.defineComponent)({name:"proposeBucket",components:{draggable:A(),numberPopAnimation:E.Z,bucketSvg:q.Z,bucketItem:ue},data(){return{preview_description:!1,bucket_opened:!1,bucket_view:"bucket_list",propose_title:"",propose_description:"",bucket_menu_visible:!1,raw_bucket_content:"",thumbStyle:{right:"-16px",borderRadius:"5px",backgroundColor:(0,B.Z)("primary"),width:"5px",opacity:.75}}},computed:{...(0,i.Se)({getActionBucket:"bucket/getActionBucket",getLinkedThresholdForContractAction:"group/getLinkedThresholdForContractAction"}),draggable_action_bucket:{get(){return this.getActionBucket},set(e){this.$store.commit("bucket/setActionBucket",e)}},getRawBucketContent(){const e=pe(this.clone_bucket());return e}},methods:{clone_bucket(){let e=JSON.parse(JSON.stringify(this.getActionBucket));return e.forEach((e=>{delete e.unique_id})),e},exportBucket(){if(0==this.getActionBucket.length)return;let e=this.clone_bucket(),t=new Blob([JSON.stringify(e,null,4)],{type:"text/plain;charset=utf-8"});(0,de.saveAs)(t,`action_bucket_${Date.now()}.json`)},handleViewRawClick(){if(!this.getActionBucket.length)return this.bucket_view="bucket_list",void(this.bucket_opened=!0);this.bucket_opened=!0,this.bucket_view="view_raw_bucket"},async propose(){this.bucket_view="request_signature";let e=JSON.parse(JSON.stringify(this.getActionBucket));e.forEach((e=>{e.data=e.hex,delete e.hex,delete e.unique_id}));let t=await this.$store.dispatch("group/propose",{data:{actions:e,description:this.propose_description,title:this.propose_title},vm:this});t&&t.trxid?(this.$store.commit("bucket/setActionBucket",[]),this.bucket_view="trx_success"):this.bucket_view="trx_error",setTimeout((()=>{this.bucket_view="bucket_list"}),1500)}}});var fe=n(20811),he=n(27011),be=n(5906),ve=n(86602),we=n(62025),_e=n(6833),ke=n(47704),ye=n(60677);const ge=(0,F.Z)(me,[["render",N]]),Ce=ge;W()(me,"components",{QCard:ae.Z,QExpansionItem:te.Z,QItemSection:ne.Z,QIcon:G.Z,QItemLabel:oe.Z,QMenu:fe.Z,QList:he.Z,QItem:le.Z,QSeparator:ie.Z,QTabPanels:be.Z,QTabPanel:ve.Z,QSpace:we.Z,QBtn:$.Z,QInput:H.Z,QSpinner:_e.Z,QScrollArea:ke.Z}),W()(me,"directives",{ClosePopup:ye.Z});const xe={key:0},Ve={key:1,class:"row justify-center items-center",style:{height:"100px"}};function Ne(e,t,n,r,i,a){const c=(0,o.resolveComponent)("q-icon"),l=(0,o.resolveComponent)("q-input"),s=(0,o.resolveComponent)("q-item-section"),u=(0,o.resolveComponent)("q-item-label"),d=(0,o.resolveComponent)("q-item"),p=(0,o.resolveComponent)("q-spinner");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[e.is_loading?((0,o.openBlock)(),(0,o.createElementBlock)("div",Ve,[(0,o.createVNode)(p,{color:"primary",size:"48px"})])):((0,o.openBlock)(),(0,o.createElementBlock)("div",xe,[e.abi_actions.length?((0,o.openBlock)(),(0,o.createBlock)(l,{key:0,placeholder:"Search Actions",outlined:"",modelValue:e.filter,"onUpdate:modelValue":t[1]||(t[1]=t=>e.filter=t),modelModifiers:{trim:!0},class:"q-mb-md"},{prepend:(0,o.withCtx)((()=>[(0,o.createVNode)(c,{name:"search",class:"cursor-pointer"})])),append:(0,o.withCtx)((()=>[(0,o.createVNode)(o.Transition,{appear:"","enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut",tag:"div"},{default:(0,o.withCtx)((()=>[e.filter.length?((0,o.openBlock)(),(0,o.createBlock)(c,{name:"close",key:"has_filter",onClick:t[0]||(t[0]=t=>e.filter=""),class:"cursor-pointer"})):(0,o.createCommentVNode)("",!0)])),_:1})])),_:1},8,["modelValue"])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(o.TransitionGroup,{appear:"","enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut",mode:"in-out",class:"row q-col-gutter-xs",tag:"div"},{default:(0,o.withCtx)((()=>[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.getActionListWithFilter,(t=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:t.name,style:{width:"157px"}},[(0,o.createVNode)(d,{clickable:"",onClick:n=>e.handleActionClick(t),dense:"",class:"bg-primary cursor-pointer rounded-borders"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(s,{avatar:""},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(c,{name:"check",color:"white"})])),_:1}),(0,o.createVNode)(s,{style:{"margin-left":"-22px"},class:"text-center"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(u,{class:"text-white text-uppercase",style:{"font-size":"12px"}},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(t.name),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])])))),128))])),_:1})]))])}var Be=n(40019);const Se=(0,o.defineComponent)({name:"listActions",props:{contract:{type:String,default:""},action_name:{type:String,default:""}},data(){return{abi:"",abi_actions:[],selected_action:"",filter:"",is_loading:!1}},computed:{getActionListWithFilter(){return this.filter?(this.filter=this.filter.toLowerCase(),this.abi_actions.filter((e=>e.name.includes(this.filter)))):this.abi_actions}},methods:{async getActionsFromAbi(e){if(!e)return;this.is_loading=!0,this.abi="",this.abi_actions=[];let t=await this.$eos.api.rpc.get_abi(e);if(Be.log(t),!t||t.account_name!=e||!t.abi)return[];this.abi=t,this.abi_actions=t.abi.actions.map((e=>{let t={};return t.name=e.name,t.type=e.type,t.icon="http://raw.githubusercontent.com/EOS-Jungle-Testnet/icons/master/admin.png#9bf1cec664863bd6aaac0f814b235f8799fb02c850e9aa5da34e8a004bd6518e",t})),this.is_loading=!1},getStructForAction(e){let t=this.abi.abi.structs.find((t=>t.name==e.name||t.name==e.type));if(t)return t;alert(`struct not found for ${e.name}`)},handleActionClick(e){this.$emit("action-select",this.getStructForAction(e))}},watch:{contract:{handler:function(e){e&&this.getActionsFromAbi(e)},immediate:!0},action_name:{handler:async function(e,t){e&&e!=t&&(this.filter=e)},immediate:!0},abi_actions:{immediate:!1,handler:function(e,t){if(e!=t&&e.length){let e=window.location.search.substring(1),t=new URLSearchParams(e),n=t.get("action");if(n){let e=this.abi_actions.find((e=>e.name==n));e&&this.handleActionClick(e)}}}}}});var Ae=n(24152);const Ee=(0,F.Z)(Se,[["render",Ne]]),qe=Ee;W()(Se,"components",{QInput:H.Z,QIcon:G.Z,QItem:le.Z,QItemSection:ne.Z,QImg:Ae.Z,QItemLabel:oe.Z,QSpinner:_e.Z});var Te=n(76615);const je={class:"text-grey-7 text-h6 q-mb-md"},Ze=(0,o.createElementVNode)("span",{class:"text-primary q-mx-xs"},">",-1),Oe={class:"row q-col-gutter-md",style:{"min-height":"50px"}},Qe={key:0},Le={key:1},Pe={key:2},Ie={class:"row justify-between full-width items-center q-pb-xs"};function Re(e,t,n,r,i,a){const c=(0,o.resolveComponent)("q-select"),l=(0,o.resolveComponent)("q-input"),s=(0,o.resolveComponent)("threshold-badge"),u=(0,o.resolveComponent)("q-btn");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("div",je,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.fields.contract),1),Ze,(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.fields.name),1)]),(0,o.createElementVNode)("div",Oe,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.action_fields.fields,(t=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:t.name,class:"col-xs-12 col-sm-6 col-md-4"},["bool"==t.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",Qe,[(0,o.createVNode)(c,{modelValue:t.value,"onUpdate:modelValue":e=>t.value=e,"bottom-slots":"",label:t.name,outlined:"",color:"primary","emit-value":"",options:[{value:!0,label:"true"},{value:!1,label:"false"}]},null,8,["modelValue","onUpdate:modelValue","label"])])):e.isNumberType(t.type)?((0,o.openBlock)(),(0,o.createElementBlock)("div",Le,[(0,o.createVNode)(l,{type:"number",outlined:"",color:"primary",label:t.name,modelValue:t.value,"onUpdate:modelValue":e=>t.value=e,placeholder:`${t.type}`,"bottom-slots":"",rules:[...e.getValidationRulesForType(t.type)]},null,8,["label","modelValue","onUpdate:modelValue","placeholder","rules"])])):((0,o.openBlock)(),(0,o.createElementBlock)("div",Pe,[(0,o.createVNode)(l,{outlined:"",color:"primary",label:t.name,modelValue:t.value,"onUpdate:modelValue":e=>t.value=e,placeholder:`${t.type}`,"bottom-slots":"",rules:[...e.getValidationRulesForType(t.type)]},null,8,["label","modelValue","onUpdate:modelValue","placeholder","rules"])]))])))),128))]),(0,o.createElementVNode)("div",Ie,[(0,o.createVNode)(s,{label:"",contract:e.fields.contract,action_name:e.fields.name},null,8,["contract","action_name"]),(0,o.createVNode)(u,{icon:"mdi-plus",disabled:e.addToBucketAllowed,label:"add to bucket",color:"primary",onClick:e.addToBucket},null,8,["disabled","onClick"])])])}const ze=["uint8","int8","uint16","int16","uint32","uint64","int64","int32","varuint32","varint32","uint128","int128","float32","float64","float128"],De=(0,o.defineComponent)({name:"actionFields",components:{thresholdBadge:Y.Z},props:{fields:{type:Object,default:()=>({})}},data(){return{action_fields:""}},computed:{...(0,i.Se)({getAccountName:"proton/getAccountName",getActiveGroup:"group/getActiveGroup",getLinkedThresholdForContractAction:"group/getLinkedThresholdForContractAction",getModules:"group/getModules"}),addToBucketAllowed(){let e=!1;return e}},methods:{async addToBucket(){let e={account:this.fields.contract,name:this.fields.name,authorization:[{actor:this.getActiveGroup,permission:"owner"}],data:{}},t=!1;this.getModules&&this.getModules.length&&(t=this.getModules.find((e=>e.slave_permission.actor==this.fields.contract))),t&&(e.authorization=[t.slave_permission]),this.action_fields.fields.forEach((t=>{let n=String(t.value).trim();n.includes("[")&&n.includes("]")||n.includes("{")&&n.includes("}")?n=JSON.parse(n):"bool"==t.type?n="true"===n:this.isNumberType(t.type)&&(n=Number(n)),e.data[t.name]=n})),this.$store.dispatch("bucket/addToBucket",{action:e,vm:this})},isNumberType(e){return ze.includes(e)},getValidationRulesForType(e){let t=[];switch(e){case"name":t.push(D.ZF);break;default:break}return t}},mounted(){this.action_fields=JSON.parse(JSON.stringify(this.fields))}});var Ue=n(63314);const Fe=(0,F.Z)(De,[["render",Re]]),Me=Fe;W()(De,"components",{QSelect:Ue.Z,QInput:H.Z,QBtn:$.Z});var $e=n(40019);const Ge=(0,o.defineComponent)({name:"newProposal",components:{pageHeader:a.Z,proposeBucket:Ce,findAccount:Te.Z,listActions:qe,actionFields:Me},data(){return{active_tab:"advanced",selected_contract:"",selected_action_name:"",advanced_slide:"action_selection",active_action_fields:!1}},computed:{...(0,i.Se)({getAccountName:"proton/getAccountName",getActiveGroup:"group/getActiveGroup",getActiveGroupConfig:"group/getActiveGroupConfig",getNumberGuardians:"group/getNumberGuardians"})},methods:{goBackToActionSelection(){let e=window.location.search.substring(1),t=new URLSearchParams(e);t.delete("action"),window.history.replaceState({},"",`${location.pathname}?${t}`),this.selected_action_name="",this.advanced_slide="action_selection"},showActionFields(e){e.contract=this.selected_contract,e.fields=e.fields.map((e=>(e.value="",e))),this.active_action_fields=e;let t=window.location.search.substring(1),n=new URLSearchParams(t);this.active_action_fields.fields.forEach((e=>{e.value=n.get(e.name)||""})),this.advanced_slide="action_fields"},handleInput(e){$e.log("selected contract",e),this.selected_contract=e}},created(){let e=window.location.search.substring(1),t=new URLSearchParams(e);for(const[n,o]of t){switch(n){case"contract":this.selected_contract=o;break;case"action":this.selected_action_name=o,this.$refs;break}$e.log(n,o)}}});var He=n(24379),Je=n(57547),We=n(58408);const Ke=(0,F.Z)(Ge,[["render",r]]),Xe=Ke;W()(Ge,"components",{QPage:He.Z,QTabs:Je.Z,QTab:We.Z,QSeparator:ie.Z,QTabPanels:be.Z,QTabPanel:ve.Z,QBtn:$.Z})}}]);