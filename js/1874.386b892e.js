"use strict";(self["webpackChunkthedaoscapefrontend"]=self["webpackChunkthedaoscapefrontend"]||[]).push([[1874],{81874:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v});var o=a(34182);const r=(0,o.createTextVNode)("RAM"),l=(0,o.createTextVNode)("EOS Value"),i={key:0},n=(0,o.createTextVNode)("Available"),c=(0,o.createTextVNode)("Used"),d={class:"absolute-full flex flex-center text-black",style:{"font-size":"11px"}},s=(0,o.createTextVNode)("RAM"),u=(0,o.createTextVNode)("Please log in");function p(e,t,a,p,h,m){const x=(0,o.resolveComponent)("q-item-label"),f=(0,o.resolveComponent)("q-item-section"),C=(0,o.resolveComponent)("q-btn"),w=(0,o.resolveComponent)("q-item"),N=(0,o.resolveComponent)("q-linear-progress"),V=(0,o.resolveComponent)("q-list");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[e.getRAMStats?((0,o.openBlock)(),(0,o.createBlock)(V,{key:0,dense:"",dark:e.dark},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(x,{header:"",class:"text-h6"},{default:(0,o.withCtx)((()=>[r])),_:1}),(0,o.createVNode)(w,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(f,{side:""},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(x,{caption:""},{default:(0,o.withCtx)((()=>[l])),_:1})])),_:1}),(0,o.createVNode)(f,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(x,{caption:"",class:"row items-center no-wrap"},{default:(0,o.withCtx)((()=>["none"!==e.rprice?((0,o.openBlock)(),(0,o.createElementBlock)("span",i,(0,o.toDisplayString)(e.rprice),1)):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(C,{loading:e.ramprice_loading,icon:"refresh",dense:"",round:"",color:"primary",flat:"",size:"10px",onClick:e.getRamPrice},null,8,["loading","onClick"])])),_:1})])),_:1})])),_:1}),(0,o.createVNode)(w,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(f,{side:""},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(x,{caption:""},{default:(0,o.withCtx)((()=>[n])),_:1})])),_:1}),(0,o.createVNode)(f,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(x,{caption:"",class:"text-weight-bold"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.getRAMStats.available),1)])),_:1})])),_:1})])),_:1}),(0,o.createVNode)(w,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(f,{side:""},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(x,{caption:""},{default:(0,o.withCtx)((()=>[c])),_:1})])),_:1}),(0,o.createVNode)(f,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(x,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(N,{value:e.getRAMStats.perc_used/100,size:"20px",color:"primary",dark:e.dark},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",d,(0,o.toDisplayString)(e.getRAMStats.perc_used.toFixed(2)+"%"),1)])),_:1},8,["value","dark"])])),_:1}),(0,o.createVNode)(x,{caption:""},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.getRAMStats.used)+"/"+(0,o.toDisplayString)(e.getRAMStats.max),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["dark"])):((0,o.openBlock)(),(0,o.createBlock)(V,{key:1,dense:"",dark:e.dark},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(x,{header:""},{default:(0,o.withCtx)((()=>[s])),_:1}),(0,o.createVNode)(w,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(f,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(x,{caption:""},{default:(0,o.withCtx)((()=>[u])),_:1})])),_:1})])),_:1})])),_:1},8,["dark"]))])}var h=a(55250),m=a(40019);const x=(0,o.defineComponent)({name:"ramResource",props:{dark:!1},data(){return{CLOCK_TIMER:null,rprice:"none",ramprice_loading:!1}},computed:{...(0,h.Se)({getRAMStats:"group/getRAMStats",getAccountName:"proton/getAccountName"})},methods:{async getRamPrice(){this.ramprice_loading=!0;let e=await this.$eos.api.rpc.get_table_rows({json:!0,code:"eosio",scope:"eosio",table:"rammarket",limit:1}).catch((e=>!1));if(e&&e.rows.length){e=e.rows[0];let t=parseFloat(e.quote.balance),a=parseFloat(e.base.balance),o=(parseFloat(e.quote.weight),Number(t/a).toFixed(7));this.rprice=1024*o+" EOS/KB",m.log(this.rprice)}else this.rprice="none";await new Promise((e=>{setTimeout(e,100)})),this.ramprice_loading=!1}},mounted(){this.getRamPrice()}});var f=a(74260),C=a(27011),w=a(2350),N=a(83414),V=a(52035),g=a(2165),_=a(51598),k=a(7518),S=a.n(k);const b=(0,f.Z)(x,[["render",p]]),v=b;S()(x,"components",{QList:C.Z,QItemLabel:w.Z,QItem:N.Z,QItemSection:V.Z,QBtn:g.Z,QLinearProgress:_.Z})}}]);