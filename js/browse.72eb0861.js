"use strict";(self["webpackChunkthedaoscapefrontend"]=self["webpackChunkthedaoscapefrontend"]||[]).push([[9088],{32522:(e,t,o)=>{o.r(t),o.d(t,{default:()=>L});var r=o(34182);const a={class:"center-page-content"},l={class:"q-mb-md"},i={key:0,class:"row items-center text-grey-7"};function s(e,t,o,s,n,c){const u=(0,r.resolveComponent)("q-icon"),p=((0,r.resolveComponent)("q-item-section"),(0,r.resolveComponent)("q-item"),(0,r.resolveComponent)("q-list"),(0,r.resolveComponent)("q-menu"),(0,r.resolveComponent)("q-input")),d=(0,r.resolveComponent)("q-tab"),m=(0,r.resolveComponent)("q-tabs"),h=(0,r.resolveComponent)("q-separator"),g=(0,r.resolveComponent)("group-card"),f=(0,r.resolveComponent)("q-page");(0,r.resolveDirective)("close-popup");return(0,r.openBlock)(),(0,r.createBlock)(f,{padding:"",class:"text-black"},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",a,[(0,r.createElementVNode)("div",null,[(0,r.createVNode)(p,{placeholder:"Find Group",outlined:"",modelValue:e.searchfilter,"onUpdate:modelValue":t[3]||(t[3]=t=>e.searchfilter=t),modelModifiers:{trim:!0}},{prepend:(0,r.withCtx)((()=>[(0,r.createVNode)(u,{name:"search",class:"cursor-pointer"})])),append:(0,r.withCtx)((()=>[(0,r.createVNode)(r.TransitionGroup,{appear:"","enter-active-class":"animated fadeInRight","leave-active-class":"animated fadeOutRight",tag:"div"},{default:(0,r.withCtx)((()=>[e.searchfilter.length?((0,r.openBlock)(),(0,r.createBlock)(u,{name:"close",key:"has_filter",onClick:t[0]||(t[0]=t=>e.searchfilter=""),class:"cursor-pointer"})):((0,r.openBlock)(),(0,r.createBlock)(u,{key:"no_filter",name:e.menu_visible?"menu_open":"menu",class:"cursor-pointer"},{default:(0,r.withCtx)((()=>[(0,r.createCommentVNode)("",!0)])),_:1},8,["name"]))])),_:1})])),_:1},8,["modelValue"]),(0,r.createElementVNode)("div",l,[(0,r.createVNode)(m,{modelValue:e.tabfilter,"onUpdate:modelValue":t[4]||(t[4]=t=>e.tabfilter=t),dense:"",class:"text-primary",align:"left","no-caps":"","inline-label":""},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(d,{label:`All (${e.getGroups.length})`,name:"all"},null,8,["label"]),(0,r.createVNode)(d,{label:`Favourites (${e.getFavouriteGroups.length})`,name:"favourites",icon:"star"},null,8,["label"])])),_:1},8,["modelValue"]),(0,r.createVNode)(h)])]),(0,r.createVNode)(r.Transition,{appear:"","enter-active-class":"animated fadeInDown",class:"column q-gutter-md",tag:"div"},{default:(0,r.withCtx)((()=>[e.getGroupsWithFilter.length?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("span",i,[(0,r.createVNode)(u,{name:"error_outline",size:"24px",class:"q-mr-sm"}),(0,r.createTextVNode)(" No Groups found on "+(0,r.toDisplayString)(e.getActiveNetwork)+"... ",1)]))])),_:1}),(0,r.createVNode)(r.TransitionGroup,{appear:"","enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut",class:"row q-col-gutter-md",tag:"div"},{default:(0,r.withCtx)((()=>[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.getGroupsWithFilter,(e=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.groupname,class:"col-xs-12 col-sm-6 col-md-4 col-lg-3 col-xl-3 row items-stretch"},[(0,r.createVNode)(g,{group:e,class:"full-width"},null,8,["group"])])))),128))])),_:1})])])),_:1})}var n=o(55250);const c={class:"full-height column justify-between overflow-hidden q-pt-xl"},u={class:"row justify-center items-center text-white text-weight-light q-py-sm",style:{"min-height":"115px"}},p={class:"text-bold text-uppercase text-center",style:{"flex-basis":"100%"}},d={style:{background:"rgb(0 0 0 / 25%)",height:"60px"},class:"full-width row justify-between items-center"},m={key:0,class:"absolute-top row justify-start q-pa-sm full-width"};function h(e,t,o,a,l,i){const s=(0,r.resolveComponent)("q-img"),n=(0,r.resolveComponent)("q-avatar"),h=(0,r.resolveComponent)("q-btn"),g=(0,r.resolveComponent)("q-tooltip"),f=(0,r.resolveComponent)("group-tags"),v=(0,r.resolveComponent)("q-card");return e.group.state?((0,r.openBlock)(),(0,r.createBlock)(v,{key:0,class:"overflow-hidden relative-position",style:(0,r.normalizeStyle)({backgroundColor:e.getGroupColor})},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",c,[(0,r.createElementVNode)("div",u,[e.group.ui.logo?((0,r.openBlock)(),(0,r.createBlock)(n,{key:0,class:"q-mb-sm",size:"80px"},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(s,{contain:"",src:e.group.ui.logo,"spinner-color":"white"},null,8,["src"])])),_:1})):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("div",p,(0,r.toDisplayString)(e.group.groupname),1)]),(0,r.createElementVNode)("div",d,[(0,r.createElementVNode)("div",null,[(0,r.createVNode)(h,{round:"",color:e.group.is_fav?"yellow":"white",flat:"",icon:"star",size:"md",onClick:t[0]||(t[0]=t=>{e.$store.commit("user/setFavouriteGroups",e.group.groupname),e.group.is_fav=!e.group.is_fav})},null,8,["color"])]),(0,r.createElementVNode)("div",null,[e.getUiUrl.startsWith("/")?((0,r.openBlock)(),(0,r.createBlock)(h,{key:0,label:"Visit Group",to:e.getUiUrl,flat:"",size:"sm","text-color":"white",style:(0,r.normalizeStyle)({backgroundColor:e.getGroupColor})},null,8,["to","style"])):((0,r.openBlock)(),(0,r.createBlock)(h,{key:1,label:"Visit Group",onClick:t[1]||(t[1]=t=>e.openURL(e.getUiUrl)),icon:"link",flat:"",size:"sm","text-color":"white",style:(0,r.normalizeStyle)({backgroundColor:e.group.ui.hexcolor})},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(g,{class:"bg-secondary",delay:500,anchor:"center left",self:"center right",offset:[10,10]},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)((0,r.toDisplayString)(e.getUiUrl),1)])),_:1})])),_:1},8,["style"]))])])]),e.group.tags.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",m,[(0,r.createVNode)(f,{tags:e.group.tags,"content-class":"text-white q-mb-xs q-pa-sm"},null,8,["tags"])])):(0,r.createCommentVNode)("",!0)])),_:1},8,["style"])):(0,r.createCommentVNode)("",!0)}var g=o(33437),f=o(47592),v=o(39938);const w=(0,r.defineComponent)({name:"groupCard",components:{groupTags:v.Z},props:{group:{type:Object,default:()=>({})}},data(){return{view_mode:"main",group_info:{about:""},info_is_loading:!1}},computed:{getUiUrl(){let e=`/manage/${this.group.groupname}`;return this.group.ui.custom_ui_url&&(0,f.jv)(this.group.ui.custom_ui_url)&&(e=this.group.ui.custom_ui_url),e},getGroupColor(){return this.group.ui.hexcolor.startsWith("#")?this.group.ui.hexcolor:`#${this.group.ui.hexcolor}`}},methods:{openURL:g.Z,switchViewMode(){"main"==this.view_mode?(this.view_mode="info",this.fetchGroupInfo()):this.view_mode="main"},fetchGroupInfo(){this.group_info.about=this.group.meta.about,this.info_is_loading=!0,setTimeout((()=>{this.info_is_loading=!1}),500)}}});var C=o(74260),k=o(10151),_=o(75096),b=o(24152),V=o(2165),x=o(5363),y=o(7518),N=o.n(y);const q=(0,C.Z)(w,[["render",h]]),G=q;N()(w,"components",{QCard:k.Z,QAvatar:_.Z,QImg:b.Z,QBtn:V.Z,QTooltip:x.Z});var B=o(40019);const Z=(0,r.defineComponent)({components:{groupCard:G},data(){return{searchfilter:"",menu_visible:!1,tabfilter:"favourites",location_hash:""}},computed:{...(0,n.Se)({getAccountName:"proton/getAccountName",getGroups:"app/getGroups",getFavouriteGroups:"user/getFavouriteGroups",getActiveNetwork:"proton/getActiveNetwork"}),getGroupsWithFilter(){let e=this.getGroups;return e?(e=e.filter((e=>e.state>0)),"all"==this.tabfilter||"favourites"==this.tabfilter&&(e=e.filter((e=>e.is_fav))),this.searchfilter?e.filter((e=>e.groupname.includes(this.searchfilter)||e.meta.about.includes(this.searchfilter)||this.arrayStartsWith(e.tags,this.searchfilter))):e):[]}},methods:{arrayStartsWith(e,t){let o=!1;for(let r=0;r<e.length;r++)if(e[r].startsWith(t)){o=!0;break}return o},async loadGroups(){this.is_loading_groups=!0,await this.$store.dispatch("app/fetchGroups",{vm:this}),this.is_loading_groups=!1}},mounted(){let e=window.location.hash;this.location_hash=e?window.location.hash:window.location.hash="#all",B.log(this.location_hash)},watch:{getActiveNetwork:{immediate:!0,handler:function(e,t){e!=t&&this.loadGroups()}},location_hash:{immediate:!0,handler(e,t){e!=t&&(this.tabfilter=e.substr(1))}},tabfilter:{immediate:!1,handler(e,t){e!=t&&e&&(window.location.hash=`#${e}`)}}}});var Q=o(24379),U=o(64689),E=o(24554),S=o(20811),z=o(27011),F=o(83414),I=o(52035),T=o(57547),A=o(58408),W=o(65869),$=o(6833),j=o(60677);const D=(0,C.Z)(Z,[["render",s]]),L=D;N()(Z,"components",{QPage:Q.Z,QInput:U.Z,QIcon:E.Z,QMenu:S.Z,QList:z.Z,QItem:F.Z,QItemSection:I.Z,QTabs:T.Z,QTab:A.Z,QSeparator:W.Z,QSpinner:$.Z}),N()(Z,"directives",{ClosePopup:j.Z})}}]);