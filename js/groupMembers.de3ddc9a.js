"use strict";(self["webpackChunkthedaoscapefrontend"]=self["webpackChunkthedaoscapefrontend"]||[]).push([[6646],{60611:(e,t,o)=>{o.r(t),o.d(t,{default:()=>$});var r=o(34182);const a={key:0,class:"text-right q-mb-md"},n=(0,r.createTextVNode)("Member Registration Enabled"),c=(0,r.createTextVNode)("Member Registration disabled"),l=(0,r.createElementVNode)("span",null,"Members",-1),i={key:0},s={class:"row items-center justify-center full-width"},m={class:"text-right q-mt-md"};function d(e,t,o,d,p,u){const h=(0,r.resolveComponent)("q-badge"),g=(0,r.resolveComponent)("q-icon"),C=(0,r.resolveComponent)("q-input"),f=(0,r.resolveComponent)("q-toolbar-title"),b=(0,r.resolveComponent)("q-space"),k=(0,r.resolveComponent)("q-toolbar"),v=(0,r.resolveComponent)("profile-pic"),N=(0,r.resolveComponent)("q-item-section"),V=(0,r.resolveComponent)("profile-link"),_=(0,r.resolveComponent)("q-item-label"),w=(0,r.resolveComponent)("q-btn"),x=(0,r.resolveComponent)("q-item"),B=(0,r.resolveComponent)("q-spinner"),y=(0,r.resolveComponent)("no-items"),Z=(0,r.resolveComponent)("q-list"),Q=(0,r.resolveComponent)("q-card"),q=(0,r.resolveComponent)("q-page");return(0,r.openBlock)(),(0,r.createBlock)(q,{padding:"",class:"constrain-page-width"},{default:(0,r.withCtx)((()=>[e.getCoreConfig?((0,r.openBlock)(),(0,r.createElementBlock)("div",a,[e.getCoreConfig.conf.member_registration?((0,r.openBlock)(),(0,r.createBlock)(h,{key:"enabled"},{default:(0,r.withCtx)((()=>[n])),_:1})):((0,r.openBlock)(),(0,r.createBlock)(h,{color:"negative",key:"disabled"},{default:(0,r.withCtx)((()=>[c])),_:1}))])):(0,r.createCommentVNode)("",!0),(0,r.createVNode)(C,{placeholder:"Find Member",outlined:"",modelValue:e.searchfilter,"onUpdate:modelValue":t[1]||(t[1]=t=>e.searchfilter=t),modelModifiers:{trim:!0},class:"q-mb-md"},{prepend:(0,r.withCtx)((()=>[(0,r.createVNode)(g,{name:"search",class:"cursor-pointer"})])),append:(0,r.withCtx)((()=>[(0,r.createVNode)(r.TransitionGroup,{appear:"","enter-active-class":"animated fadeInRight","leave-active-class":"animated fadeOutRight",tag:"div"},{default:(0,r.withCtx)((()=>[e.searchfilter.length?((0,r.openBlock)(),(0,r.createBlock)(g,{name:"close",key:"has_filter",onClick:t[0]||(t[0]=t=>e.searchfilter=""),class:"cursor-pointer"})):(0,r.createCommentVNode)("",!0)])),_:1})])),_:1},8,["modelValue"]),e.getActiveGroup?((0,r.openBlock)(),(0,r.createBlock)(Q,{key:1},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(k,{class:"bg-secondary text-white shadow-2"},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(f,{shrink:!0},{default:(0,r.withCtx)((()=>[l])),_:1}),(0,r.createVNode)(b),e.getCoreState?((0,r.openBlock)(),(0,r.createElementBlock)("div",i,"#"+(0,r.toDisplayString)(e.getCoreState.state.member_count),1)):(0,r.createCommentVNode)("",!0)])),_:1}),(0,r.createVNode)(Z,{class:"primary-hover-list",bordered:"",separator:""},{default:(0,r.withCtx)((()=>[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.getFilteredMembers,(t=>((0,r.openBlock)(),(0,r.createBlock)(x,{key:t.account,group:"members",to:`/members/${e.getActiveGroup}/profile/${t.account}`},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(N,{avatar:""},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(v,{size:42,account:t.account,icon:e.getIsGuardian(t.account)?"mdi-star":""},null,8,["account","icon"])])),_:2},1024),(0,r.createVNode)(N,null,{default:(0,r.withCtx)((()=>[(0,r.createVNode)(_,null,{default:(0,r.withCtx)((()=>[(0,r.createVNode)(V,{account:t.account,inversestyle:!0},null,8,["account"])])),_:2},1024)])),_:2},1024),(0,r.createVNode)(N,{side:""},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(w,{color:"primary",label:"view profile",to:`/members/${e.getActiveGroup}/profile/${t.account}`},null,8,["to"])])),_:2},1024)])),_:2},1032,["to"])))),128)),e.is_loading?((0,r.openBlock)(),(0,r.createBlock)(x,{key:0},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",s,[(0,r.createVNode)(B,{color:"primary",size:"24px"})])])),_:1})):(0,r.createCommentVNode)("",!0),e.is_loading||e.getFilteredMembers.length?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createBlock)(y,{key:1,text:"No members"}))])),_:1})])),_:1})):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("div",m,[(0,r.createVNode)(w,{label:"more",onClick:t[2]||(t[2]=t=>e.fetchMembers()),color:"primary",disabled:!e.more},null,8,["disabled"])])])),_:1})}var p=o(55250),u=o(37446),h=o(40379),g=o(3229),C=o(40019);const f=(0,r.defineComponent)({name:"members",components:{profilePic:u.Z,profileLink:h.Z,noItems:g.Z},data(){return{next_key:"",more:!1,members:[],is_loading:!1,searchfilter:""}},computed:{...(0,p.Se)({getAccountName:"proton/getAccountName",getActiveGroup:"group/getActiveGroup",getIsGuardian:"group/getIsGuardian",getCoreConfig:"group/getCoreConfig",getCoreState:"group/getCoreState"}),getFilteredMembers(){return""!=this.searchfilter?(this.searchfilter=this.searchfilter.toLowerCase(),this.members.filter((e=>e.account.includes(this.searchfilter)))):this.members}},methods:{async fetchMembers(){this.is_loading=!0;let e=await this.$eos.api.rpc.get_table_rows({json:!0,code:this.getActiveGroup,scope:this.getActiveGroup,table:"members",lower_bound:this.next_key,limit:10}).catch((e=>!1));e&&(C.log(e),this.members=this.members.concat(e.rows),e.more&&(this.next_key=e.next_key),this.more=e.more),this.is_loading=!1}},mounted(){this.fetchMembers()}});var b=o(74260),k=o(24379),v=o(69721),N=o(64689),V=o(24554),_=o(5363),w=o(10151),x=o(39570),B=o(13747),y=o(62025),Z=o(27011),Q=o(60429),q=o(52035),G=o(2350),I=o(65869),M=o(25589),S=o(2165),A=o(83414),E=o(6833),T=o(7518),F=o.n(T);const L=(0,b.Z)(f,[["render",d]]),$=L;F()(f,"components",{QPage:k.Z,QBadge:v.Z,QInput:N.Z,QIcon:V.Z,QTooltip:_.Z,QCard:w.Z,QToolbar:x.Z,QToolbarTitle:B.Z,QSpace:y.Z,QList:Z.Z,QExpansionItem:Q.Z,QItemSection:q.Z,QItemLabel:G.Z,QSeparator:I.Z,QCardSection:M.Z,QBtn:S.Z,QItem:A.Z,QSpinner:E.Z})}}]);