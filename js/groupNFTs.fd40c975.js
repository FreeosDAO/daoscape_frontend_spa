"use strict";(self["webpackChunkthedaoscapefrontend"]=self["webpackChunkthedaoscapefrontend"]||[]).push([[6657],{42238:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Z});var o=a(34182);const n={key:"loading",class:"col-xs-12 nft"},c=(0,o.createTextVNode)(" Loading "),l={key:"loading",class:"col-xs-12 nft"},r=(0,o.createTextVNode)(" This DAO doesn't hold any NFTs. "),s={key:"loading",class:"col-xs-12 nft"},i={key:1,controls:"",muted:"",loop:"",preload:"auto"},d=["src"],p={class:"row no-wrap items-center text-grey text-caption"},m={class:"col ellipsis"},g={class:"col-auto row no-wrap items-center"},h={class:"row no-wrap items-center"},f={class:"col text-h6 ellipsis"},u={class:"text-h6"},k={class:"row align-center justify-center q-mt-lg"},N=(0,o.createTextVNode)(" Load More ");function C(e,t,a,C,v,w){const V=(0,o.resolveComponent)("page-header"),x=(0,o.resolveComponent)("q-card-section"),y=(0,o.resolveComponent)("q-card"),B=(0,o.resolveComponent)("q-img"),_=(0,o.resolveComponent)("q-separator"),E=(0,o.resolveComponent)("q-btn"),A=(0,o.resolveComponent)("q-card-actions"),b=(0,o.resolveComponent)("q-page");return(0,o.openBlock)(),(0,o.createBlock)(b,{padding:"",class:"constrain-page-width q-pb-lg"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(V,{title:"NFTs"}),(0,o.createVNode)(o.TransitionGroup,{appear:"","enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut",class:"row q-col-gutter-md q-mt-md items-stretch",tag:"div"},{default:(0,o.withCtx)((()=>[e.nftsLoading?((0,o.openBlock)(),(0,o.createElementBlock)("div",n,[(0,o.createVNode)(y,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(x,{class:"bg-grey-9 text-white loading"},{default:(0,o.withCtx)((()=>[c])),_:1})])),_:1})])):(0,o.createCommentVNode)("",!0),e.nftsLoading||e.nfts.length||e.error?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createVNode)(y,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(x,{class:"bg-grey-9 text-white loading"},{default:(0,o.withCtx)((()=>[r])),_:1})])),_:1})])),!e.nftsLoading&&e.error?((0,o.openBlock)(),(0,o.createElementBlock)("div",s,[(0,o.createVNode)(y,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(x,{class:"bg-grey-9 text-white loading"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.error),1)])),_:1})])),_:1})])):(0,o.createCommentVNode)("",!0),e.nfts.length?((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,{key:3},(0,o.renderList)(e.nfts,(t=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:t.asset_id,class:"col-xs-12 col-sm-6 col-md-4 col-lg-4 col-xl-4 nft"},[(0,o.createVNode)(y,null,{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("figure",null,["image"in t.data&&t.data.image?((0,o.openBlock)(),(0,o.createBlock)(B,{key:0,src:"https://bloks.io/cdn-cgi/image/width=500/https://proton.mypinata.cloud/ipfs/"+t.data.image,alt:t.data.name},null,8,["src","alt"])):"video"in t.data&&t.data.video?((0,o.openBlock)(),(0,o.createElementBlock)("video",i,[(0,o.createElementVNode)("source",{src:"https://proton.mypinata.cloud/ipfs/"+t.data.video},null,8,d)])):((0,o.openBlock)(),(0,o.createBlock)(B,{key:2,src:"https://via.placeholder.com/1080x720/dddddd/000000/?text=NO%20MEDIA",alt:t.data.name},null,8,["alt"]))]),(0,o.createVNode)(x,null,{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",p,[(0,o.createElementVNode)("div",m,(0,o.toDisplayString)("name"in t.collection&&t.collection.name?t.collection.name:t.collection.collection_name),1),(0,o.createElementVNode)("div",g," #"+(0,o.toDisplayString)(t.template_mint),1)]),(0,o.createElementVNode)("div",h,[(0,o.createElementVNode)("div",f,[(0,o.createElementVNode)("p",u,(0,o.toDisplayString)(t.data.name),1)])])])),_:2},1024),(0,o.createVNode)(_),(0,o.createVNode)(A,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(E,{flat:"",color:"primary",target:"_blank","icon-right":"mdi-open-in-new",align:"between",label:"View",href:e.getAppConfig.nft.url+"/"+t.collection.collection_name+"/"+t.template.template_id},null,8,["href"])])),_:2},1024)])),_:2},1024)])))),128)):(0,o.createCommentVNode)("",!0)])),_:1}),(0,o.createElementVNode)("div",k,[this.checkData.length?((0,o.openBlock)(),(0,o.createBlock)(E,{key:0,onClick:t[0]||(t[0]=t=>e.checkForMoreNFTs()),flat:"",color:"secondary"},{default:(0,o.withCtx)((()=>[N])),_:1})):(0,o.createCommentVNode)("",!0)])])),_:1})}a(10071);var v=a(33314),w=a(55250),V=a(40019);const x=(0,o.defineComponent)({name:"groupNfts",components:{pageHeader:v.Z},data(){return{nftsLoading:!0,nfts:[],perPage:6,page:1,checkData:[],error:!1}},computed:{...(0,w.Se)({getActiveGroup:"group/getActiveGroup",getAppConfig:"app/getAppConfig"})},mounted(){this.getNftsFromAtomic()},methods:{async getNftsFromAtomic(){let e=await this.callAtomic();if(V.log("nfts",e),this.nftsLoading=!1,this.nfts=e.data.data,!this.nfts.length)return!0;this.checkForMoreNFTs()},async checkForMoreNFTs(){this.page++,this.nfts.push(...this.checkData),this.checkData={};let e=await this.callAtomic();V.log("more check",e),this.checkData=e.data.data},async callAtomic(){let e=this.getAppConfig.nft.api+"/atomicassets/v1/assets?owner="+this.getActiveGroup+"&page="+this.page+"&limit="+this.perPage+"&order=desc&sort=asset_id";return V.warn("calling",e),await this.$axios.get(e).catch((e=>{this.nftsLoading=!1,this.error=e}))}}});var y=a(74260),B=a(24379),_=a(10151),E=a(25589),A=a(24152),b=a(65869),q=a(99367),D=a(2165),F=a(7518),T=a.n(F);const L=(0,y.Z)(x,[["render",C],["__scopeId","data-v-d1c344da"]]),Z=L;T()(x,"components",{QPage:B.Z,QCard:_.Z,QCardSection:E.Z,QImg:A.Z,QSeparator:b.Z,QCardActions:q.Z,QBtn:D.Z})}}]);