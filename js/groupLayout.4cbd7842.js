"use strict";(self["webpackChunkthedaoscapefrontend"]=self["webpackChunkthedaoscapefrontend"]||[]).push([[3387],{84236:(e,t,o)=>{o.r(t),o.d(t,{default:()=>_e});var a=o(34182);const r=["src"],n=["src"],l={key:1,class:"text-primary text-subtitle text-uppercase q-ml-sm"},c=(0,a.createTextVNode)("Members"),i=(0,a.createTextVNode)("Switch To Member Menu"),s=(0,a.createTextVNode)("Members Disabled"),d=(0,a.createTextVNode)("Management"),u=(0,a.createTextVNode)("Switch To Management Menu"),m=(0,a.createTextVNode)("--\x3e "),p=(0,a.createTextVNode)("Reload Group"),h=(0,a.createTextVNode)(" Toggle mini menu "),g={class:"bg-secondary footer-border-top"};function C(e,t,o,C,f,N){const V=(0,a.resolveComponent)("q-btn"),x=(0,a.resolveComponent)("main-logo"),w=(0,a.resolveComponent)("router-link"),k=(0,a.resolveComponent)("q-toolbar-title"),v=(0,a.resolveComponent)("q-route-tab"),_=(0,a.resolveComponent)("q-tabs"),b=(0,a.resolveComponent)("login-network-switcher"),y=(0,a.resolveComponent)("q-toolbar"),B=(0,a.resolveComponent)("q-header"),A=(0,a.resolveComponent)("q-icon"),G=(0,a.resolveComponent)("q-item-section"),$=(0,a.resolveComponent)("q-item-label"),T=(0,a.resolveComponent)("q-item"),Z=(0,a.resolveComponent)("q-list"),q=(0,a.resolveComponent)("q-menu"),Q=(0,a.resolveComponent)("managementMenu"),M=(0,a.resolveComponent)("membersMenu"),I=(0,a.resolveComponent)("q-spinner"),S=(0,a.resolveComponent)("q-scroll-area"),D=(0,a.resolveComponent)("q-tooltip"),L=(0,a.resolveComponent)("q-toggle"),E=(0,a.resolveComponent)("q-drawer"),P=(0,a.resolveComponent)("router-view"),U=(0,a.resolveComponent)("q-page-scroller"),R=(0,a.resolveComponent)("footer-content"),z=(0,a.resolveComponent)("q-page-container"),W=(0,a.resolveComponent)("q-layout"),H=(0,a.resolveDirective)("ripple"),j=(0,a.resolveDirective)("close-popup");return(0,a.openBlock)(),(0,a.createBlock)(W,{view:"hHh Lpr lff"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(B,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,{style:{height:"60px"},class:"bg-secondary"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{flat:"",round:"",dense:"",icon:e.leftDrawer?"close":"menu",onClick:t[0]||(t[0]=t=>e.leftDrawer=!e.leftDrawer),class:"q-mr-xs"},null,8,["icon"]),(0,a.createVNode)(x),e.getActiveGroupConfig&&e.getActiveGroupConfig.ui.logo?((0,a.openBlock)(),(0,a.createBlock)(w,{key:0,to:`/manage/${e.getActiveGroupConfig.groupname}`,class:"row items-center q-ml-sm"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("img",{src:e.getActiveGroupConfig.ui.logo,style:{"max-height":"40px","max-width":"200px"},class:"gt-xs"},null,8,r),(0,a.createElementVNode)("img",{src:e.getActiveGroupConfig.ui.logo,style:{height:"25px"},class:"lt-sm"},null,8,n)])),_:1},8,["to"])):((0,a.openBlock)(),(0,a.createElementBlock)("span",l,(0,a.toDisplayString)(e.getActiveGroup),1)),(0,a.createVNode)(k),(0,a.createVNode)(_,{shrink:"",stretch:"",class:"q-mr-sm","indicator-color":"primary",align:"right"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{label:"Browse",to:"/browse"})])),_:1}),(0,a.createVNode)(b)])),_:1})])),_:1}),(0,a.createVNode)(E,{modelValue:e.leftDrawer,"onUpdate:modelValue":t[5]||(t[5]=t=>e.leftDrawer=t),behavior:"default",side:"left",width:275,bordered:!1,"show-if-above":!1,class:"bg-secondary",mini:e.miniState},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Z,{class:"absolute-top"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createBlock)(T,{clickable:"",style:{height:"60px"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(G,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(A,{name:"mdi-account-group",color:"primary",style:{"margin-top":"-4px"}})])),_:1}),(0,a.createVNode)(G,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)($,{class:"text-primary text-uppercase",style:{"margin-left":"-29px"}},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.getActiveGroup),1)])),_:1})])),_:1})])),_:1})),[[H,void 0,"primary"]]),(0,a.createVNode)(q,{fit:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(Z,{style:{"min-width":"200px"},class:"primary-hover-list",separator:""},{default:(0,a.withCtx)((()=>[e.getCoreConfig&&"management"==e.menu_mode?(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createBlock)(T,{key:0,clickable:"",class:"text-right"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(G,{side:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{round:"",icon:"close",flat:"",color:"primary"})])),_:1}),e.getCoreConfig.conf.member_registration?((0,a.openBlock)(),(0,a.createBlock)(G,{key:0,onClick:t[1]||(t[1]=t=>e.menu_mode="members")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)($,null,{default:(0,a.withCtx)((()=>[c])),_:1}),(0,a.createVNode)($,{caption:""},{default:(0,a.withCtx)((()=>[i])),_:1})])),_:1})):((0,a.openBlock)(),(0,a.createBlock)(G,{key:1},{default:(0,a.withCtx)((()=>[(0,a.createVNode)($,null,{default:(0,a.withCtx)((()=>[s])),_:1})])),_:1}))])),_:1})),[[j]]):(0,a.createCommentVNode)("",!0),"members"==e.menu_mode?(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createBlock)(T,{key:1,clickable:"",class:"text-right"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(G,{side:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{round:"",icon:"close",flat:"",color:"primary"})])),_:1}),(0,a.createVNode)(G,{onClick:t[2]||(t[2]=t=>e.menu_mode="management")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)($,null,{default:(0,a.withCtx)((()=>[d])),_:1}),(0,a.createVNode)($,{caption:""},{default:(0,a.withCtx)((()=>[u])),_:1})])),_:1})])),_:1})),[[j]]):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1}),m])),_:1}),(0,a.createVNode)(S,{style:(0,a.normalizeStyle)("height:calc(100% - 60px); margin-top: 60px; "),class:"overflow-hidden"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(a.Transition,{tag:"div",appear:"","enter-active-class":"animated fadeInLeft","leave-active-class":"animated fadeOutLeft",mode:"out-in"},{default:(0,a.withCtx)((()=>["management"===e.menu_mode?((0,a.openBlock)(),(0,a.createBlock)(Q,{key:"management_menu"})):"members"===e.menu_mode?((0,a.openBlock)(),(0,a.createBlock)(M,{key:"members_menu"})):(0,a.createCommentVNode)("",!0)])),_:1}),(0,a.createVNode)(Z,{class:"text-grey-4"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(T,{clickable:"",onClick:t[3]||(t[3]=t=>e.loadGroup(e.getActiveGroup))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(G,{avatar:""},{default:(0,a.withCtx)((()=>[e.group_is_loading?((0,a.openBlock)(),(0,a.createBlock)(I,{key:1,color:"primary",size:"20px"})):((0,a.openBlock)(),(0,a.createBlock)(A,{key:0,name:"refresh"}))])),_:1}),(0,a.createVNode)(G,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)($,null,{default:(0,a.withCtx)((()=>[p])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["style"]),(0,a.createVNode)(L,{modelValue:e.miniState,"onUpdate:modelValue":t[4]||(t[4]=t=>e.miniState=t),class:"absolute-bottom-right"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(D,{class:"bg-primary",delay:500},{default:(0,a.withCtx)((()=>[h])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["modelValue","mini"]),(0,a.createVNode)(z,{class:"text-black overflow-hidden"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(P,null,{default:(0,a.withCtx)((({Component:e})=>[(0,a.createVNode)(a.Transition,{appear:"","enter-active-class":"animated fadeInRight",mode:"out-in"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)(e)))])),_:2},1024)])),_:1}),(0,a.createVNode)(U,{position:"bottom-right","scroll-offset":150,offset:[18,18]},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{fab:"",icon:"keyboard_arrow_up",color:"primary"})])),_:1}),(0,a.createElementVNode)("footer",g,[(0,a.createVNode)(R)])])),_:1})])),_:1})}var f=o(49905),N=o(55250),V=o(44494);const x=(0,a.createTextVNode)("Group Info"),w=(0,a.createTextVNode)("Proposals"),k={key:1},v={key:0},_={key:1},b=(0,a.createTextVNode)("Wallet"),y=(0,a.createTextVNode)("NFTs"),B=(0,a.createTextVNode)("Payroll"),A=(0,a.createTextVNode)("Hooks"),G=(0,a.createTextVNode)("Thresholds"),$=(0,a.createTextVNode)("Files"),T=(0,a.createTextVNode)("Guardians"),Z=(0,a.createTextVNode)("Configuration");function q(e,t,o,r,n,l){const c=(0,a.resolveComponent)("q-icon"),i=(0,a.resolveComponent)("q-item-section"),s=(0,a.resolveComponent)("q-item-label"),d=(0,a.resolveComponent)("q-item"),u=(0,a.resolveComponent)("q-tooltip"),m=(0,a.resolveComponent)("q-btn"),p=(0,a.resolveComponent)("q-list");return(0,a.openBlock)(),(0,a.createBlock)(p,{class:(0,a.normalizeClass)(["primary-hover-list",e.$q.dark.isActive?"bg-dark":"bg-grey-3"]),separator:!e.$q.dark.isActive},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{clickable:"",to:`/manage/${e.getActiveGroup}`,exact:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"mdi-cellphone-information"})])),_:1}),(0,a.createVNode)(i,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[x])),_:1})])),_:1})])),_:1},8,["to"]),(0,a.createVNode)(d,{clickable:"",to:`/manage/${e.getActiveGroup}/proposals`},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"mdi-file-key"})])),_:1}),(0,a.createVNode)(i,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[w])),_:1})])),_:1}),(0,a.createVNode)(i,{side:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{unelevated:"",round:"",flat:!1,size:"sm",color:e.$route.path!=`/manage/${e.getActiveGroup}/new-proposal`?"secondary":"primary",onClick:e.handleNewProposal},{default:(0,a.withCtx)((()=>[0==e.getActionBucket.length?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,name:"add",color:"white"})):((0,a.openBlock)(),(0,a.createElementBlock)("span",k,(0,a.toDisplayString)(e.getActionBucket.length),1)),(0,a.createVNode)(u,{class:"bg-secondary"},{default:(0,a.withCtx)((()=>[0==e.getActionBucket.length?((0,a.openBlock)(),(0,a.createElementBlock)("span",v,"New Proposal")):((0,a.openBlock)(),(0,a.createElementBlock)("span",_,(0,a.toDisplayString)(`Bucket contains ${e.getActionBucket.length} actions`),1))])),_:1})])),_:1},8,["color","onClick"])])),_:1})])),_:1},8,["to"]),e.isUserGuardian?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,clickable:"",to:`/manage/${e.getActiveGroup}/wallet`},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"mdi-wallet"})])),_:1}),(0,a.createVNode)(i,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[b])),_:1})])),_:1})])),_:1},8,["to"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(d,{clickable:"",to:`/manage/${e.getActiveGroup}/nfts`},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"mdi-image-search"})])),_:1}),(0,a.createVNode)(i,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[y])),_:1})])),_:1})])),_:1},8,["to"]),e.getModuleByName("payroll")&&e.isUserGuardian?((0,a.openBlock)(),(0,a.createBlock)(d,{key:1,clickable:"",to:`/manage/${e.getActiveGroup}/payroll`},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"mdi-account-cash"})])),_:1}),(0,a.createVNode)(i,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[B])),_:1})])),_:1})])),_:1},8,["to"])):(0,a.createCommentVNode)("",!0),e.getModuleByName("hooks")&&e.isUserGuardian?((0,a.openBlock)(),(0,a.createBlock)(d,{key:2,clickable:"",to:`/manage/${e.getActiveGroup}/hooks`},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"mdi-anchor"})])),_:1}),(0,a.createVNode)(i,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[A])),_:1})])),_:1})])),_:1},8,["to"])):(0,a.createCommentVNode)("",!0),e.isUserGuardian?((0,a.openBlock)(),(0,a.createBlock)(d,{key:3,clickable:"",to:`/manage/${e.getActiveGroup}/thresholds`},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"mdi-chart-gantt",class:"rotate-270"})])),_:1}),(0,a.createVNode)(i,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[G])),_:1})])),_:1})])),_:1},8,["to"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(d,{clickable:"",to:`/manage/${e.getActiveGroup}/files`},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"mdi-file-document"})])),_:1}),(0,a.createVNode)(i,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[$])),_:1})])),_:1})])),_:1},8,["to"]),(0,a.createVNode)(d,{clickable:"",to:`/manage/${e.getActiveGroup}/guardians`},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"mdi-account-key"})])),_:1}),(0,a.createVNode)(i,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[T])),_:1})])),_:1})])),_:1},8,["to"]),e.isUserGuardian?((0,a.openBlock)(),(0,a.createBlock)(d,{key:4,clickable:"",to:`/manage/${e.getActiveGroup}/modules`},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"mdi-settings"})])),_:1}),(0,a.createVNode)(i,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[Z])),_:1})])),_:1})])),_:1},8,["to"])):(0,a.createCommentVNode)("",!0)])),_:1},8,["class","separator"])}const Q=(0,a.defineComponent)({name:"managementMenu",data(){return{}},computed:{...(0,N.Se)({getActiveGroup:"group/getActiveGroup",getResourcesLowWarning:"group/getResourcesLowWarning",getActionBucket:"bucket/getActionBucket",getModuleByName:"group/getModuleByName",getIsGuardian:"group/getIsGuardian",getAccountName:"proton/getAccountName"}),isUserGuardian(){return!!this.getIsGuardian(this.getAccountName)}},methods:{handleNewProposal(){setTimeout((()=>{this.$router.push(`/manage/${this.getActiveGroup}/new-proposal`)}),0)}}});var M=o(74260),I=o(27011),S=o(83414),D=o(52035),L=o(24554),E=o(2350),P=o(2165),U=o(5363),R=o(7518),z=o.n(R);const W=(0,M.Z)(Q,[["render",q]]),H=W;z()(Q,"components",{QList:I.Z,QItem:S.Z,QItemSection:D.Z,QIcon:L.Z,QItemLabel:E.Z,QBtn:P.Z,QTooltip:U.Z});const j=(0,a.createTextVNode)("Profile"),F=(0,a.createTextVNode)("Elections"),O=(0,a.createTextVNode)("Register"),J=(0,a.createTextVNode)("My Tokens");function K(e,t,o,r,n,l){const c=(0,a.resolveComponent)("q-icon"),i=(0,a.resolveComponent)("q-item-section"),s=(0,a.resolveComponent)("q-item-label"),d=(0,a.resolveComponent)("q-item"),u=(0,a.resolveComponent)("q-list");return(0,a.openBlock)(),(0,a.createBlock)(u,{class:(0,a.normalizeClass)(["primary-hover-list",e.$q.dark.isActive?"bg-dark":"bg-grey-3"]),separator:!e.$q.dark.isActive},{default:(0,a.withCtx)((()=>[e.getIsMember?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,clickable:"",to:`/members/${e.getActiveGroup}/profile/${e.getAccountName}`},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"mdi-face-profile"})])),_:1}),(0,a.createVNode)(i,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[j])),_:1})])),_:1})])),_:1},8,["to"])):(0,a.createCommentVNode)("",!0),e.getModuleByName("elections")?((0,a.openBlock)(),(0,a.createBlock)(d,{key:1,clickable:"",to:`/members/${e.getActiveGroup}/elections`},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"mdi-vote"})])),_:1}),(0,a.createVNode)(i,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[F])),_:1})])),_:1})])),_:1},8,["to"])):(0,a.createCommentVNode)("",!0),e.getIsMember?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(d,{key:2,clickable:"",to:`/members/${e.getActiveGroup}/register`},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"mdi-account-plus"})])),_:1}),(0,a.createVNode)(i,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[O])),_:1})])),_:1})])),_:1},8,["to"])),e.getIsMember?((0,a.openBlock)(),(0,a.createBlock)(d,{key:3,clickable:"",to:`/members/${e.getActiveGroup}/my-tokens`},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{avatar:""},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{name:"mdi-currency-usd"})])),_:1}),(0,a.createVNode)(i,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[J])),_:1})])),_:1})])),_:1},8,["to"])):(0,a.createCommentVNode)("",!0)])),_:1},8,["class","separator"])}const X=(0,a.defineComponent)({name:"membersMenu",data(){return{}},computed:{...(0,N.Se)({getActiveGroup:"group/getActiveGroup",getAccountName:"proton/getAccountName",getModuleByName:"group/getModuleByName",getIsMember:"user/getIsMember"})}}),Y=(0,M.Z)(X,[["render",K]]),ee=Y;z()(X,"components",{QList:I.Z,QItem:S.Z,QItemSection:D.Z,QIcon:L.Z,QItemLabel:E.Z});var te=o(72663);const oe=e=>void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length,ae=oe;var re=o(20614),ne=o(96610),le=o(40019);const ce=(0,a.defineComponent)({name:"GroupLayout",components:{loginNetworkSwitcher:V.Z,managementMenu:H,membersMenu:ee,mainLogo:re.Z,footerContent:ne.Z},data(){return{leftDrawer:!0,miniState:this.$store.state.user.miniState,group_is_loading:!1,selected_group:"",menu_mode:"management",unsubscribeTransactions:null}},computed:{...(0,N.Se)({getAccountName:"proton/getAccountName",getActiveGroup:"group/getActiveGroup",getActiveGroupConfig:"group/getActiveGroupConfig",getCoreConfig:"group/getCoreConfig",getElectionsConfig:"elections/getElectionsConfig"}),groupconfigAndAccountLoaded(){return{getActiveGroupConfig:this.getActiveGroupConfig,getAccountName:this.getAccountName}}},mounted(){this.$route.path.startsWith("/manage")?this.menu_mode="management":this.$route.path.startsWith("/members")&&(this.menu_mode="members"),this.unsubscribeTransactions=this.$store.subscribeAction({after:e=>{"proton/transact"==e.type&&this.loadGroup(this.getActiveGroup)}})},beforeUnmount(){this.unsubscribeTransactions&&(this.unsubscribeTransactions(),this.unsubscribeTransactions=null)},watch:{"$route.params.groupname":{immediate:!0,handler(e,t){e&&e!=t&&this.loadGroup(e)}},menu_mode:{immediate:!1,handler(e,t){if("members"==e){if(le.log(`/members/${this.$route.params.groupname}/dashboard`),"members"===this.$route.path.split("/")[1])return;this.getAccountName?this.$router.push(`/members/${this.$route.params.groupname}/profile/${this.getAccountName}`).catch((e=>{})):this.getElectionsConfig&&this.getElectionsConfig.elections?this.$router.push(`/members/${this.$route.params.groupname}/elections`).catch((e=>{})):this.$router.push(`/members/${this.$route.params.groupname}/register`).catch((e=>{})),(0,te.QD)({message:"you switched to members menu."})}else this.$router.push(`/manage/${this.$route.params.groupname}`).catch((e=>{})),(0,te.QD)({message:"you switched to management menu."})}},groupconfigAndAccountLoaded:{immediate:!0,handler(e,t){e&&this.getAccountName&&this.getActiveGroupConfig&&this.$store.dispatch("user/fetchIsMember",{accountname:this.getAccountName,vm:this})}},miniState:{immediate:!0,handler(e,t){this.$store.commit("user/setMiniState",e)}}},methods:{getCssVar:f.Z,isEmpty:ae,async loadGroup(e){this.group_is_loading=!0,await this.$store.dispatch("group/loadGroupRoutine",{groupname:e,vm:this}),await new Promise((e=>setTimeout(e,400))),this.$q.addressbarColor.set((0,f.Z)("primary")),this.group_is_loading=!1}}});var ie=o(19214),se=o(53812),de=o(39570),ue=o(13747),me=o(57547),pe=o(42770),he=o(52901),ge=o(20811),Ce=o(47704),fe=o(6833),Ne=o(28886),Ve=o(72652),xe=o(84710),we=o(80860),ke=o(60677);const ve=(0,M.Z)(ce,[["render",C]]),_e=ve;z()(ce,"components",{QLayout:ie.Z,QHeader:se.Z,QToolbar:de.Z,QBtn:P.Z,QToolbarTitle:ue.Z,QTabs:me.Z,QRouteTab:pe.Z,QDrawer:he.Z,QList:I.Z,QItem:S.Z,QItemSection:D.Z,QIcon:L.Z,QItemLabel:E.Z,QMenu:ge.Z,QScrollArea:Ce.Z,QSpinner:fe.Z,QToggle:Ne.Z,QTooltip:U.Z,QPageContainer:Ve.Z,QPageScroller:xe.Z}),z()(ce,"directives",{Ripple:we.Z,ClosePopup:ke.Z})}}]);